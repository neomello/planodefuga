!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="49f38b97-c325-48b4-b2e6-e2ffa9049c60",e._sentryDebugIdIdentifier="sentry-dbid-49f38b97-c325-48b4-b2e6-e2ffa9049c60")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3103],{95457:function(e,n,t){t.d(n,{T:function(){return d}});var r=t(2784),l=t(27853),i=t(10906),a=t(35282),o=t(2586),s=t(16480),c=t(10312),u=t(52322),d=function(e){var n=e.className,t=e.isLoadingExternal,d=(0,c.g_)(),h=d.query,m=d.push,f=d.asPath,p=(0,i.tq)().discordAuth.isLoading,v=(0,i.Oo)().apiServiceV1,x=(0,r.useState)(""),y=x[0],g=x[1],b=(0,r.useState)(""),j=b[0],k=b[1];(0,r.useEffect)(function(){s.kg.debug("ConnectDiscord: discord auth is loading? ".concat(p||t))},[p,t]),(0,r.useEffect)(function(){null!=h&&h.code||(s.kg.debug("ConnectDiscord - no url query string code, so requesting getDiscordPublicConfig"),v.getDiscordPublicConfig().then(function(e){g(e.redirectUri),k(e.clientId)}).catch(s.O7))},[v,null==h?void 0:h.code]);var w=function(){if(!p&&f){var e=encodeURIComponent(f),n=o.j.getDiscordUrl(j,y,e);s.kg.debug("ConnectDiscord - redirecting to discord"),null==m||m(n).catch(s.O7)}};return(0,u.jsx)(a.z,{className:(0,l.Z)("hel-rounded-3xl hel-w-full",n,p||t?"hel-cursor-wait":""),onClick:function(){return w()},disabled:p||t,children:p||t?"Validating Discord...":"Login with Discord"})}},51764:function(e,n,t){t.d(n,{g:function(){return d}});var r=t(95235),l=t(82269),i=t(35282),a=t(22204),o=t(52322),s=["showTooltip","tooltipTitle","tooltipClassName"];function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach(function(n){(0,r.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var d=function(e){var n=e.showTooltip,t=e.tooltipTitle,r=e.tooltipClassName,c=(0,l.Z)(e,s);return void 0===n||n?(0,o.jsx)(a.u,{title:t,childrenClassName:r,children:(0,o.jsx)(i.z,u({},c))}):(0,o.jsx)(i.z,u({},c))}},39641:function(e,n,t){t.d(n,{j:function(){return r}});var r="hel-flex hel-flex-col hel-gap-y-1"},49196:function(e,n,t){t.d(n,{B:function(){return k}});var r=t(95235),l=t(22219),i=t(72467),a=t(44720),o=t(55674),s=t(27853),c=t(2784),u=t(34015),d=function(e,n){var t=!(arguments.length>2)||void 0===arguments[2]||arguments[2],r=function(t){e.current&&!e.current.contains(t.target)&&n()};(0,c.useEffect)(function(){return t&&document.addEventListener("click",r),function(){document.removeEventListener("click",r)}})},h=t(36511),m=t(68277),f=t(73275),p=t(52322),v=function(e){var n,t,i,a=e.animatedCheckoutUI,o=e.redirect,v=e.currentWalletType,x=(0,h.q)().disconnect,y=[{label:"Disconnect wallet",action:function(){x(o)},icon:"Exit"}],g=(0,c.useState)(!1),b=g[0],j=g[1],k=(0,c.useRef)(null);return d(k,function(){return j(!1)}),(0,p.jsxs)("div",{ref:k,onBlur:function(e){e.currentTarget.contains(e.relatedTarget)||j(!1)},children:[(0,p.jsx)(f.F,{onClick:function(){return j(function(e){return!e})},className:(0,s.Z)((n={},(0,r.Z)(n,"helio-background-container helio-shadow-wallet-button hel-m-auto hel-flex hel-w-8 hel-h-8 hel-rounded-full hel-cursor-pointer hel-items-center hel-justify-center hel-mr-0",!a),(0,r.Z)(n,"hel-flex hel-h-6 hel-w-6 hel-items-center hel-justify-center",a),(0,r.Z)(n,"helio-button-not-rounded",!0),n)),children:v===l.WalletType.WEB3AUTH?(0,p.jsx)(m.J,{iconName:a?"ChevronDown":"helio",className:(0,s.Z)("helio-fill-primary",(t={},(0,r.Z)(t,"hel-w-6 hel-h-6",!a),(0,r.Z)(t,"hel-block hel-w-auto hel-h-auto",a),t))}):(0,p.jsx)(m.J,{iconName:a?"ChevronDown":"Wallet",className:(0,s.Z)("helio-fill-primary",(i={},(0,r.Z)(i,"hel-w-6 hel-h-6",!a),(0,r.Z)(i,"hel-block hel-w-auto hel-h-auto",a),i))})}),(0,p.jsx)("ul",{className:"helio-background-container hel-w-[200px] hel-absolute hel-z-30 hel-rounded-lg hel-top-1 hel-right-11 focus:hel-outline-none",children:b&&(0,p.jsx)("div",{children:y.map(function(e,n){return(0,p.jsxs)("li",{tabIndex:0,role:"button",className:(0,s.Z)("helio-background-selected-item@hover hel-flex hel-flex-row hel-p-3 hel-rounded-lg hel-cursor-pointer hel-items-center hel-gap-x-2 hover:hel-rounded-lg first:hel-rounded-b-none last:hel-rounded-t-none"),onClick:e.action,onKeyDown:function(n){return(0,u.S)(n,e.action)},children:[(0,p.jsx)(m.J,{iconName:e.icon,className:"helio-fill-label hel-w-5 hel-h-5 hel-z-50"}),(0,p.jsx)("p",{className:"helio-text-label hel-text-[12px] hel-flex-1",children:e.label})," ",e.child&&(0,p.jsx)("div",{className:"hel-justify-end",children:e.child})]},"".concat(e.label).concat(n))})})})]})},x=t(3979),y=function(e){var n=e.animatedCheckoutUI,t=void 0!==n&&n,r=e.publicKey,l=e.walletType;return(0,p.jsx)(x.p,{animatedCheckoutUI:t,publicKey:r,type:l,children:(0,p.jsx)(v,{animatedCheckoutUI:t,currentWalletType:l})})},g=t(73968),b=t(7083),j=t(92669),k=function(e){var n,t,c=(0,i.Eu)().payload,u=(0,a.O)().publicKey,d=(0,o.m)().address,h=(0,i.Gn)().paymentAddress,m=(0,b.rI)().blockchain,f=null!=u?String(u):void 0,v=g.A.getPublicKey(m&&g.A.blockchainSymbolToEngineType(m),(n={},(0,r.Z)(n,l.BlockchainEngineType.SOL,f),(0,r.Z)(n,l.BlockchainEngineType.EVM,d),(0,r.Z)(n,l.BlockchainEngineType.BTC,h),n));return(0,p.jsx)("div",{className:(0,s.Z)("hel-w-full",e.className),children:v&&(0,p.jsx)(j.D,{animatedCheckoutUI:!0,blockchain:m,hideUserTypeToggle:!0,publicKey:v,showHelioX:!1,children:(0,p.jsx)(y,{animatedCheckoutUI:!0,publicKey:v,walletType:null==c||null===(t=c.wallet)||void 0===t?void 0:t.type})})})}},50648:function(e,n,t){t.d(n,{b:function(){return y},i:function(){return x}});var r=t(2784),l=t(94449),i=t(35282),a=t(12529),o=t(75052),s=t(33939),c=t(54787),u=t(10312),d=t(7083),h=t(21809),m=t(95503),f=t(33381),p=t(71787),v=t(52322),x=function(e){var n,t,i=e.onContinue,a=e.onDismiss,o=e.userHasAgreed,s=(0,l.v9)(m.qx),c=(0,d.rI)().paymentRequest,u=(null==s||null===(n=s.owner)||void 0===n||null===(n=n.company)||void 0===n?void 0:n.twitterConfirmed)&&(null==s||null===(t=s.owner)||void 0===t?void 0:t.company.twitterUsername)||void 0,h=(0,l.v9)(m.gd),f=(0,r.useState)(!1),p=f[0],v=f[1];return{startUnverifiedWarningModal:(0,r.useCallback)(function(){if(h||o||null!=c&&c.kybVerified){i();return}v(!0)},[h,o,null==c?void 0:c.kybVerified,i]),unverifiedWarningModalProps:{isOpen:p,twitterUsername:u,onDismiss:function(){v(!1),null==a||a()},onContinue:function(){v(!1),i()}}}},y=function(e){var n=e.isOpen,t=e.onDismiss,l=e.onContinue,d=e.twitterUsername,m=(0,h.Fg)().platformCopy,x=(0,r.useState)(!1),y=x[0],g=x[1];return n?(0,v.jsxs)(p.u,{allowClose:!0,onHide:t,title:"Caution: Unverified Merchant.",children:[(0,v.jsxs)("div",{className:"helio-background-secondary hel-flex hel-mb-[10px] hel-items-center hel-rounded-lg",children:[(0,v.jsx)("div",{children:(0,v.jsx)("div",{className:"hel-mx-auto hel-flex hel-w-[100px] hel-h-[100px] hel-relative",children:(0,v.jsx)(u.Ee,{alt:"warning",className:"hel-h-[100px] hel-w-[100px]",disableTransition:!0,height:100,placeholder:"blur",src:s.v1,width:100})})}),(0,v.jsxs)("p",{className:"hel-text-base hel-pr-1",role:"alert",children:["This merchant"," ",d&&(0,v.jsxs)(o.F,{href:"".concat(c.gO.TWITTER,"/").concat(d),target:"_blank",title:d,underline:!0,children:["@",d]})," ","is ",(0,v.jsx)("strong",{children:"unverified"}),m.components.modals.unverifiedWarningModal.descriptionSuffix,!d&&(0,v.jsxs)(v.Fragment,{children:[" ","and has ",(0,v.jsx)("strong",{children:"NOT"})," linked an X account"]}),"."]})]}),(0,v.jsxs)("p",{className:"hel-text-base hel-mb-[8px]",children:[(0,v.jsx)("b",{children:"Crypto payments are final and cannot be reversed."})," Beware of scams and proceed only if you trust the merchant."," ",(0,v.jsx)(o.F,{underline:!0,href:c.gO.DOCS_VERIFICATION_AND_SAFETY,target:"_blank",children:"Learn more"})]}),(0,v.jsx)("div",{className:"hel-flex hel-items-center hel-mb-[20px]",children:(0,v.jsx)(a.J,{dataTestId:f.H.paylinks.modals.unverifiedWarningCheckbox,isChecked:y,setChecked:g,text:"I accept full responsibility for any potential loss."})}),(0,v.jsx)("div",{className:"hel-float-right",children:(0,v.jsx)(i.z,{dataTestId:f.H.paylinks.modals.unverifiedWarningContinue,className:"hel-rounded-3xl",onClick:l,disabled:!y,children:"CONTINUE"})})]}):null}},61923:function(e,n,t){t.d(n,{N:function(){return d},T:function(){return u}});var r=t(28422),l=t(33939),i=t(54787),a=t(30429),o=t(10312),s=t(21809),c=t(52322),u=function(){return(0,c.jsxs)("main",{className:"helio-background-container hel-flex hel-h-screen hel-flex-row hel-items-center hel-justify-center",children:[(0,c.jsx)(o.rU,{href:i.AW.HOME,passHref:!0,children:(0,c.jsx)(r.u,{type:a.S.HEADER_LOGO,className:"hel-absolute hel-top-8 hel-left-8 hel-h-10 hel-w-20 hel-cursor-pointer 2xl:hel-top-12 2xl:hel-left-12"})}),(0,c.jsx)(d,{})]})},d=function(){var e=(0,s.Fg)().isDarkMode;return(0,c.jsxs)("div",{className:"hel-flex hel-flex-col hel-items-center",children:[(0,c.jsx)("div",{className:"hel-relative hel-h-[172px] hel-w-[160px]",children:(0,c.jsx)(o.Ee,{alt:"404 - Not found",className:"hel-h-full hel-w-full",disableTransition:!0,height:300,placeholder:"blur",src:e?l.hH:l.zN,width:600})}),(0,c.jsx)("h1",{className:"helio-text-highest-contrast hel-text-3xl",children:"Page not found"}),(0,c.jsx)("h4",{className:"hel-pt-2 hel-font-thin",children:"There was an error and we couldnâ€™t load the page."})]})}},41687:function(e,n,t){t.d(n,{r:function(){return a}});var r=t(68277),l=t(22204),i=t(52322),a=function(e){var n=e.discordAccessRequired,t=e.isUsernameShared,a=e.showTooltip;return(0,i.jsx)(i.Fragment,{children:t&&!n?(0,i.jsxs)("div",{className:"hel-flex hel-gap-x-2 hel-items-center",children:[(0,i.jsx)(r.J,{className:"helio-fill-success-alternative hel-w-5 hel-h-5",iconName:"CircleTick"}),(0,i.jsx)("p",{children:"Discord username shared"})]}):(0,i.jsxs)("div",{className:"hel-flex hel-items-center hel-gap-x-4 hel-w-full",children:[(0,i.jsx)("div",{className:"hel-p-4 hel-rounded-3xl helio-background-secondary",children:(0,i.jsx)(r.J,{iconName:"DiscordCircle",className:"helio-fill-primary"})}),(0,i.jsxs)("div",{className:"hel-flex hel-flex-col sm:hel-w-[330px]",children:[(0,i.jsx)("div",{className:"hel-text-sm helio-text-display hel-font-bold",children:n?"Discord membership":"Discord username required"}),(0,i.jsxs)("div",{className:"helio-text-display hel-text-sm hel-font-normal hel-flex hel-items-center hel-gap-1",children:[n?"This sale includes Discord access.":"Login to share your Discord username.",!n&&(void 0===a||a)&&(0,i.jsx)(l.u,{title:"Share your Discord username by logging in. The payment is open to anyone and not gated to a community",toolTipWidth:300,children:(0,i.jsx)(r.J,{iconName:"Info",className:"hel-h-4 hel-w-4 hel-cursor-pointer hel-fill-gray-400"})})]})]})]})})}},13092:function(e,n,t){t.d(n,{z:function(){return r}});var r=function(e){return(null==e?void 0:e.discordAction)||(null==e?void 0:e.requireDiscordUsername)&&(null==e?void 0:e.requireDiscordLogin)&&!(null!=e&&e.requireDiscordAuth)}},73927:function(e,n,t){t.d(n,{z:function(){return rj}});var r,l=t(20406),i=t(82841),a=t.n(i),o=t(22219),s=t(72467),c=t(17831),u=t(6277),d=t(2784),h=t(94449),m=t(82269),f=t(79012),p=t(10906),v=t(38652),x=t(65119),y=t(54787),g=t(20603),b=t(15766),j=t(10718),k=t(67583),w=t(16480),N=t(10312),C=t(23970),T=t(7083),S=t(49759),D=t(95503),E=["additionalJSON","sourceIntegrationVersion","sourceIntegration"],P=function(e){var n,t=e.cardOnlySuffix,r=e.network,l=e.blockchain,i=e.existingChargeToken,a=null!=i?i:(0,v.Z)();l||(0,w.O7)(Error("Navigating to charge but an empty blockchain"));var s=(n=r,(0,k._p)()||([o.GeneralNetwork.DEVNET,o.GeneralNetwork.TESTNET].includes(n)?y.gO.DASHBOARD_APP_DEV:y.gO.DASHBOARD_APP_PROD));return{chargeUrl:"".concat(s,"/charge/").concat(a,"?").concat(t?"cardonly=true&":"","network=").concat(l),chargeTokenToUse:a}},A=function(e){window.open(e,"_blank","noopener,noreferrer"),(0,b._)({name:j.Z.OPENED_CHARGE_IN_NEW_TAB})},O=function(e){var n,t,r,i,s=(0,p.Oo)().apiServiceV1,c=(0,N.g_)(),u=c.network,d=c.checkoutType,v=(0,h.v9)(D.hW),y=(0,h.I0)(),b=(0,p.H4)(),j=b.additionalJSON,k=b.sourceIntegrationVersion,O=b.sourceIntegration,q=(0,m.Z)(b,E),I=(0,S.qO)().actions,R=(0,x.U)().tokenConversionService,L=(0,T.rI)(),U=L.userPrice,F=L.blockchain,B=(0,C.v)().isCardOnly,_=(n=(0,l.Z)(a().mark(function n(t){var r,l,i;return a().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=U&&parseFloat(U)>0?BigInt(Math.floor(parseFloat(U)*Math.pow(10,e.pricingCurrency.decimals))):BigInt(e.price),l={paymentRequestId:e.id,paylink:e.id,requestAmount:r.toString(),currencySymbol:e.pricingCurrency.symbol,token:t,quantity:1,prepareRequestBody:{paylink:e.id,canSwapTokens:e.canSwapTokens,splitWallets:e.splitWallets,amount:r.toString(),paymentRequestId:e.id,currency:e.currency.symbol,quantity:1,sourceIntegrationVersion:k,sourceIntegration:O,solanaTransactionVersion:o.SolanaTransactionVersion.V0,customerDetails:{additionalJSON:JSON.stringify(j)}}},e.requireProductDetails&&(l.prepareRequestBody.productDetails={name:null===(i=e.product)||void 0===i?void 0:i.name,value:void 0}),n.prev=3,n.next=6,s.createCharge(l);case 6:return n.abrupt("return",n.sent);case 9:throw n.prev=9,n.t0=n.catch(3),w.kg.error("Unable to create charge via useChargeCreator",{error:n.t0,chargeBody:l,prId:e.id}),n.t0;case 13:case"end":return n.stop()}},n,null,[[3,9]])})),function(e){return n.apply(this,arguments)}),Z=function(){if(e.canChangePrice&&!B){var n=parseFloat(U||"0");if(isNaN(n)||n<=0)return!1}return!0},M=(t=(0,l.Z)(a().mark(function e(n){var t,r,l,i,o,s;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.navigate,r=n.shouldGoIntoChargeMode,l=n.chargeUrl,i=n.hasAlreadyCreatedCharge,o=n.chargeTokenToUse,t&&A(l),i){e.next=6;break}return q.setChargeToken(o),e.next=6,_(o);case 6:if(r&&(s={fieldValue:o,tokenConversionService:R},y(I.loadPaymentRequestFromCharge(s)),q.dispatchLocal({status:g.PaymentStatus.PAYMENT_INITIATED_IN_NEW_TAB})),t){e.next=9;break}return e.abrupt("return",l);case 9:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),H=(r=(0,l.Z)(a().mark(function e(n){var t,r,l,i,o,s;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.navigate,r=n.cardOnlySuffix,l=n.shouldGoIntoChargeMode,Z()){e.next=4;break}return(0,f.Jc)("Please enter a valid price greater than 0"),e.abrupt("return");case 4:return e.prev=4,o=(i=P({existingChargeToken:q.chargeToken,cardOnlySuffix:r,network:u,blockchain:F})).chargeUrl,s=i.chargeTokenToUse,e.next=8,M({hasAlreadyCreatedCharge:!!q.chargeToken,navigate:t,chargeTokenToUse:s,chargeUrl:o,shouldGoIntoChargeMode:l});case 8:return e.abrupt("return",e.sent);case 11:e.prev=11,e.t0=e.catch(4),(0,w.O7)(e.t0),y(I.setError(String(e.t0)));case 15:case"end":return e.stop()}},e,null,[[4,11]])})),function(e){return r.apply(this,arguments)});return{createCharge:(i=(0,l.Z)(a().mark(function e(n){var t,r,l,i;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.navigate,l=void 0!==(r=n.cardOnlySuffix)&&r,i=n.shouldGoIntoChargeMode,e.abrupt("return",H({cardOnlySuffix:l,navigate:t,shouldGoIntoChargeMode:i}));case 2:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)}),onConnectWithCharge:function(){if(d===N.HX.EMBEDDED&&e.paymentType===g.PaymentType.ONETIME&&!v&&!e.canChangePrice){var n,t=!!q.chargeToken,r=P({existingChargeToken:q.chargeToken,cardOnlySuffix:!1,network:u,blockchain:F}),i=r.chargeUrl,o=r.chargeTokenToUse;return{createCharge:(n=(0,l.Z)(a().mark(function e(){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return w.kg.debug("Trigger creation was called"),e.next=3,M({hasAlreadyCreatedCharge:t,navigate:!1,chargeTokenToUse:o,chargeUrl:i,shouldGoIntoChargeMode:!0});case 3:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)}),chargeUrl:i}}}}},q=t(63482),I=function(){var e=(0,T.rI)().paymentRequest,n=(0,h.v9)(q.TC),t=(0,h.v9)(q.Qk);return null!=e&&e.requireMaxTransactions&&(null==e?void 0:e.maxTransactions)!=null&&null!=n&&(null==e?void 0:e.maxTransactions)-n<=0?g.PaymentRequestStatus.SOLD_OUT:t?g.PaymentRequestStatus.PENDING:g.PaymentRequestStatus.ACTIVE},R=t(95235),L=t(25711),U=t(5272),F=t(1842),B=t.n(F),_=function(e){return null!=e&&e.requireQuantityLimits&&null!=e&&e.minQuantity?e.minQuantity:1},Z=function(e,n){if(!((null==e?void 0:e.limitSaleType)!==o.LimitSaleType.DISCORD_ID||B()(n))&&e.maxQuantity)return(null==e?void 0:e.maxQuantity)-n},M=function(e){var n,t,r=e.allowedTxsCount,l=e.discordTxsCount,i=e.paymentData,a=e.transactionsRemaining;return null!=i&&i.requireQuantityLimits&&null!=i&&i.maxQuantity?Math.min(i.maxQuantity,null!==(n=a())&&void 0!==n?n:1/0,null!==(t=Z(i,l))&&void 0!==t?t:1/0,null!=r?r:1/0):a()},H=function(e){var n=e.paymentData,t=e.transactionsRemaining,r=(0,p.tq)(),l=r.allowlistAuth.allowedTxsCount,i=r.discordAuth.tokenDecoded,a=(0,C.v)(),o=(null==n?void 0:n.canChangeQuantity)||(null==n?void 0:n.requireAllowlist);if(a.quantity&&!o)throw Error("Cannot use config quantity if canChangeQuantity not enabled on paylink");if(!o)return null;var s=_(n),c=M({paymentData:n,discordTxsCount:null==i?void 0:i.txsCount,transactionsRemaining:t,allowedTxsCount:l});if(!a.quantity)return{min:s,max:c};var u=null!=c?c:Number.POSITIVE_INFINITY;if(!(s<=a.quantity&&a.quantity<=u))throw Error("Requested quantity config (".concat(a.quantity,") is not withing bounds of paylink settings (").concat(s," ... ").concat(u,")"));return{min:a.quantity,max:a.quantity}},z=t(92270),W=t(35282),V=t(71294),Q=t(23619),G=t(78738),K=t(54623),J=function(e){var n,t,r,l=(0,h.I0)(),i=(0,s.Eu)().payload,a=i&&(null===(n=i.wallet)||void 0===n?void 0:n.type)===o.WalletType.WEB3AUTH,c=(0,G.vk)({currency:g.StaticCurrencyService.getDefaultOnrampCurrency(null!==(t=null===(r=e.recipients)||void 0===r?void 0:r.map(function(e){return e.currency}))&&void 0!==t?t:[]),blockchain:o.BlockchainSymbol.SOL},{skip:!a}),u=c.data,m=c.isLoading,f=c.error,p=(0,K.Cy)().actions;(0,d.useEffect)(function(){m&&l(p.setLoading(!0))},[l,m,p]),(0,d.useEffect)(function(){u&&!m&&(l(p.setPaymentMethods(u)),0===u.length&&l(p.setIsCountrySupported(!1)))},[l,u,m,p]),(0,d.useEffect)(function(){f&&l(p.setIsCountrySupported(!1))},[l,f,p])},Y=t(98056),X=t(27853),$=t(64041),ee=t(29952),en=t(73275),et=t(68913),er=t(64006),el=t(20608),ei=t(14757),ea=t(96412),eo=t(13089),es=t(56473),ec=function(){var e;function n(){(0,ea.Z)(this,n)}return(0,eo.Z)(n,null,[{key:"getCountry",value:(e=(0,l.Z)(a().mark(function e(){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,es.WY)(n.url,{method:"GET"},!0));case 1:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})}]),n}();(0,R.Z)(ec,"url","https://geolocation-db.com/json/");var eu=a().mark(ev),ed=a().mark(ex),eh=a().mark(ey),em=a().mark(eg),ef=function(e){var n;return null===(n=e.suggestions)||void 0===n?void 0:n.map(function(e){var n,t;return{id:null===(n=e.placePrediction)||void 0===n?void 0:n.placeId,labels:[null===(t=e.placePrediction)||void 0===t||null===(t=t.text)||void 0===t?void 0:t.text],count:1}})},ep=new g.PlacesSessionTokenService;function ev(e){var n,t,r,l,i;return a().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,ep.refreshToken(),a.next=4,(0,ei.cm)();case 4:return n=a.sent,r=(t=e.payload).countryCode,l=t.query,a.next=8,(0,el.RE)(n.autocompleteAddress,r,l,ep.getToken());case 8:if(i=a.sent){a.next=11;break}throw Error("No response recieved when finding addresses");case 11:return a.next=13,(0,el.gz)(ek.findAddressLoaded(ef(i)));case 13:a.next=20;break;case 15:return a.prev=15,a.t0=a.catch(0),(0,w.O7)(a.t0),a.next=20,(0,el.gz)(ek.findAddressError(String(a.t0)));case 20:case"end":return a.stop()}},eu,null,[[0,15]])}function ex(e){var n,t,r;return a().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,ep.refreshToken(),l.next=4,(0,ei.cm)();case 4:return n=l.sent,t=e.payload.addressId,l.next=8,(0,el.RE)(g.PlacesService.fetchGoogleAddress,t,n,ep.getToken());case 8:return r=l.sent,ep.generateNewToken(),l.next=12,(0,el.gz)(ek.retrieveAddressLoaded(r));case 12:l.next=19;break;case 14:return l.prev=14,l.t0=l.catch(0),(0,w.O7)(l.t0),l.next=19,(0,el.gz)(ek.findAddressError(String(l.t0)));case 19:case"end":return l.stop()}},ed,null,[[0,14]])}function ey(){var e;return a().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,el.RE)(ec.getCountry);case 3:return e=n.sent,n.next=6,(0,el.gz)(ek.countryLoaded(e));case 6:n.next=14;break;case 8:return n.prev=8,n.t0=n.catch(0),w.kg.error("Getting country from geolocation-db.com failed",{error:n.t0}),(0,w.O7)(n.t0),n.next=14,(0,el.gz)(ek.countryLoadedError(String(n.t0)));case 14:case"end":return n.stop()}},eh,null,[[0,8]])}function eg(){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,el.Fm)(ek.loadCountry.type,ey);case 2:return e.next=4,(0,el.Fm)(ek.loadFindAddress.type,ev);case 4:return e.next=6,(0,el.Fm)(ek.loadRetrieveAddress.type,ex);case 6:case"end":return e.stop()}},em)}var eb={loading:!1,retrieveAddressLoading:!1,findAddressLoading:!1},ej=(0,et.o)({name:"customerAddressManager",initialState:eb,reducers:{loadCountry:function(e){e.loading=!0},countryLoaded:function(e,n){e.country=n.payload,e.loading=!1},countryLoadedError:function(e,n){e.error=n.payload},loadFindAddress:function(e,n){e.findAddressLoading=!0,e.addressArray=[]},findAddressLoaded:function(e,n){e.addressArray=n.payload,e.findAddressLoading=!1},findAddressError:function(e,n){e.loading=!1,e.error=n.payload},loadRetrieveAddress:function(e,n){e.retrieveAddressLoading=!0},retrieveAddressLoaded:function(e,n){e.detailedAddressInfo=n.payload,e.retrieveAddressLoading=!1}}}),ek=ej.actions,ew=function(){return(0,er.v)({key:ej.name,reducer:ej.reducer}),(0,er.h)({key:ej.name,saga:eg}),{actions:ej.actions}},eN=t(60985),eC=function(e){return(null==e?void 0:e.customerAddressManager)||eb};(0,eN.P1)([eC],function(e){return e.loading});var eT=(0,eN.P1)([eC],function(e){return e.country});(0,eN.P1)([eC],function(e){return e.error}),(0,eN.P1)([eC],function(e){return e.findAddressLoading});var eS=(0,eN.P1)([eC],function(e){return e.addressArray}),eD=(0,eN.P1)([eC],function(e){return e.detailedAddressInfo});(0,eN.P1)([eC],function(e){return e.findAddressError});var eE=t(33381),eP=t(39641),eA=t(52322);function eO(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function eq(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?eO(Object(t),!0).forEach(function(n){(0,R.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):eO(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var eI=function(e){var n=e.setFieldValue,t=e.countryCode;(0,N.g_)().imageComponent;var r=(0,h.v9)(eS),l=(0,h.v9)(eD),i=(0,d.useState)(!1),a=i[0],o=i[1],s=(0,d.useRef)(!1),c=(0,L.u6)(),m=c.values,f=c.isSubmitting,p=(0,h.I0)(),v=ew().actions,x=function(e){e&&null!=t&&!s.current&&(p(v.loadFindAddress({countryCode:t,query:e})),e!==(null==l?void 0:l.street)&&j()),s.current=!1},y=function(e){null!=t&&p(v.loadRetrieveAddress({addressId:e}))};(0,d.useEffect)(function(){f&&!a&&o(!0)},[f,a]),(0,d.useEffect)(function(){if(null!=l){var e,t,r,i,a;n("city",null!==(e=l.city)&&void 0!==e?e:""),n("streetNumber",null!==(t=l.streetNumber)&&void 0!==t?t:""),n("street",null!==(r=l.street)&&void 0!==r?r:""),n("state",null!==(i=null==l?void 0:l.state)&&void 0!==i?i:""),n("areaCode",null!==(a=null==l?void 0:l.postalCode)&&void 0!==a?a:"")}},[l,n]),(0,d.useEffect)(function(){var e=setTimeout(function(){var e;x(null!==(e=m.street)&&void 0!==e?e:"")},300);return function(){clearTimeout(e)}},[m.street]);var g=(0,Y.Kb)({items:null!=r?r:[]}),b=g.isOpen,j=g.openMenu,k=g.getMenuProps,w=g.getItemProps,C=g.closeMenu,T=function(e){s.current=!0,y(e),C(),o(!0)},S=a||l;return(0,eA.jsx)(eA.Fragment,{children:(0,eA.jsxs)("div",{className:"hel-gap-x-4 hel-flex hel-flex-col hel-gap-4",children:[(0,eA.jsx)("div",{className:"hel-gap-x-4 hel-grid hel-col-span-3",children:(0,eA.jsxs)("div",{className:"hel-flex hel-gap-x-2 ",children:[(0,eA.jsxs)("div",{className:"hel-gap-y-1 hel-flex hel-w-full hel-flex-col",children:[(0,eA.jsx)(ee._,{required:!0,htmlFor:"street",children:S?"Street name":"Address"}),(0,eA.jsxs)("div",{className:(0,X.Z)(eP.j,"hel-relative hel-col-span-3"),children:[(0,eA.jsx)($.k,{"data-testid":eE.H.checkoutForm.addressSection.autocompleteInput,fieldId:"street",fieldName:"street",placeholder:S?"Street name":"Address",required:!0,autoComplete:"off",onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),o(!0),C())}}),(0,eA.jsx)("ul",eq(eq({"data-testid":eE.H.checkoutForm.addressSection.suggestions},k({},{suppressRefError:!0})),{},{className:"hel-top-[48px] helio-background-container hel-w-full hel-absolute hel-z-30  hel-mt-1 hel-rounded-lg hel-max-h-48 hel-left-0 hel-overflow-y-auto hel-shadow-lg focus:hel-outline-none",children:b&&!!(null!=r&&r.length)&&(0,eA.jsxs)(eA.Fragment,{children:[null==r?void 0:r.map(function(e,n){var t=e.labels.join(", ");return(0,d.createElement)("li",eq(eq({},w({item:e,index:n})),{},{role:"button",tabIndex:"0",onKeyDown:function(n){("Enter"===n.key||" "===n.key)&&(n.preventDefault(),T(e.id))},key:"".concat(e.id).concat(n),className:"helio-background-selected-item@hover hel-flex hel-flex-row hel-p-3 hel-cursor-pointer hel-items-center hel-gap-x-[10px] first:hover:hel-rounded-t-lg last:hover:hel-rounded-b-lg",onClick:function(){T(e.id)}}),(0,eA.jsx)("p",{className:"helio-text-menu-inactive hel-text-[12px]",children:t.length<50?t:t.substring(0,50)+"..."}))}),(0,eA.jsxs)("div",{className:"helio-text-menu-inactive hel-text-[8px] hel-p-1 hel-text-right",children:["powered by ",(0,eA.jsx)("strong",{children:"Google"})]})]})}))]})]}),S&&(0,eA.jsxs)("div",{className:"hel-w-[25%] hel-flex hel-flex-col hel-gap-y-1",children:[(0,eA.jsx)(ee._,{required:!0,htmlFor:"streetNumber",children:"Number"}),(0,eA.jsx)($.k,{fieldId:"streetNumber",fieldName:"streetNumber",placeholder:"123",required:!0})]})]})}),!S&&(0,eA.jsx)(en.F,{"data-testid":eE.H.checkoutForm.addressSection.enterAddressManually,className:(0,u.default)("helio-text-high-contrast hel-border helio-border-input hel-w-fit hel-px-2 ","hel-opacity-40 hover:hel-opacity-80 hel-transition hel-ml-auto hel-mb-2"),onClick:function(){return o(!0)},children:"Enter address manually"}),S&&(0,eA.jsxs)(eA.Fragment,{children:[(0,eA.jsxs)("div",{className:(0,X.Z)(eP.j,"hel-w-full hel-col-span-3"),children:[(0,eA.jsx)("div",{className:"hel-flex hel-w-full hel-flex-row hel-gap-x-4",children:(0,eA.jsxs)("div",{className:"hel-w-full hel-flex hel-flex-col hel-gap-y-1",children:[(0,eA.jsx)(ee._,{required:!0,htmlFor:"areaCode",children:"Postal/Zip code"}),(0,eA.jsx)($.k,{fieldId:"areaCode",fieldName:"areaCode",placeholder:"Postal/Zip code",required:!0})]})}),(0,eA.jsxs)("div",{className:(0,X.Z)(eP.j,"hel-w-full hel-mb-2 hel-col-span-3"),children:[(0,eA.jsx)(ee._,{required:!0,htmlFor:"city",children:"City"}),(0,eA.jsx)($.k,{"data-testid":eE.H.checkoutForm.addressSection.cityInput,fieldId:"city",fieldName:"city",placeholder:"Your city",required:!0})]}),(0,eA.jsxs)("div",{children:[(0,eA.jsx)(ee._,{htmlFor:"state",children:"State"}),(0,eA.jsx)($.k,{fieldId:"state",fieldName:"state",placeholder:"State"})]})]}),(0,eA.jsxs)("div",{className:(0,X.Z)(eP.j,"hel-w-full hel-mb-0 hel-col-span-3"),children:[(0,eA.jsx)(ee._,{htmlFor:"deliveryAddress",children:"Extra Delivery Info"}),(0,eA.jsx)($.k,{fieldId:"deliveryAddress",fieldName:"deliveryAddress",placeholder:"Building, Apartment, Floor number"})]})]})]})})},eR=t(30704);t(85080);var eL=t(1070),eU=function(e){var n=e.fieldValue,t=e.fieldName,r=e.form,l=r.touched,i=r.errors,a=e.onChange,o=e.onTouch,s=e.fieldPlaceholder,c=l[t],u=i[t];return(0,eA.jsxs)("div",{children:[(0,eA.jsx)(eL.f,{children:(0,eA.jsx)(eR.ZP,{onChange:a,value:n,onBlur:o,placeholder:void 0===s?"Phone Number":s})}),c&&u&&(0,eA.jsx)("div",{className:"helio-text-danger hel-text-xs hel-italic",children:u})]})},eF=t(68277),eB=t(94610),e_=t(33939),eZ=function(e){var n,t,r,l,i=e.paymentData,a=e.selectValue,o=e.changeSelectValue,s=e.productDetailsDescriptionShown,c=e.setProductDetailsDescriptionShown,u=(0,L.u6)(),d=u.setFieldValue,h=u.setFieldTouched,m=u.values,f=u.errors,p=u.touched,v=e_.hW.map(function(e){return{label:e.name,value:e.code}}),x=null==f||null===(n=f.country)||void 0===n?void 0:n.value,y=!!(p.country&&x);return(0,eA.jsxs)("div",{className:"hel-text-left hel-flex hel-flex-col hel-gap-4 hel-mb-4",children:[(0,eA.jsx)("h4",{className:"helio-text-highest-contrast hel-font-poppins hel-mt-2",children:"Information required"}),(null==i?void 0:i.requireFullName)&&(0,eA.jsxs)("div",{className:eP.j,children:[(0,eA.jsx)(ee._,{required:!0,children:"Full name"}),(0,eA.jsx)($.k,{fieldId:"fullName",fieldName:"fullName",placeholder:"Full name"})]}),(null==i?void 0:i.requireEmail)&&(0,eA.jsxs)("div",{className:eP.j,children:[(0,eA.jsx)(ee._,{required:!0,children:"E-mail address"}),(0,eA.jsx)($.k,{fieldId:"email",fieldName:"email",placeholder:"john@helio.co"})]}),(null==i?void 0:i.requirePhoneNumber)&&(0,eA.jsxs)("div",{className:eP.j,children:[(0,eA.jsx)(ee._,{required:!0,children:"Phone number"}),(0,eA.jsx)(L.gN,{component:eU,fieldName:"phoneNumber",fieldValue:m.phoneNumber,onTouch:function(){return h("phoneNumber")},onChange:function(e){return d("phoneNumber",e)}})]}),(null==i?void 0:i.requireCountry)&&(0,eA.jsxs)("div",{className:eP.j,children:[(0,eA.jsx)(ee._,{required:!0,children:"Country"}),(0,eA.jsx)(eB.jL,{options:v,placeholder:"Select country",value:m.country,fieldName:"country",onChange:function(e){d("country",e)},testid:eE.H.checkoutForm.countrySelect}),y&&(0,eA.jsx)("div",{className:"helio-text-danger hel-text-xs hel-mt-1 hel-italic",children:x})]}),(null==i?void 0:i.requireDeliveryAddress)&&(0,eA.jsx)(eI,{setFieldValue:d,countryCode:null===(t=m.country)||void 0===t?void 0:t.value}),(null==i?void 0:i.requireProductDetails)&&(null==i?void 0:i.product)!=null&&(0,eA.jsx)("div",{className:eP.j,children:(null==i||null===(r=i.product)||void 0===r?void 0:r.type)==g.ProductInputType.SELECTOR?(0,eA.jsxs)(eA.Fragment,{children:[(0,eA.jsx)(ee._,{required:!0,children:null==i?void 0:i.product.name}),(0,eA.jsx)(eB.jL,{value:a,placeholder:"Select",onChange:function(e){return o(e,d)},options:g.SelectBoxService.stringToOptions(null==i||null===(l=i.product)||void 0===l?void 0:l.description),testid:eE.H.checkoutForm.productSelect})]}):(0,eA.jsxs)("div",{className:"hel-relative",children:[s&&(0,eA.jsx)("div",{className:"hel-absolute hel-right-0 -hel-top-[35px]",children:(0,eA.jsx)("p",{className:"helio-background-tooltip helio-text-tooltip hel-text-[11px] hel-w-fit hel-p-2 hel-ml-auto hel-mr-0 hel-max-w-full hel-overflow-hidden hel-rounded",children:i.product.description})}),(0,eA.jsxs)("div",{className:"hel-items-bottom hel-flex hel-flex-row hel-mb-[5px] hel-justify-between",children:[(0,eA.jsx)(ee._,{required:!i.product.optional,children:i.product.name}),(0,eA.jsx)("div",{onMouseLeave:function(){return c(!1)},onMouseEnter:function(){return c(!0)},children:(0,eA.jsx)(eF.J,{iconName:"Info",className:"helio-fill-icon hel-w-[16px] hel-h-[16px] hel-cursor-pointer"})})]}),(0,eA.jsx)($.k,{fieldId:"productValue",fieldName:"productValue",placeholder:"Insert data here..."})]})}),(null==i?void 0:i.requireTwitterUsername)&&(0,eA.jsxs)("div",{className:eP.j,children:[(0,eA.jsx)(ee._,{required:!0,children:"X username"}),(0,eA.jsx)($.k,{fieldId:"twitterUsername",fieldName:"twitterUsername",placeholder:"@helio_pay"})]}),(null==i?void 0:i.requireTelegramUsername)&&(!(null!=i&&i.addTelegramGroup)||!(null!=i&&i.isSubscription))&&(0,eA.jsxs)("div",{className:eP.j,children:[(0,eA.jsx)(ee._,{required:!0,children:"Telegram username"}),(0,eA.jsx)($.k,{fieldId:"telegramUsername",fieldName:"telegramUsername",placeholder:"Enter your Telegram username"})]}),(null==i?void 0:i.requireDiscordUsername)&&!(null!=i&&i.requireDiscordLogin)&&(0,eA.jsx)("div",{className:eP.j,children:(0,eA.jsx)($.k,{label:"Discord username",labelInfo:i.discordAction?"Enter your Discord username to receive access to your membership instantly. Alternatively, claim access later.":void 0,fieldId:"discordUsername",fieldName:"discordUsername",placeholder:"Enter your Discord username"})}),(null==i?void 0:i.requireTradingViewUsername)&&(0,eA.jsx)("div",{className:eP.j,children:(0,eA.jsx)($.k,{label:"TradingView username",labelInfo:"Enter your TradingView username to receive instant access to the indicator(s). Alternatively, claim access later.",fieldId:"tradingViewUsername",fieldName:"tradingViewUsername",placeholder:"Enter your TradingView username"})})]})},eM=t(54213),eH=function(e){var n,t=e.paymentData,r=e.transactionsRemaining,l=(0,L.u6)(),i=l.setFieldValue,a=l.values,o=H({paymentData:t,transactionsRemaining:r});if(null===o)return null;var s=o.min,c=o.max;return[s,c,t.maxQuantity,t.maxTransactions,t.minQuantity].every(function(e){return[1,void 0].includes(e)})&&(t.minQuantity||t.maxQuantity)?null:(0,eA.jsxs)("div",{className:"hel-flex hel-flex-col hel-my-2 hel-gap-y-1",children:[(0,eA.jsx)(ee._,{required:!0,children:"Quantity"}),(0,eA.jsx)(eM.Y,{tooltipName:"quantity",fieldId:"quantity",fieldName:"quantity",value:null!==(n=a.quantity)&&void 0!==n?n:1,onlyWholeNumbers:!0,onChange:function(e){return i("quantity",e.target.value)},min:s,max:c,showMax:!0,placeholder:"Quantity"})]})},ez={ataWarning:"Insufficient SOL balance to create token account - transfer may fail. Add 0.003 SOL to proceed."},eW=t(12529),eV=t(36099),eQ=function(e){var n=O(e).createCharge,t=(0,N.g_)().checkoutType,r={connectWithHelioWallet:(0,d.useContext)(eV.P).connectWithHelioWallet}.connectWithHelioWallet;return(0,l.Z)(a().mark(function e(){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t===N.HX.EMBEDDED?n({navigate:!0,cardOnlySuffix:!0,shouldGoIntoChargeMode:!0}):r();case 2:case"end":return e.stop()}},e)}))},eG=t(83149),eK=t(8593),eJ=t(16831),eY=t(95457),eX=function(e){var n=e.icon;return(0,eA.jsx)("div",{className:"hel-p-4 hel-rounded-3xl helio-background-secondary",children:(0,eA.jsx)(eF.J,{iconName:n,className:"helio-fill-primary"})})},e$=t(4870),e0=function(e){var n=e.maxEntries,t=e.entries;return void 0===n?t.toLocaleString():"".concat(t.toLocaleString()," of ").concat(n.toLocaleString())},e1=t(48911),e2=function(e){var n=e.title,t=e.children,r=e.iconName;return(0,eA.jsxs)("div",{className:"hel-w-1/2 md:hel-w-full lg:hel-w-1/2 hel-flex hel-items-center hel-justify-between",children:[(0,eA.jsxs)("div",{className:"hel-flex-1 hel-flex hel-items-center hel-gap-2",children:[(0,eA.jsx)("b",{className:"hel-inline-block",children:n}),t]}),(0,eA.jsx)("div",{className:"helio-fill-primary","aria-hidden":!0,children:(0,eA.jsx)(eF.J,{iconName:r})})]})},e4=function(e){var n=e.raffleDetails,t=e.paylinkId,r=(0,e1.cZ)(t),l=r.data,i=r.isSuccess;return(0,eA.jsxs)("div",{className:"hel-flex hel-flex-row md:hel-flex-col lg:hel-flex-row hel-gap-3",children:[(0,eA.jsx)(e2,{title:"Entered",iconName:"Ticket",children:i&&void 0!==l.count?e0({maxEntries:n.maxEntries,entries:l.count}):(0,eA.jsx)(e$.SkeletonHorizontalBar,{widthPercent:40,height:e$.HorizontalBarHeight.SMALL})}),(0,eA.jsx)(e2,{title:"Total winners",iconName:"Star",children:n.winners})]})},e3=function(e){var n=e.raffleDetails,t=e.paylinkId;return(0,eA.jsxs)("div",{children:[(0,eA.jsxs)("div",{className:"hel-flex hel-flex-col hel-gap-2",children:[(0,eA.jsx)(e4,{paylinkId:t,raffleDetails:n}),(0,eA.jsxs)("div",{className:"hel-flex hel-items-center hel-gap-x-4 hel-w-full hel-my-2",children:[(0,eA.jsx)(eX,{icon:"Timer"}),(0,eA.jsx)("div",{children:(0,eA.jsx)("b",{children:"Raffle ended"})})]})]}),(0,eA.jsx)("div",{className:"hel-w-full",children:(0,eA.jsx)(W.z,{variant:"primary",showLoadingMessage:!0,isLoading:!0,type:"button",className:"hel-w-full",children:"Raffle in progress"})})]})},e6=t(22365),e9=function(){var e=(0,d.useState)(function(){return new Date}),n=e[0],t=e[1];return(0,d.useEffect)(function(){var e=window.setInterval(function(){return t(new Date)},1e3);return function(){return window.clearInterval(e)}},[]),n},e7=t(19674),e5=t(80588),e8="hel-flex hel-items-center hel-gap-x-4 hel-w-full hel-my-2",ne="hel-text-sm helio-text-display hel-font-bold",nn="hel-text-xs",nt="helio-text-primary hel-h-[23px]",nr="helio-placeholder-text",nl="hel-flex hel-flex-col hel-items-center",ni=(0,X.Z)(nl,"hel-mr-1 lg:hel-mr-1.5 "),na=(0,X.Z)(nl,"hel-mx-1 lg:hel-mx-1.5"),no=function(e){var n=e.title,t=e.currentDate,r=e.countdownDate,l=e.isEnding,i=e.icon,a="".concat(n," ").concat(l?"ends":"starts");return(0,eA.jsxs)("div",{className:e8,children:[(0,eA.jsx)("div",{className:"md:hel-hidden lg:hel-block",children:(0,eA.jsx)(eX,{icon:void 0===i?"Timer":i})}),(0,eA.jsxs)("div",{className:"hel-flex hel-flex-col sm:hel-w-[280px]","aria-label":"".concat(a," at ").concat(r),children:[(0,eA.jsx)("p",{"aria-hidden":!0,className:ne,children:"".concat(a," in")}),(0,eA.jsxs)("div",{className:"hel-text-lg hel-flex","aria-hidden":!0,children:[(0,eA.jsxs)("div",{className:ni,children:[(0,eA.jsx)("span",{className:nt,children:Math.floor((e5.f.getTimestamp(r)-t.getTime())/e7.mf)}),(0,eA.jsx)("span",{className:nn,children:"Days"})]}),(0,eA.jsx)("div",{className:nr,children:"/"}),(0,eA.jsxs)("div",{className:na,children:[(0,eA.jsx)("span",{className:nt,children:Math.floor((e5.f.getTimestamp(r)-t.getTime())/e7.yJ%24).toString().padStart(2,"0")}),(0,eA.jsx)("span",{className:nn,children:"Hours"})]}),(0,eA.jsx)("div",{className:nr,children:":"}),(0,eA.jsxs)("div",{className:na,children:[(0,eA.jsx)("span",{className:nt,children:Math.floor((e5.f.getTimestamp(r)-t.getTime())/e7.g4%60).toString().padStart(2,"0")}),(0,eA.jsx)("span",{className:nn,children:"Min"})]}),(0,eA.jsx)("div",{className:nr,children:":"}),(0,eA.jsxs)("div",{className:na,children:[(0,eA.jsx)("span",{className:nt,children:Math.floor((e5.f.getTimestamp(r)-t.getTime())/e7.vL%60).toString().padStart(2,"0")}),(0,eA.jsx)("span",{className:nn,children:"Sec"})]})]})]})]})},ns=function(e){var n=e.endDatetime,t=e9();return(0,eA.jsx)(no,{icon:"Ticket",title:"Raffle",currentDate:t,countdownDate:n,isEnding:!0})},nc=t(8529),nu=t(3190),nd=t(24511),nh=nd.Ry({email:nd.Z_().email().nullable()}),nm={email:""},nf=function(e){var n,t,r,i=e.paylinkId,c=(0,e1.Vz)(),u=(0,nc.Z)(c,2),d=u[0],h=u[1],m=(0,p.H4)().dispatchLocal,v=(0,T.rI)(),x=v.matchingRecipient,y=v.blockchain,k=(0,nu.S)(null==x?void 0:x.currency.blockchain.engine.type),w=(0,s.Gn)().ordinalsAddress,N=(0,p.tq)().discordAuth,C=null===(t=N.tokenDecoded)||void 0===t||null===(t=t.user)||void 0===t?void 0:t.username,S=null===(r=N.tokenDecoded)||void 0===r||null===(r=r.user)||void 0===r?void 0:r.id,D=(n=(0,l.Z)(a().mark(function e(n){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(k){e.next=2;break}throw Error("Missing public key on raffle entry submit handler");case 2:if(!(!C||!S)){e.next=4;break}throw Error("Missing discord details on raffle entry submit handler");case 4:return e.prev=4,e.next=7,d({paylinkId:i,email:n.email,discordUsername:C,discordId:S,publicKey:k,discordHeaderName:N.headerName,discordToken:N.token,ordinalsAddress:y===o.BlockchainSymbol.BITCOIN?w:void 0}).unwrap();case 7:m({status:g.PaymentStatus.RAFFLE_ENTERED}),(0,b._)({name:j.Z.RAFFLE_ENTERED,properties:{raffleEntryResult:"success"}}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),(0,f.tB)(e.t0,"Error entering raffle"),(0,b._)({name:j.Z.RAFFLE_ENTERED,properties:{raffleEntryResult:"failed"}});case 15:case"end":return e.stop()}},e,null,[[4,11]])})),function(e){return n.apply(this,arguments)});return(0,eA.jsx)(L.J9,{initialValues:nm,validationSchema:nh,onSubmit:D,children:function(e){var n=e.handleSubmit;return(0,eA.jsxs)(eA.Fragment,{children:[(0,eA.jsxs)("div",{className:(0,X.Z)(eP.j,"hel-my-2"),children:[(0,eA.jsx)("p",{className:"hel-mb-2",children:"Enter your email to receive a winner notification"}),(0,eA.jsx)(ee._,{htmlFor:"email",children:"E-mail address"}),(0,eA.jsx)($.k,{type:"email",fieldId:"email",fieldName:"email",placeholder:"john@hel.io"})]}),(0,eA.jsx)(W.z,{disabled:h.isLoading,onClick:function(){return n()},type:"submit",children:"Enter raffle"})]})}})},np=function(e){var n,t=e.paylinkId,r=e.raffleDetails,l=(0,e1.cZ)(t).data,i=(n=null==l?void 0:l.count,void 0===r.maxEntries||void 0!==n&&n<r.maxEntries);return(0,eA.jsxs)("div",{className:"hel-flex hel-flex-col hel-gap-2",children:[(0,eA.jsx)(e4,{paylinkId:t,raffleDetails:r}),(0,eA.jsx)(ns,{endDatetime:r.endDatetime}),i&&(0,eA.jsx)(nf,{paylinkId:t}),!i&&(0,eA.jsx)(W.z,{disabled:!0,children:"Entries Unavailable"})]})};function nv(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function nx(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?nv(Object(t),!0).forEach(function(n){(0,R.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):nv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var ny=function(e){var n=e.paymentData,t=(0,p.tq)().raffleAuth;if(!n.raffleDetails||!t.state)return null;var r={paylinkId:n.id,raffleDetails:n.raffleDetails};return t.state===e6.O.RAFFLE_ENTRY?(0,eA.jsx)(np,nx({},r)):t.state===e6.O.DRAWING_WINNERS?(0,eA.jsx)(e3,nx({},r)):null},ng=t(24681),nb=t(10663),nj=t(54986),nk=t(82495),nw=a().mark(nC),nN=a().mark(nT);function nC(e){var n,t,r,l,i,s,c;return a().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=(n=e.payload).publicKey,r=n.nftCollectionAddress,l=n.blockchainSymbol,i=new nj.r6(o.ClusterService.getBlockchainClusterEndpoint(o.Cluster.MAIN_NET,l)),s=nb.erc721.abi,a.next=6,nk._.checkEvmNftContract(s,r,i,t);case 6:return c=a.sent,a.next=9,(0,el.gz)(nE.userContainsNftLoaded(c));case 9:a.next=18;break;case 11:return a.prev=11,a.t0=a.catch(0),(0,w.O7)(a.t0),a.next=16,(0,el.gz)(nE.setError(String(a.t0)));case 16:return a.next=18,(0,el.gz)(nE.userContainsNftLoaded(!1));case 18:case"end":return a.stop()}},nw,null,[[0,11]])}function nT(){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,el.Fm)(nE.loadUserContainsNft,nC);case 2:case"end":return e.stop()}},nN)}var nS={userContainsNftLoading:!1},nD=(0,et.o)({name:"evmNftGateManager",initialState:nS,reducers:{loadUserContainsNft:function(e,n){e.userContainsNftLoading=!0},userContainsNftLoaded:function(e,n){e.userContainsNftLoading=!1,e.userContainsNft=n.payload},resetUserContainsNft:function(e){e.userContainsNft=void 0},setError:function(e,n){e.error=n.payload}}}),nE=nD.actions,nP=function(e){return(null==e?void 0:e.evmNftGateManager)||nS},nA=(0,eN.P1)([nP],function(e){return e.userContainsNftLoading}),nO=(0,eN.P1)([nP],function(e){return e.userContainsNft});(0,eN.P1)([nP],function(e){return e.error});var nq=t(10856),nI=a().mark(nU),nR=a().mark(nF),nL=a().mark(nB);function nU(e){var n,t,r,l,i,o;return a().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,(0,ei.Tj)();case 3:return n=a.sent,r=(t=e.payload).customerPublicKey,l=t.merchantTokenAddressString,i=new nq.nh(l),a.next=8,nk._.confirmUserContainsNft({customerPublicKey:r,merchantTokenAddress:i,connection:n});case 8:return o=a.sent,a.next=11,(0,el.gz)(nM.userContainsNFTLoaded(o));case 11:a.next=20;break;case 13:return a.prev=13,a.t0=a.catch(0),(0,w.O7)(a.t0),a.next=18,(0,el.gz)(nM.setError(String(a.t0)));case 18:return a.next=20,(0,el.gz)(nM.userContainsNFTLoaded(!1));case 20:case"end":return a.stop()}},nI,null,[[0,13]])}function nF(e){var n,t,r,l;return a().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,(0,ei.Tj)();case 3:return n=i.sent,t=e.payload.nftTokenAddressString,r=new nq.nh(t),i.next=8,nk._.getNftDetails({nftTokenAddress:r,connection:n});case 8:return l=i.sent.name,i.next=12,(0,el.gz)(nM.nftCollectionNameLoaded(l));case 12:i.next=19;break;case 14:return i.prev=14,i.t0=i.catch(0),(0,w.O7)(i.t0),i.next=19,(0,el.gz)(nM.setError(String(i.t0)));case 19:case"end":return i.stop()}},nR,null,[[0,14]])}function nB(){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,el.Fm)(nM.loadUserContainsNft.type,nU);case 2:return e.next=4,(0,el.Fm)(nM.loadNftCollectionName.type,nF);case 4:case"end":return e.stop()}},nL)}var n_={userContainsNftLoading:!1,nftNameLoading:!1},nZ=(0,et.o)({name:"nftGateManager",initialState:n_,reducers:{loadUserContainsNft:function(e,n){e.userContainsNftLoading=!0},userContainsNFTLoaded:function(e,n){e.userContainsNftLoading=!1,e.userContainsNft=n.payload},resetUserContainsNFT:function(e){e.userContainsNft=void 0},loadNftCollectionName:function(e,n){e.nftNameLoading=!0},nftCollectionNameLoaded:function(e,n){e.nftNameLoading=!1,e.nftName=n.payload},setError:function(e,n){e.error=n.payload}}}),nM=nZ.actions,nH=function(){return(0,er.v)({key:nZ.name,reducer:nZ.reducer}),(0,er.h)({key:nZ.name,saga:nB}),{actions:nZ.actions}},nz=function(e){return(null==e?void 0:e.nftGateManager)||n_},nW=(0,eN.P1)([nz],function(e){return e.userContainsNft}),nV=(0,eN.P1)([nz],function(e){return e.nftName});(0,eN.P1)([nz],function(e){return e.nftNameLoading});var nQ=(0,eN.P1)([nz],function(e){return e.userContainsNftLoading});(0,eN.P1)([nz],function(e){return e.error});var nG=function(){var e=(0,d.useState)(""),n=e[0],t=e[1],r=(0,p.tq)().accessCodeAuth,l=r.isLoading,i=r.handler;return(0,eA.jsxs)(eA.Fragment,{children:[(0,eA.jsx)($.k,{label:"Access code",required:!0,fieldId:"accessCode",fieldName:"accessCode",placeholder:"Access code",onBlur:function(e){return t(e.target.value)}}),(0,eA.jsx)(W.z,{className:"hel-mt-3 hel-rounded-3xl hel-w-full",onClick:function(){if(n){var e;null==i||null===(e=i.current)||void 0===e||e.call(i,n)}},disabled:l,"data-testid":eE.H.checkoutForm.unlockButton,children:"UNLOCK"})]})},nK=function(){return(0,eA.jsx)(W.z,{className:"hel-rounded-3xl hel-w-full",dataTestId:"CheckoutAuthorizeCard/notAllowedConnect",disabled:!0,children:"Connect Wallet"})},nJ=function(e){var n=O(e.paymentRequest).createCharge;return(0,eA.jsx)(W.z,{className:"hel-rounded-3xl hel-w-full",onClick:function(){return n({navigate:!0,shouldGoIntoChargeMode:!0})},children:"Connect"})},nY=function(e){var n=e.payWithCardTrigger;return(0,d.useEffect)(function(){n()},[]),(0,eA.jsx)(W.z,{className:"hel-rounded-3xl hel-w-full","data-testid":eE.H.checkoutForm.payWithCardButton,onClick:n,children:"PAY WITH CARD"})},nX="Limit reached",n$=function(e){var n,t,r,l=e.children,i=e.paymentData,a=e.showConnectButton,c=e.discordTxsCount,u=(0,eK.useGeoblockAllowed)(),m=(0,p.tq)(),f=m.discordAuth,v=f.isAuthorized,x=f.token,y=m.accessCodeAuth.isAuthorized,g=m.allowlistAuth,b=g.isAuthorized,j=g.allowedTxsCount,k=m.raffleAuth.isAuthorized,w=m.countdownDetails,S=w.isStarted,D=w.hasEndDate,E=w.isEnded,P=m.telegramAuth,A=P.telegramUser,q=P.isTelegramLoginReady,I=P.setIsTelegramLoginReady,R=(0,T.rI)(),L=R.currency,U=R.isReady,F=(0,C.v)(),B=F.primaryPaymentMethod,_=F.isCardOnly,Z=(0,s.Eu)().payload,M=(0,N.g_)().checkoutType,H=O(i).onConnectWithCharge,z=(0,eG.v)(),V=eQ(i),Q=(0,C.v)().buttonDropShadow,G=(0,h.v9)(nW),K=(0,h.v9)(nO),J=Z&&(null===(n=Z.wallet)||void 0===n?void 0:n.type)===o.WalletType.WEB3AUTH,Y=i.requireRaffle&&(null===(t=i.raffleDetails)||void 0===t?void 0:t.state)===o.RaffleState.RAFFLE_STARTED,X=null==L||null===(r=L.blockchain)||void 0===r||null===(r=r.engine)||void 0===r?void 0:r.type,$=(null==i?void 0:i.requireDiscordLogin)||(null==i?void 0:i.requireDiscordAuth),ee=M===N.HX.EMBEDDED&&$;return((0,d.useEffect)(function(){i.isSubscription&&i.addTelegramGroup&&a&&I(!1)},[i,I,a]),U)?i?u.isAllowed?D&&E?(0,eA.jsx)(W.z,{className:"hel-rounded-3xl hel-w-full",disabled:!0,isDropShadow:Q,children:"SALE ENDED"}):_&&!J?z?(0,eA.jsx)(W.z,{className:"hel-rounded-3xl hel-w-full",isLoading:!0,showLoadingMessage:!0,isDropShadow:Q,children:ng.ix}):(0,eA.jsx)(nY,{payWithCardTrigger:V}):ee&&i?(0,eA.jsx)(nJ,{paymentRequest:i}):a?"fiat"===B?(0,eA.jsx)(W.z,{className:"hel-rounded-3xl hel-w-full",onClick:V,isDropShadow:Q,children:"PAY WITH CARD"}):(0,eA.jsx)(eJ.N,{allowedBlockchainEngines:X&&[X],buttonClassName:"hel-rounded-full",buttonTitle:"CONNECT WALLET",connectWithChargeResult:null==H?void 0:H(),doAuthenticate:i.type===o.PaymentRequestType.PAYSTREAM,isCheckout:!0,isResponsive:!1,paymentData:i,specificEVMBlockchain:null==L?void 0:L.blockchain.symbol,withEmailAndGoogle:e_.d4.CHECKOUT.withEmailAndGoogle,withExternalWallet:e_.d4.CHECKOUT.withExternalWallet,isDropShadow:Q}):i.isSubscriptionRenewal?(0,eA.jsx)(eA.Fragment,{children:l}):null!=i&&i.requireNftGate&&!(G||K)?(0,eA.jsx)(W.z,{className:"hel-rounded-3xl hel-w-full",disabled:!0,children:"Unauthorized"}):v&&(x||!Y)?i.maxQuantity&&i.limitSaleType===o.LimitSaleType.DISCORD_ID&&(void 0===c?-1/0:c)>=i.maxQuantity?(0,eA.jsx)(W.z,{className:"hel-rounded-3xl hel-w-full",disabled:!0,children:nX}):y?b?null!=j&&j<=0?(0,eA.jsx)(W.z,{className:"hel-rounded-3xl hel-w-full",disabled:!0,children:nX}):S?k?i.isSubscription&&i.addTelegramGroup&&!(null!=A&&A.id)?(q||I(!0),(0,eA.jsx)("div",{id:"telegram-login",className:"hel-flex hel-justify-center"})):(0,eA.jsx)(eA.Fragment,{children:l}):(0,eA.jsx)(ny,{paymentData:i}):(0,eA.jsx)(W.z,{className:"hel-rounded-3xl hel-w-full",disabled:!0,children:"COMING SOON"}):(0,eA.jsx)(W.z,{className:"hel-rounded-3xl hel-w-full",disabled:!0,children:"Wallet not allowed"}):(0,eA.jsx)(nG,{}):(0,eA.jsx)(eY.T,{className:"hel-rounded-3xl"}):(0,eA.jsx)(nK,{}):null:(0,eA.jsx)(W.z,{className:"hel-rounded-3xl hel-w-full",isLoading:!0,showLoadingMessage:!0,isDropShadow:Q,children:ng.ix})},n0=t(76007),n1=t(27616),n2=t(14546),n4=function(e){var n=e.paymentData,t=e.fieldValues,r=e.setFieldValue,l=e.decimalAmount,i=(0,h.I0)(),a=(0,n1.cj)().actions,o=(0,h.v9)(n2.kJ),s=(0,h.v9)(n2.zh),c=(0,h.v9)(n2.BT),u=(0,d.useState)(!0),m=u[0],p=u[1];return(0,d.useEffect)(function(){s&&((0,f.Jc)(s),i(a.setError(void 0)),(0,w.O7)(s))},[a,i,s]),(0,d.useEffect)(function(){i(a.loadDiscountCode({paymentDataId:n.id,discountToken:null==t?void 0:t.discountToken}))},[a,l,i,null==t?void 0:t.discountToken,n.id]),(0,eA.jsx)("div",{className:"hel-mb-3",children:m?!o&&(0,eA.jsxs)("div",{className:(0,X.Z)((0,n0.Rg)(),"hel-cursor-pointer hel-justify-between"),onClick:function(){return p(!1)},children:[(0,eA.jsx)("div",{className:"helio-background-secondary hel-flex hel-w-[24px] hel-h-[24px] hel-rounded-[8px] hel-items-center hel-justify-center",children:(0,eA.jsx)(eF.J,{iconName:"Plus",className:"helio-fill-primary hel-w-[10px] hel-h-[10px] hel-cursor-pointer"})}),(0,eA.jsx)("span",{className:"helio-text-link helio-text-link@hover hel-ml-[8px]","data-testid":eE.H.checkoutForm.discountButton,children:"Add discount code"})]}):(0,eA.jsx)($.k,{label:"Discount code",fieldId:"discountToken",fieldName:"discountToken",placeholder:"Enter discount code",onKeyPress:function(e){"Enter"===e.key&&e.preventDefault()},onChange:function(e){r("discountToken",e.target.value.toUpperCase())},className:c&&"hel-rounded-b-none hel-rounded-t-3xl",inputClassName:c&&"hel-rounded-none hel-rounded-tl-3xl",isWithErrors:!1,suffix:(0,eA.jsx)("div",{className:"hel-flex",children:o?(0,eA.jsx)(eF.J,{iconName:"ArrowCircle",className:"helio-fill-primary hel-w-6 hel-mr-[10px] hel-h-6 hel-animate-spin"}):(0,eA.jsx)("div",{className:(0,X.Z)((0,n0.Rg)(),"hel-mr-[10px]"),onClick:function(){r("discountToken",void 0),p(!0)},children:(0,eA.jsx)(eF.J,{iconName:"Cross"})})})})})},n3=t(65257),n6=t(22530),n9=function(e){var n,t,r,l,i,a=e.changeSelectValue,s=e.ctaButton,c=e.decimalAmount,d=e.discordTxsCount,m=e.isCharge,f=e.payInterval,p=e.paymentData,v=e.productDetailsDescriptionShown,x=e.selectValue,y=e.setPayInterval,b=e.setProductDetailsDescriptionShown,j=e.setTotalAmount,k=e.totalPriceBanner,w=e.transactionsRemaining,C=e.volume,S=(0,T.rI)().isBlockchainConnected,D=(0,N.g_)().checkoutType,E=(0,V.C)({recipientPK:p.recipients?p.recipients[0].wallet.publicKey:null===(n=p.owner)||void 0===n?void 0:n.wallets.items[0].publicKey,mintAddress:null===(t=p.currency)||void 0===t?void 0:t.mintAddress}).canPayATA,P=(0,Q.t)().telegramAuth.telegramUser;J(p);var A=(0,h.v9)(n2.BT),O=(0,L.u6)(),q=O.setFieldValue,I=O.values,R=p.streamPeriod,U=p.canChangePrice,F=!S&&D!==N.HX.EMBEDDED&&!m;return(0,eA.jsx)("div",{className:(0,u.default)(F&&["helio-background-container","hel-fixed hel-z-40 hel-left-0 hel-right-0 hel-w-full hel-px-4 hel-py-2","md:hel-static md:hel-bottom-auto md:hel-z-auto md:hel-left-auto","md:hel-right-auto md:hel-p-0 md:hel-w-auto"],F&&U&&"hel-bottom-0",F&&!U&&"hel-bottom-12"),children:(0,eA.jsxs)(n$,{discordTxsCount:d,paymentData:p,showConnectButton:!S,children:[(null==p||null===(r=p.subscriptionDetails)||void 0===r?void 0:r.interval)===o.IntervalType.MONTH&&null!==(l=p.subscriptionDetails)&&void 0!==l&&l.annualDiscountBps?(0,eA.jsx)("div",{className:"hel-mb-3",children:(0,eA.jsx)(eW.J,{isChecked:I.isSubscriptionAnnual,text:"Save ".concat(g.NumberService.BPSToPercent(p.subscriptionDetails.annualDiscountBps),"% with annual discount"),setChecked:function(){return null},onChange:function(e){q("isSubscriptionAnnual",e),q("quantity",e?12:1)}})}):null,(null==p?void 0:p.requireMaxTransactions)&&null!=C&&(0,eA.jsxs)("p",{className:"helio-text-link hel-text-sm hel-font-bold hel-mb-1","data-testid":eE.H.checkoutForm.remainingTransactions,children:[(null==p?void 0:p.maxTransactions)-C," remaining"]}),!!p.maxTime&&(0,eA.jsxs)("div",{className:"hel-flex hel-flex-col hel-gap-y-1",children:[(0,eA.jsxs)(ee._,{info:"You can increase or reduce the duration and cancel at any time to receive the amount for the remaining time back",required:!0,children:["Duration (",n6.q[R],")"]}),(0,eA.jsx)(eM.Y,{fieldId:"maxTime",fieldName:"maxTime",onChange:function(e){var n=Number(e.target.value);q("maxTime",n),j(c.multipliedBy(n)),y(n)},onlyWholeNumbers:!0,value:f})]}),k,(0,eA.jsx)(eH,{paymentData:p,transactionsRemaining:w}),(null==p?void 0:p.showDiscountCode)&&(null==p||null===(i=p.discountCodes)||void 0===i?void 0:i[0].tokenType)===o.DCTokenType.CODE&&(0,eA.jsxs)("div",{children:[(0,eA.jsx)(n4,{decimalAmount:c,fieldValues:I,paymentData:p,setFieldValue:q}),A&&(0,eA.jsx)(n3.k,{className:"hel-rounded-b-3xl hel-rounded-t-none hel-mb-4 -hel-mt-4",decimalAmount:c,discountData:A,paymentData:p,pricingCurrency:p.pricingCurrency,testid:eE.H.checkoutForm.discountedPriceBanner,title:"Discounted Price"})]}),(null==p?void 0:p.requireDiscordUsername)&&(null==p?void 0:p.requireDiscordLogin)&&!(null!=p&&p.isSubscriptionRenewal)&&(0,eA.jsx)("div",{className:(0,u.default)(eP.j,"hel-mb-4"),children:(0,eA.jsx)($.k,{disabled:!0,fieldId:"discordUsername",fieldName:"discordUsername",label:"Discord username",placeholder:"Helio"})}),(null==p?void 0:p.requireTelegramUsername)&&(null==p?void 0:p.addTelegramGroup)&&(null==p?void 0:p.isSubscription)&&!(null!=p&&p.isSubscriptionRenewal)&&(0,eA.jsx)("div",{className:(0,u.default)(eP.j,"hel-mb-4"),children:(0,eA.jsx)($.k,{disabled:!0,fieldId:"telegramUsername",fieldName:"telegramUsername",label:"Telegram username",placeholder:"@Helio",fieldValue:null==P?void 0:P.username,"data-testid":"disabled-telegram-username-input"})}),((null==p?void 0:p.requireEmail)||(null==p?void 0:p.requireFullName)||(null==p?void 0:p.requireTwitterUsername)||(null==p?void 0:p.requireTelegramUsername)||(null==p?void 0:p.requireCountry)||(null==p?void 0:p.requireDeliveryAddress)||(null==p?void 0:p.requirePhoneNumber)||(null==p?void 0:p.requireProductDetails)||(null==p?void 0:p.requireTradingViewUsername)||(null==p?void 0:p.requireDiscordUsername)&&!(null!=p&&p.requireDiscordLogin)||!1)&&!(null!=p&&p.isSubscriptionRenewal)&&(0,eA.jsx)(eZ,{changeSelectValue:a,paymentData:p,productDetailsDescriptionShown:v,selectValue:x,setProductDetailsDescriptionShown:b}),(0,eA.jsx)("div",{className:(0,u.default)("[&>button]:hel-w-full [&>button]:hel-rounded-3xl",D===N.HX.HOSTED&&!m&&["hel-fixed hel-bottom-14 hel-z-40 hel-w-full hel-right-0 hel-left-0 hel-px-4","md:hel-relative md:hel-bottom-auto md:hel-p-0 md:hel-mx-0","md:hel-z-auto md:hel-w-auto md:hel-right-auto md:hel-left-auto"],U&&"hel-bottom-4"),children:s}),!E&&(0,eA.jsx)("p",{className:"helio-text-danger hel-italic hel-mt-1",role:"alert",children:ez.ataWarning})]})})},n7=t(9259),n5=t(72641),n8=t(49243),te=t(30164),tn=function(e){var n,t=e.decimalAmount,r=e.setDecimalAmount,l=e.quantity,i=void 0===l?1:l,a=e.isSwapsMenu,s=(0,h.I0)(),c=(0,S.qO)().actions,m=(0,p.H4)().initialChargeCurrencySymbol,f=(0,T.rI)(),v=f.blockchain,y=f.paymentRequest,b=f.currency,j=f.setCurrency,k=f.userPrice,w=f.recipients,N=(0,x.U)().tokenConversionService,C=(0,h.v9)(D.re),E=(0,h.v9)(te.zd),P=(0,h.v9)(n2.BT),A=(0,d.useState)([]),O=A[0],q=A[1],I=(0,z.p)(),R=I.dynamicRate,L=I.rateToken,U=I.loadTokenPrice,F=(0,d.useCallback)(function(e){var n,t,r=e.value,l=null==w?void 0:w.find(function(e){return e.currency.id===r});if(l){j(l.currency);var i=null!=y&&y.canChangePrice?N.convertToMinimalUnits({symbol:null==y||null===(n=y.pricingCurrency)||void 0===n?void 0:n.symbol,decimalAmount:k,blockchain:null==y||null===(t=y.pricingCurrency)||void 0===t||null===(t=t.blockchain)||void 0===t?void 0:t.symbol}):null==y?void 0:y.price;i&&null!=y&&y.pricingCurrency&&U({toCurrency:l.currency,amount:i.toString(),paymentData:y})}},[w,U,y,j,N,k]),B=(0,d.useCallback)(function(){!C||!(null!=b&&b.symbol)||!t||!L||new g.TokenConversionServiceV2(E).convertToMinimalUnits({symbol:b.symbol,decimalAmount:t,blockchain:v})<=BigInt(0)||s(c.partialUpdateCharge({token:C,body:{quantity:Number(i)}}))},[L,C,b,t,v,s,c,E,i]);(0,d.useEffect)(function(){B()},[B]),(0,d.useEffect)(function(){if(w&&v){var e,n=w.filter(function(e){var n;return(null===(n=e.currency)||void 0===n?void 0:n.blockchain.symbol)===v}),t=(null==y||null===(e=y.pricingCurrency)||void 0===e?void 0:e.type)!==o.CurrencyType.FIAT?n.findIndex(function(e){var n,t;return(null===(n=e.currency)||void 0===n?void 0:n.symbol)===(null==y||null===(t=y.pricingCurrency)||void 0===t?void 0:t.symbol)}):-1;if(t>-1){var r=n.splice(t,1),l=(0,nc.Z)(r,1)[0];n.unshift(l)}var i=n.map(function(e){return{symbol:e.currency.symbol,imgUrl:e.currency.iconUrl,label:e.currency.name,value:e.currency.id,icon:(0,eA.jsx)(n8.T,{imageUrl:e.currency.iconUrl,isImagePreferred:!0,size:24,token:e.currency.symbol})}});if(q(i),i.length>0){var a=m?null==i?void 0:i.find(function(e){return e.symbol===m}):void 0;F(null!=a?a:i[0])}}},[w,y,v,j,F,m]),(0,d.useEffect)(function(){null!=b&&null!=R&&(null==r||r(N.convertFromMinimalUnits({symbol:b.symbol,minimalAmount:BigInt(R),blockchain:v})))},[R,b,v,N,r]);var _=(0,d.useMemo)(function(){return 1===new Set(null==w?void 0:w.map(function(e){var n;return null===(n=e.currency)||void 0===n?void 0:n.symbol})).size},[w]),Z=(null==y?void 0:y.requireRaffle)&&(null==y||null===(n=y.raffleDetails)||void 0===n?void 0:n.state)===o.RaffleState.RAFFLE_STARTED;return null==b||!w||_||Z?null:(0,eA.jsxs)("div",{className:(0,u.default)(eP.j,{"hel-hidden":void 0!==a&&a}),children:[(0,eA.jsx)(n7._,{children:"Pay with"}),O.length>0&&(0,eA.jsx)(n5.Selection,{onChange:function(e){return F(O[e])},children:null==O?void 0:O.map(function(e){var n;return(0,eA.jsxs)("div",{className:"hel-flex hel-justify-between hel-items-center hel-w-full",children:[(0,eA.jsxs)("span",{children:[(0,eA.jsx)("span",{className:"checkout-selection-price",children:(n=P?g.DiscountCodePaymentsService.getDiscountDecimalAmount(t.multipliedBy(i),P.percent):t.multipliedBy(i),null!=b?N.formatPrice({currency:b,decimalAmount:n,enforceDecimalRule:!0}):String(0))})," ",e.symbol]}),(0,eA.jsx)(n8.T,{imageUrl:e.imgUrl,isImagePreferred:!0,size:24,token:e.symbol})]},e.value)})},O[0].value)]})},tt=t(72558),tr=function(e){var n,t,r,l,i,a,o=e.paymentData,s=e.handleUserSetPriceChange,c=(0,L.u6)().setFieldValue;return(0,eA.jsx)("div",{children:(0,eA.jsxs)("div",{className:"hel-text-left hel-flex hel-flex-col hel-gap-y-1",children:[(0,eA.jsx)(ee._,{required:!0,children:"Name your own price"}),(0,eA.jsx)($.k,{fieldId:"userSetPrice",fieldName:"userSetPrice",prefix:null==o||null===(n=o.pricingCurrency)||void 0===n?void 0:n.symbolPrefix,suffix:o.pricingCurrency&&(0,eA.jsxs)("div",{className:"helio-text-highest-contrast hel-text-base hel-font-light hel-flex hel-flex-row hel-items-center hel-pr-2 hel-gap-x-2",children:[(0,eA.jsx)("p",{children:null==o||null===(t=o.pricingCurrency)||void 0===t?void 0:t.symbol}),(0,eA.jsx)(n8.T,{imageUrl:null!==(r=null==o||null===(l=o.pricingCurrency)||void 0===l?void 0:l.iconUrl)&&void 0!==r?r:"",isImagePreferred:!0,size:24,token:null!==(i=null==o||null===(a=o.pricingCurrency)||void 0===a?void 0:a.symbol)&&void 0!==i?i:""})]}),onChange:function(e){var n=e.target.value;if(RegExp(/^\d*\.?\d*$/).test(n)){var t=(0,tt.Z)(n);c("userSetPrice",n),s(t)}}})]})})},tl=t(85898),ti=t(55674),ta=function(e){var n=e.accessCodeConfirmed,t=e.isConnected;return(0,eA.jsx)(eA.Fragment,{children:n?(0,eA.jsxs)("div",{className:"hel-flex hel-gap-x-2 hel-items-center",children:[(0,eA.jsx)(eF.J,{className:"helio-fill-success-alternative hel-w-[20px] hel-h-[20px]",iconName:"CircleTick"}),(0,eA.jsx)("p",{children:"Access code confirmed"})]}):(0,eA.jsx)("div",{children:(0,eA.jsxs)("div",{className:"hel-flex hel-items-center hel-gap-x-4 hel-w-full",children:[(0,eA.jsx)("div",{className:"hel-p-4 hel-rounded-3xl helio-background-secondary",children:(0,eA.jsx)(eF.J,{iconName:"Lock",className:"helio-fill-primary"})}),(0,eA.jsxs)("div",{className:"hel-flex hel-flex-col sm:hel-w-[280px]",children:[(0,eA.jsx)("div",{className:"hel-text-sm helio-text-display hel-font-bold","data-testid":eE.H.checkoutForm.accessLockedHeader,children:"Access locked"}),(0,eA.jsx)("div",{className:"hel-text-sm helio-text-display hel-font-normal",children:t?"Enter the access code to unlock this sale.":"Connect wallet and enter the access code to unlock this sale."})]})]})})})},to=function(e){var n=e.allowlistConfirmed,t=e.isRaffle;if(n)return(0,eA.jsxs)("div",{className:"hel-flex hel-gap-x-2 hel-items-center",children:[(0,eA.jsx)(eF.J,{className:"helio-fill-success-alternative hel-w-[20px] hel-h-[20px]",iconName:"CircleTick"}),(0,eA.jsx)("p",{children:"Wallet confirmed"})]});var r=t?"Raffle winner allowlist":"Allowlist only access";return(0,eA.jsxs)("div",{className:"hel-flex hel-items-center hel-gap-x-4 hel-w-full",children:[(0,eA.jsx)("div",{className:"hel-p-4 hel-rounded-3xl helio-background-secondary",children:(0,eA.jsx)(eF.J,{iconName:"Lock",className:"helio-fill-primary"})}),(0,eA.jsxs)("div",{className:"hel-flex hel-flex-col sm:hel-w-[280px]",children:[(0,eA.jsx)("div",{className:"hel-text-sm helio-text-display hel-font-bold","data-testid":"@checkout-form/".concat((0,eE.c)(r)),children:r}),(0,eA.jsx)("div",{className:"hel-text-sm helio-text-display hel-font-normal","data-testid":eE.H.checkoutForm.allowListMessage,children:"This payment is locked to a list of pre-approved wallet addresses."})]})]})},ts=function(){return(0,eA.jsxs)("div",{className:e8,children:[(0,eA.jsx)(eX,{icon:"Timer"}),(0,eA.jsx)("p",{className:ne,children:"Access ended"})]})};function tc(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function tu(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?tc(Object(t),!0).forEach(function(n){(0,R.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):tc(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var td=function(e){var n=e.countdownDetails,t=(0,p.tq)().countdownDetails,r=t.currentDate,l=t.isStarted,i=t.hasEndDate,a=t.isEnded,o=n.startDatetime,s=n.endDatetime||e5.f.newDate();if(l&&!i)return null;if(i&&a)return(0,eA.jsx)(ts,{});var c={title:"Access",currentDate:r};return l?(0,eA.jsx)(no,tu(tu({},c),{},{countdownDate:s,isEnding:i})):(0,eA.jsx)(no,tu(tu({},c),{},{countdownDate:o}))},th=function(e){var n=e.userHasRole;return(0,eA.jsx)(eA.Fragment,{children:n?(0,eA.jsxs)("div",{className:"hel-flex hel-gap-x-2 hel-items-center",children:[(0,eA.jsx)(eF.J,{className:"helio-fill-success-alternative hel-w-5 hel-h-5",iconName:"CircleTick"}),(0,eA.jsx)("p",{children:"Discord role confirmed"})]}):(0,eA.jsxs)("div",{className:"hel-flex hel-items-center hel-gap-x-4 hel-w-full",children:[(0,eA.jsx)("div",{className:"hel-p-4 hel-rounded-3xl helio-background-secondary",children:(0,eA.jsx)(eF.J,{iconName:"DiscordCircle",className:"helio-fill-primary"})}),(0,eA.jsxs)("div",{className:"hel-flex hel-flex-col sm:hel-w-[330px]",children:[(0,eA.jsx)("div",{className:"hel-text-sm helio-text-display hel-font-bold",children:"Access restricted to a Discord role"}),(0,eA.jsx)("div",{className:"helio-text-display hel-text-sm hel-font-normal",children:"Login to unlock this sale."})]})]})})},tm=t(41687),tf=function(e){var n=e.userContainsNft,t=e.nftName;return(0,eA.jsx)(eA.Fragment,{children:void 0!==n&&n?(0,eA.jsxs)("div",{className:"hel-flex hel-items-center hel-gap-x-2",children:[(0,eA.jsx)(eF.J,{iconName:"CircleTick",className:"helio-fill-success-alternative hel-w-5 hel-h-5"}),(0,eA.jsx)("p",{children:"NFT confirmed"})]}):(0,eA.jsxs)("div",{children:[(0,eA.jsxs)("div",{className:"hel-flex hel-items-center hel-gap-x-4 hel-w-full",children:[(0,eA.jsx)("div",{className:"hel-p-4 hel-rounded-3xl helio-background-secondary",children:(0,eA.jsx)(eF.J,{iconName:"Door",className:"helio-fill-primary"})}),(0,eA.jsxs)("div",{className:"hel-flex hel-flex-col sm:hel-w-[280px]",children:[(0,eA.jsx)("div",{className:"hel-text-sm helio-text-display hel-font-bold",children:"NFT-gated access"}),(0,eA.jsx)("div",{className:"hel-text-sm helio-text-display hel-font-normal",children:"Prove ownership of the NFT collection to access this sale."})]})]}),t&&(0,eA.jsxs)("div",{className:"hel-flex hel-h-[56px] hel-items-center hel-justify-between",children:[(0,eA.jsx)("h3",{children:t}),(0,eA.jsx)(eF.J,{iconName:"Link",className:"helio-fill-primary"})]})]})})},tp=function(){return(0,eA.jsxs)("div",{className:"hel-flex hel-items-center hel-gap-x-4 hel-w-full",children:[(0,eA.jsx)("div",{className:"hel-p-4 hel-rounded-3xl helio-background-secondary",children:(0,eA.jsx)(eF.J,{iconName:"Bolt",className:"helio-fill-primary"})}),(0,eA.jsxs)("div",{className:"hel-flex hel-flex-col sm:hel-w-[280px]",children:[(0,eA.jsx)("div",{className:"hel-text-sm helio-text-display hel-font-bold",children:"This is a subscription payment"}),(0,eA.jsx)("div",{className:"hel-text-sm helio-text-display hel-font-normal",children:"We will send you renewal reminders."})]})]})},tv=function(){return(0,eA.jsxs)("div",{className:"hel-flex hel-items-center hel-gap-x-4 hel-w-full",children:[(0,eA.jsx)("div",{className:"hel-p-4 hel-rounded-3xl helio-background-secondary",children:(0,eA.jsx)(eF.J,{iconName:"TelegramCircle",className:"helio-fill-primary"})}),(0,eA.jsx)("div",{className:"hel-flex hel-flex-col sm:hel-w-[330px]",children:(0,eA.jsx)("div",{className:"hel-text-sm helio-text-display hel-font-bold",children:"This sale includes Telegram access"})})]})},tx=t(13092),ty=function(e){var n,t,r=e.discountCode,l=(0,x.U)().currencies;return(0,eA.jsxs)("div",{className:"hel-flex hel-items-center hel-gap-x-4 hel-w-full",children:[(0,eA.jsx)("div",{className:"hel-p-4 hel-rounded-3xl helio-background-secondary",children:(0,eA.jsx)(n8.T,{token:null!==(n=r.token)&&void 0!==n?n:"",imageUrl:null===(t=l.find(function(e){return e.symbol===r.token}))||void 0===t?void 0:t.iconUrl,isImagePreferred:!0,size:24})}),(0,eA.jsxs)("div",{className:"hel-flex hel-flex-col sm:hel-w-[280px]",children:[(0,eA.jsxs)("p",{className:"hel-text-sm helio-text-display hel-font-bold",children:[r.token," discount"]}),(0,eA.jsx)("p",{className:"hel-text-sm helio-text-display hel-font-normal",children:(0,eA.jsxs)("span",{className:"helio-text-primary hel-font-bold",children:[r.percent,"% off"]})})]})]},r.id)},tg=function(e){var n=e.discountCodes;return(0,eA.jsx)(eA.Fragment,{children:null==n?void 0:n.map(function(e){return(0,eA.jsx)(ty,{discountCode:e},e.id)})})},tb=function(e){var n,t=e.paymentData;e.decimalAmount,e.quantity;var r=(0,tl.z)(),l=(0,ti.m)().isConnected,i=(0,s.Gn)().paymentAddress,a=(0,p.tq)(),c=a.discordAuth.isAuthorized,u=a.accessCodeAuth.isAuthorized,m=a.allowlistAuth.isAuthorized;(0,d.useEffect)(function(){w.kg.debug("CheckoutGateCard - isDiscordAuthorized: ".concat(c,", does payment require discord auth? ").concat(null==t?void 0:t.requireDiscordAuth))},[c,null==t?void 0:t.requireDiscordAuth]);var f=(0,h.v9)(nW),v=(0,h.v9)(nO),x=(0,h.v9)(nV),y=!!r||l||!!i;return t.isSubscriptionRenewal?(0,eA.jsx)(tp,{}):(0,eA.jsxs)(eA.Fragment,{children:[(null==t?void 0:t.isSubscription)&&(0,eA.jsx)(tp,{}),t.showDiscountCode&&(null==t||null===(n=t.discountCodes)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.tokenType)===o.DCTokenType.CURRENCY&&(0,eA.jsx)(tg,{discountCodes:t.discountCodes}),(null==t?void 0:t.requireNftGate)&&(0,eA.jsx)(tf,{nftName:x,userContainsNft:f&&!!r||v&&l}),(null==t?void 0:t.requireDiscordAuth)&&(0,eA.jsx)(th,{userHasRole:c&&y}),(0,tx.z)(t)&&(0,eA.jsx)(tm.r,{discordAccessRequired:!!t.discordAction,isUsernameShared:c&&y}),(null==t?void 0:t.addTelegramGroup)&&(0,eA.jsx)(tv,{}),(null==t?void 0:t.requireAccessCode)&&(0,eA.jsx)(ta,{isConnected:y,accessCodeConfirmed:u&&y}),(null==t?void 0:t.requireAllowlist)&&(0,eA.jsx)(to,{isRaffle:!!t.requireRaffle,allowlistConfirmed:m&&y}),(null==t?void 0:t.enableCountdown)&&t.countdownDetails&&(0,eA.jsx)(td,{countdownDetails:t.countdownDetails})]})},tj=function(e){var n=e.discountCodes,t=e.decimalAmount,r=e.paymentData,l=e.selectedCurrency,i=(0,h.I0)(),a=(0,n1.cj)().actions,o=(0,T.rI)().currency,s=null!=l?l:null==o?void 0:o.symbol,c=n.find(function(e){return e.token===s});return((0,d.useEffect)(function(){c?i(a.setDiscountData(c)):i(a.setDiscountData(void 0))},[c,i,a]),c)?(0,eA.jsxs)("div",{className:"hel-mt-4","aria-label":"Discount currency information",children:[(0,eA.jsx)("p",{children:"Discount applied"}),(0,eA.jsxs)("p",{className:"helio-border-input helio-text-display helio-background-input hel-text-sm hel-p-3 hel-mt-1 hel-rounded-t-3xl hel-border",children:[c.percent,"% Discount"]}),(0,eA.jsx)(n3.k,{className:"hel-rounded-t-none hel-rounded-b-3xl hel-h-[44px]",decimalAmount:t,discountData:c,paymentData:r,title:"Discounted Price"})]}):null},tk=function(e){var n=e.paymentData,t=(0,h.I0)(),r=(0,tl.z)(),l=(0,n1.cj)().actions,i=(0,h.v9)(n2.WD),a=(0,h.v9)(n2.mH),o=(0,h.v9)(n2.kJ),s=(0,h.v9)(n2.zh);return(0,d.useEffect)(function(){s&&((0,f.Jc)(s),t(l.setError(void 0)),(0,w.O7)(s))},[l,t,s]),(0,d.useEffect)(function(){t(l.loadDiscountToken({discountData:null==n?void 0:n.discountCodes,publicKeyString:String(null==r?void 0:r.publicKey)}))},[l,t,null==n?void 0:n.discountCodes,n.id,null==r?void 0:r.publicKey]),(0,eA.jsxs)("div",{className:"hel-flex hel-flex-col","data-testid":eE.H.checkoutForm.nftDiscountBanner,children:[(0,eA.jsxs)("div",{className:"hel-flex",children:[(0,eA.jsx)("div",{className:"helio-fill-primary helio-background-secondary hel-w-[56px] hel-p-4 hel-h-[56px] hel-rounded-3xl",children:(0,eA.jsx)(eF.J,{iconName:"Percent"})}),(0,eA.jsxs)("div",{className:"hel-flex hel-flex-col hel-ml-[16px] sm:hel-w-[280px]",children:[(0,eA.jsx)("span",{className:"helio-text-display hel-text-sm hel-font-bold",children:"NFT discount"}),(0,eA.jsxs)("span",{"data-testid":eE.H.checkoutForm.nftDiscountMessage,className:"helio-text-display hel-text-sm",children:["A ",a,"% discount is automatically applied if you hold the relevant NFT"]})]}),o&&(0,eA.jsx)("div",{className:"helio-fill-primary hel-flex hel-items-center",children:(0,eA.jsx)(eF.J,{iconName:"ArrowCircle",className:"hel-h-6 hel-w-6 hel-animate-spin"})})]}),(null==i?void 0:i.name)&&(0,eA.jsxs)("div",{className:"hel-flex hel-h-[56px] hel-items-center",children:[(0,eA.jsx)("h3",{children:null==i?void 0:i.name}),(0,eA.jsx)(eF.J,{iconName:"Link",className:"hel-fill-h60"})]}),(null==i?void 0:i.hasNFT)&&(0,eA.jsxs)("div",{className:"hel-mt-4",children:[(0,eA.jsx)("p",{children:"Discount applied"}),(0,eA.jsxs)("div",{"data-testid":eE.H.checkoutForm.nftDiscountApplied,className:"helio-border-input helio-text-display helio-background-input hel-text-sm hel-p-3 hel-mt-1 hel-rounded-t-3xl hel-border",children:[a,"% Discount"]})]})]})},tw=function(){return(0,eA.jsxs)("div",{className:"hel-flex hel-gap-4","data-testid":"CheckoutNFTAirdrop",children:[(0,eA.jsx)("div",{className:"hel-p-4 hel-rounded-3xl helio-background-secondary hel-flex hel-items-center",children:(0,eA.jsx)(eF.J,{className:"helio-text-body-active",iconName:"Parachute"})}),(0,eA.jsxs)("div",{className:"hel-flex hel-flex-col hel-justify-center",children:[(0,eA.jsx)("p",{className:"helio-text-display hel-text-sm hel-font-bold hel-mb-0",children:"Airdrop cNFT"}),(0,eA.jsx)("p",{className:"helio-text-display hel-text-sm hel-mb-0",children:"This sale includes an Airdrop."})]})]})},tN=t(72714),tC=t(84690),tT=t(3340),tS=t(9175),tD=t(87822),tE=t(92732),tP=(0,eN.P1)([function(e){return(null==e?void 0:e.checkoutSearchParams)||tE.E3}],function(e){return e.checkoutSearchParams}),tA=t(50975),tO=t(52746),tq=t(53063),tI=t(73968);function tR(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function tL(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?tR(Object(t),!0).forEach(function(n){(0,R.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):tR(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var tU=function(){var e=(0,s.Eu)(),n=e.payload,t=e.signout,r=(0,N.g_)(),l=r.push,i=r.query,a=(0,T.rI)(),c=a.blockchain,d=a.recipients,h=a.setBlockchain,m=function(e){var r;(null==n||null===(r=n.wallet)||void 0===r?void 0:r.type)===o.WalletType.WEB3AUTH&&e!==o.BlockchainSymbol.SOL&&(null==t||t()),null==l||l({query:tL(tL({},i),{},{network:e})}),h(e)},f=null==d?void 0:d.map(function(e){var n;return null===(n=e.currency)||void 0===n||null===(n=n.blockchain)||void 0===n?void 0:n.symbol}).filter(Boolean),p=(0,tO.Z)(new Set(f));if(!c||!d||d.length<=1||p.length<=1)return null;var v=d.map(function(e){var n;return{label:null!==(n=tI.A.getBlockchainActualName(e.currency.blockchain.symbol))&&void 0!==n?n:e.currency.blockchain.name,id:e.currency.blockchain.symbol,icon:e.currency.blockchain.symbol}}).reduce(function(e,n){return e.some(function(e){return e.id===n.id})||e.push(n),e},[]);return(0,eA.jsxs)("div",{children:[(0,eA.jsx)(n7._,{className:"hel-mb-1",children:"Network"}),(0,eA.jsx)(tq.uH,{name:"network",children:v.map(function(e){return(0,eA.jsxs)(tq.fy,{defaultChecked:c===e.id,groupName:"network",id:String(e.id),onClick:function(e){return m(e.currentTarget.value)},children:[(0,eA.jsx)(n8.T,{className:(0,u.default)("hel-w-5 hel-h-5 [&>svg]:hel-w-5 [&>svg]:hel-h-5",c===e.id?"helio-background-primary":"helio-background-pill"),token:e.icon}),e.label]},e.id)})})]})},tF=function(e){var n=e.nftCollectionAddress,t=e.requireNftGate,r=e.blockchainEngine,l=(0,h.I0)(),i=nH().actions,a=((0,er.v)({key:nD.name,reducer:nD.reducer}),(0,er.h)({key:nD.name,saga:nT}),{actions:nD.actions}).actions,s=(0,T.rI)(),c=s.solanaWallet,u=s.evmPublicKey,m=s.currency;(0,d.useEffect)(function(){t&&null!=n&&r===o.BlockchainEngineType.SOL&&l(i.loadNftCollectionName({nftTokenAddressString:n}))},[l,i,n,t,r]),(0,d.useEffect)(function(){null!=c&&r===o.BlockchainEngineType.SOL&&t&&null!=n&&l(i.loadUserContainsNft({customerPublicKey:c.publicKey,merchantTokenAddressString:n})),r===o.BlockchainEngineType.EVM&&null!=u&&t&&null!=n&&(null==m?void 0:m.blockchain)!=null&&l(a.loadUserContainsNft({publicKey:u,nftCollectionAddress:n,blockchainSymbol:m.blockchain.symbol}))},[r,m,l,a,u,n,i,t,c])},tB=t(62202),t_=t(47121),tZ=function(e){var n=e.toastId;return(0,eA.jsxs)("div",{className:"hel-flex hel-flex-row hel-items-center hel-justify-between hel-w-[1120px]",children:[(0,eA.jsxs)("div",{className:t_.uN,children:[(0,eA.jsx)(eF.J,{iconName:"WarningTriangle"}),(0,eA.jsx)("p",{className:t_.Sh,children:"NFT confirmation failed."}),(0,eA.jsx)("p",{className:t_.kv,children:"We couldn't identify the relevant NFT in your wallet to give access. Please make sure you have connected the correct wallet."})]}),(0,eA.jsx)("div",{className:t_.jA,onClick:function(){tB.ZP.remove(n)},children:(0,eA.jsx)(eF.J,{iconName:"Cross",className:"hel-h-8 hel-w-8"})})]})},tM="unauthorized-nft-gate-toast",tH=function(e){var n=e.paymentData,t=(0,T.rI)(),r=t.solanaWallet,l=t.evmPublicKey,i=(0,h.v9)(nW),a=(0,h.v9)(nQ),o=(0,h.v9)(nO),s=(0,h.v9)(nA),c=r&&!a&&!1===i,u=null!=l&&!s&&!1===o;(0,d.useEffect)(function(){n.requireNftGate&&(c||u)&&(0,tB.Am)((0,eA.jsx)(tZ,{toastId:tM}),{duration:5e3,style:{maxWidth:"initial"},id:tM})},[u,c,n.requireNftGate])},tz=function(e){var n,t,r=e.paymentData,l=e.canChangePrice,i=e.paylinkVolume,a=e.country,o=e.forcedQuantity;return{requireEmail:null==r?void 0:r.requireEmail,requireDiscordUsername:null==r?void 0:r.requireDiscordUsername,requireFullName:null==r?void 0:r.requireFullName,requireTwitterUsername:null==r?void 0:r.requireTwitterUsername,requireTelegramUsername:null==r?void 0:r.requireTelegramUsername,requireCountry:null==r?void 0:r.requireCountry,requireDeliveryAddress:null==r?void 0:r.requireDeliveryAddress,requirePhoneNumber:null==r?void 0:r.requirePhoneNumber,requireProductDetails:null==r?void 0:r.requireProductDetails,canChangePrice:l,canChangeQuantity:null==r?void 0:r.canChangeQuantity,requireQuantityLimits:null==r?void 0:r.requireQuantityLimits,minQuantity:null==r?void 0:r.minQuantity,maxQuantity:null==r?void 0:r.maxQuantity,requireMaxTransactions:null==r?void 0:r.requireMaxTransactions,requireTradingViewUsername:null==r?void 0:r.requireTradingViewUsername,transactionsLeft:(null==r?void 0:r.maxTransactions)-i,fullName:void 0,email:void 0,discordUsername:void 0,twitterUsername:void 0,telegramUsername:void 0,country:a?{label:a.country_name,value:a.country_code}:void 0,phoneNumber:void 0,productValue:void 0,productOptional:null==r||null===(n=r.product)||void 0===n?void 0:n.optional,quantity:null!=r&&r.canChangeQuantity?null!==(t=null!=o?o:null==r?void 0:r.minQuantity)&&void 0!==t?t:1:void 0,userSetPrice:void 0,maxTime:r.maxTime||0,areaCode:void 0,state:void 0,deliveryAddress:void 0,city:void 0,street:void 0,streetNumber:void 0,swapsCurrency:void 0,discountToken:void 0,tradingViewUsername:void 0,isSubscriptionAnnual:!1}},tW={fullName:void 0,email:void 0,discordUsername:void 0,twitterUsername:void 0,country:void 0,deliveryAddress:void 0,phoneNumber:void 0,tradingViewUsername:void 0,telegramUsername:void 0},tV=t(21085),tQ=t(65921),tG=t(52326),tK=t(82496),tJ=t(31545),tY=t(21809),tX=t(61347),t$=function(e){var n,t,r,l,i,a,s,c,m,f,v,y,g,b,j=e.formValues,k=e.setFieldValue,w=e.paymentData,N=e.decimalAmount,C=e.setDecimalAmount,S=(0,h.I0)(),D=(0,tY.Fg)().theme,E=(0,T.rI)(),P=E.currency,A=E.blockchain,O=(0,x.U)(),q=O.tokenConversionService,I=O.currencyService,R=(0,U.Nr)(j.quantity,500),L=(0,U.Nr)(N.toString(),500),F=(0,z.p)(),B=F.dynamicRate,_=F.loadTokenPrice,Z=(0,tX.JK)().actions,M=(0,h.v9)(tA.es),H=(0,h.v9)(te.zd),W=(0,h.v9)(tA.Ae),V=(0,h.v9)(tA._S),Q=(0,h.v9)(tA.Fr),G=(0,h.v9)(n2.BT),K=(0,p.jc)(),J=(0,d.useState)(P),Y=J[0],X=J[1],$=(0,d.useState)(""),ee=$[0],en=$[1],et=(0,d.useState)(!1),er=et[0],el=et[1],ei=(0,d.useRef)(null),ea=(0,d.useDeferredValue)(ee.trim().toLowerCase()),eo=ee.length>0,es=null==K||null===(v=K.provider)||void 0===v||null===(v=v.publicKey)||void 0===v?void 0:v.toBase58(),ec=(null==W?void 0:W.outAmount)!=null&&!Q,eu=null==M?void 0:M.filter(function(e){var n=e.mintAddress,t=e.symbol,r=e.features;return null!=n&&t!==(null==P?void 0:P.symbol)&&(null==r?void 0:r.includes(o.CurrencyFeature.SWAP))}).map(function(e){var n;return{value:e.symbol,label:"".concat(e.symbol," (").concat(e.name,")"),icon:(0,eA.jsx)(n8.T,{imageUrl:e.iconUrl,isImagePreferred:!0,size:24,token:null!==(n=e.symbol)&&void 0!==n?n:""})}}),ed=(null===(i=w.recipients)||void 0===i?void 0:i.find(function(e){var n,t;return(null===(n=e.currency)||void 0===n?void 0:n.blockchain.symbol)===o.BlockchainSymbol.SOL&&(null===(t=e.currency)||void 0===t?void 0:t.symbol)===(null==P?void 0:P.symbol)}))?{label:"".concat(null==P?void 0:P.symbol," (").concat(null==P?void 0:P.name,")"),value:null!==(a=null==P?void 0:P.symbol)&&void 0!==a?a:"",icon:(0,eA.jsx)(n8.T,{imageUrl:null!==(s=null==P?void 0:P.iconUrl)&&void 0!==s?s:"",isImagePreferred:!0,size:24,token:null!==(c=null==P?void 0:P.symbol)&&void 0!==c?c:""})}:null,eh=(ed?[ed].concat((0,tO.Z)(eu)):eu).filter(function(e){var n=e.value,t=e.label;return!ee||n.toLowerCase().includes(ea)||t.toLowerCase().includes(ea)}),em=function(){if(null!=P&&P.symbol&&(null==Y?void 0:Y.symbol)===P.symbol)return ei.current&&clearTimeout(ei.current);(null==Y?void 0:Y.mintAddress)!=null&&H.length>0&&es&&S(Z.loadTokenSwapQuote({currencies:H,paymentRequestId:w.id,paymentRequestType:w.type,fromMint:Y.mintAddress,toMint:null==P?void 0:P.mintAddress,quantity:j.quantity,minimalUnitAmount:N&&Number(q.convertToMinimalUnits({symbol:null==P?void 0:P.symbol,decimalAmount:N,blockchain:null==P?void 0:P.blockchain.symbol})),discountToken:null==G?void 0:G.token,sender:es}))};return(0,d.useEffect)(function(){ec&&(ei.current&&clearTimeout(ei.current),ei.current=setTimeout(em,3e4))},[Q,W]),(0,d.useEffect)(function(){if(P&&null!=B&&C){var e=q.convertFromMinimalUnits({symbol:P.symbol,minimalAmount:BigInt(B),blockchain:o.BlockchainSymbol.SOL});N&&N.isEqualTo(e)||C(e)}},[P,B,q]),(0,d.useEffect)(function(){if((null==P?void 0:P.mintAddress)!=null){var e;S(Z.loadTokenSwapCurrencies({mintAddress:null!==(e=null==P?void 0:P.mintAddress)&&void 0!==e?e:"",currencies:H}))}},[Z,S,null==P?void 0:P.mintAddress,H]),(0,d.useEffect)(function(){null!=w&&w.price&&P&&w&&(S(Z.resetTokenSwapQuote()),_({toCurrency:P.symbol&&(null==Y?void 0:Y.symbol)===P.symbol?Y:P,amount:w.price.toString(),paymentData:w}),em())},[Z,S,R,_,L,P,w,Y,H,null==G?void 0:G.token,es,q]),(0,d.useEffect)(function(){if(A===o.BlockchainSymbol.SOL&&null!=ed&&ed.value){var e=I.getCurrencyBySymbolAndBlockchain({symbol:null==ed?void 0:ed.value,blockchain:o.BlockchainSymbol.SOL});e&&(k("swapsCurrency",e.symbol),X(e))}},[A,I,null==ed?void 0:ed.value,k]),(0,eA.jsx)("div",{children:V?(0,eA.jsx)("div",{className:"hel-flex hel-w-full hel-flex-row hel-items-center hel-justify-center hel-pb-3",children:(0,eA.jsx)(tN.$,{})}):(0,eA.jsxs)("div",{children:[(0,eA.jsxs)("div",{className:(0,u.default)("hel-flex hel-flex-col hel-gap-y-[5px]",{"hel-mb-2":!er,"hel-mb-36 md:hel-mb-2":er}),children:[(0,eA.jsx)(n7._,{children:"Pay with"}),(0,eA.jsx)(eB.jL,{options:eh,value:{value:null!==(y=null==Y?void 0:Y.symbol)&&void 0!==y?y:"",label:(l=(null==Y?void 0:Y.symbol)===(null==P?void 0:P.symbol),ec&&null!=Y&&!l?"".concat(q.convertFromMinimalAndRound({symbol:Y.symbol,minimalAmount:BigInt(Math.floor(W.inAmount)),blockchain:null==P?void 0:P.blockchain.symbol})," ").concat(null==Y?void 0:Y.symbol):l?"".concat((n=G?tK.X.getDiscountDecimalAmount(N,G.percent):N,null!=(t=null!=Y?Y:void 0)?q.formatPrice({currency:t,decimalAmount:n,enforceDecimalRule:!0}):String(0))," ").concat(null==Y?void 0:Y.symbol):null!==(r=null==Y?void 0:Y.symbol)&&void 0!==r?r:"Select currency")},fieldName:"swapsCurrency",showValidations:!0,onChange:function(e){var n,t;k("swapsCurrency",e.value),X(null!==(n=I.getCurrencyBySymbolAndOptionalBlockchain({symbol:String(e.value),blockchain:null==P||null===(t=P.blockchain)||void 0===t?void 0:t.symbol}))&&void 0!==n?n:null==w?void 0:w.currency),en("")},prefix:(f=ec&&(0,eA.jsx)(tV.$,{isPlaying:!0,duration:30,colors:D.colors.countdownColor,trailColor:D.colors.countdownTrailColor,size:16,strokeWidth:3,onComplete:function(){return{shouldRepeat:!0}}}),(0,eA.jsxs)("div",{className:"hel-flex hel-items-center hel-gap-2",children:[f,Y&&(0,eA.jsx)(n8.T,{imageUrl:Y.iconUrl,isImagePreferred:!0,size:24,token:null!==(m=Y.symbol)&&void 0!==m?m:""})]})),header:(0,eA.jsx)(eA.Fragment,{children:(0,eA.jsxs)("div",{className:"hel-p-2",children:[(0,eA.jsx)(tQ.I,{value:ee,onChange:function(e){return en(e)},onReset:function(){return en("")}}),eo&&0===eh.length&&(0,eA.jsx)(tG.Q,{subtitle:"Try searching for another coin"})]})}),onDropdownClose:function(){en(""),el(!1)},onDropdownOpen:function(){return el(!0)},scrollToItemDisabled:!0})]}),Q&&(0,eA.jsx)("div",{className:"helio-text-danger hel-text-sm",children:"No routes available currently. Please use another token"}),(0,eA.jsx)("div",{className:"hel-text-sm hel-mt-2",children:ec&&(0,eA.jsxs)("div",{children:[(0,eA.jsxs)("div",{className:"hel-flex hel-flex-row hel-mb-1 hel-justify-between",children:[(0,eA.jsx)("p",{children:"Price impact:"}),(0,eA.jsxs)("p",{className:"helio-text-high-contrast",children:[tJ.i.roundValueToString(null==W?void 0:W.priceImpactPct,3),"%"]})]}),(0,eA.jsxs)("div",{className:"hel-flex hel-flex-row hel-mb-1 hel-justify-between",children:[(0,eA.jsx)("p",{children:"Exchange rate:"}),(0,eA.jsxs)("p",{className:"helio-text-high-contrast",children:["1 ",null==P?void 0:P.symbol," ="," ",null!=W&&W.outAmount?tJ.i.roundValueToString(q.convertFromMinimalUnits({symbol:null==W||null===(g=W.from)||void 0===g?void 0:g.symbol,minimalAmount:BigInt(null==W?void 0:W.inAmount),blockchain:null==P?void 0:P.blockchain.symbol}).dividedBy(q.convertFromMinimalUnits({symbol:null==W||null===(b=W.to)||void 0===b?void 0:b.symbol,minimalAmount:BigInt(null==W?void 0:W.outAmount),blockchain:null==P?void 0:P.blockchain.symbol})),4):""," ",null==Y?void 0:Y.symbol]})]})]})})]})})};function t0(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function t1(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?t0(Object(t),!0).forEach(function(n){(0,R.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):t0(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var t2=function(e,n){if(!e){w.kg.warn("getBtcProperties called, without checkoutCurrency set");return}if(e.blockchain.engine.type===o.BlockchainEngineType.BTC){if(!n){w.kg.warn("getBtcProperties called, with btc currency but no ordinals address");return}return{ordinalsAddress:n}}},t4=function(e){var n,t,r,l,i,a,c,m,f,v=e.receiverPublicKey,y=e.paymentData,b=e.canChangePrice,j=void 0!==b&&b,k=e.decimalAmount,w=e.setDecimalAmount,S=e.volume,D=e.nfts,E=e.TotalPriceBanner,P=e.PaymentButton,A=e.paymentRequestStatus,O=void 0===A?tC.k.ACTIVE:A,q=e.isSwapsMenu,I=void 0!==q&&q,R=e.isCharge,F=e.PaymentRequestNfts,B=(0,h.I0)(),Z=(0,N.g_)(),M=Z.query,V=Z.isReady,Q=(0,x.U)().tokenConversionService,G=(0,p.tq)(),K=G.discordAuth.tokenDecoded,J=G.allowlistAuth.allowedTxsCount,Y=(0,T.rI)(),X=Y.currency,$=Y.blockchain,ee=Y.setCurrency,en=Y.setBlockchain,et=Y.setUserPrice,er=Y.recipients,el=Y.isBlockchainConnected,ei=(0,p.H4)().additionalJSON,ea=(0,s.Gn)().ordinalsAddress;tH({paymentData:y}),tF({nftCollectionAddress:null==y?void 0:y.nftCollectionAddress,requireNftGate:null==y?void 0:y.requireNftGate,blockchainEngine:null==X||null===(a=X.blockchain)||void 0===a||null===(a=a.engine)||void 0===a?void 0:a.type});var eo=(0,C.v)(),es=(0,C.v)().isCardOnly,ec=ew().actions,eu=nH().actions,ed=(0,h.v9)(tP),eh=(0,h.v9)(nQ),em=(0,h.v9)(nA),ef=(0,h.v9)(eT),ep=(0,h.v9)(n2.BT),ev=y.streamPeriod,ex=tD.h.getInitialStreamTime({intervalType:ev,durationSec:y.maxTime}),ey=(0,d.useCallback)(function(e){return e?k.multipliedBy(e):k},[k]),eg=(0,d.useState)(!1),eb=eg[0],ej=eg[1],ek=(0,d.useState)({label:"",value:""}),eN=ek[0],eC=ek[1],eS=(0,d.useState)(!1),eD=eS[0],eP=eS[1],eO=(0,d.useState)(ex),eq=eO[0],eI=eO[1],eR=(0,d.useState)(ey(ex)),eL=eR[0],eU=eR[1],eF=(0,d.useState)({name:void 0,value:void 0}),eB=eF[0],eZ=eF[1],eM=(0,d.useState)(tW),eH=eM[0],ez=eM[1],eW=(0,d.useState)(t1(t1({},tz({paymentData:y,canChangePrice:j,paylinkVolume:null!=S?S:0,country:ef,forcedQuantity:eo.quantity})),tS.l.getFilteredCheckoutSearchParams(y,ed))),eV=eW[0],eQ=eW[1],eG=null==M?void 0:M[e_.xe];(0,d.useEffect)(function(){y.requireNftGate&&null!=y.nftCollectionAddress&&(null==X?void 0:X.blockchain.engine.type)===o.BlockchainEngineType.SOL&&B(eu.loadNftCollectionName({nftTokenAddressString:y.nftCollectionAddress}))},[B,eu,y.nftCollectionAddress,y.requireNftGate,null==X||null===(c=X.blockchain)||void 0===c||null===(c=c.engine)||void 0===c?void 0:c.type]),(0,d.useEffect)(function(){eU(ey(ex))},[ey,ex,k]),(0,d.useEffect)(function(){null!=y&&y.requireCountry&&null!=y&&y.requireDeliveryAddress&&B(ec.loadCountry())},[ec,B,y]),(0,d.useEffect)(function(){eQ(t1(t1({},tz({paymentData:y,canChangePrice:j,paylinkVolume:null!=S?S:0,country:ef,forcedQuantity:eo.quantity})),tS.l.getFilteredCheckoutSearchParams(y,ed)))},[y,j,k,w,S,ef,ed,eo.quantity]),(0,d.useEffect)(function(){if(V){if(I&&$===o.BlockchainSymbol.SOL){var e;ee((null==y||null===(e=y.pricingCurrency)||void 0===e?void 0:e.type)===o.CurrencyType.DIGITAL?null==y?void 0:y.pricingCurrency:null==y?void 0:y.currency)}else{if(X)return;var n,t=null==M?void 0:M.network,r=null!=t&&(0,U.HD)(t)&&t in o.BlockchainSymbol?t:$,l=null!=r?null==er||null===(n=er.find(function(e){return e.currency.blockchain.symbol===r}))||void 0===n?void 0:n.currency:y.currency;y&&er&&l&&(ee(l),en(l.blockchain.symbol))}}},[X,en,ee,null==M?void 0:M.network,$,er,I,y,V]);var eK=function(e,n){eC({label:e.label,value:e.value}),n("productValue",e.value)},eJ=function(){return null!=y&&y.requireMaxTransactions&&(null==y?void 0:y.maxTransactions)!=null&&null!=S?y.requireAllowlist&&J?Math.max(Math.min(y.maxTransactions-S,J),0):Math.max(y.maxTransactions-S,0):y.requireAllowlist?J:void 0},eY=H({paymentData:y,transactionsRemaining:eJ}),eX=(0,z.p)(),e$=function(e){et&&et(e.toFixed()),eX.loadTokenPrice({toCurrency:X,amount:Q.convertToMinimalUnits({decimalAmount:e,symbol:y.pricingCurrency.symbol,blockchain:y.pricingCurrency.blockchain.symbol}).toString(),paymentData:y})},e0=(0,h.v9)(tA.Ae),e1=function(){var e,n,t=I&&null!=e0&&null!==(e=e0.from)&&void 0!==e&&e.symbol?"PAY IN ".concat(null==e0||null===(n=e0.from)||void 0===n?void 0:n.symbol):"PAY";return y.requireAirdrop&&!y.airdropConfigured?"COMING SOON":t},e2=function(e){if(y.isSubscription){var n,t;return e.isSubscriptionAnnual?"Pay per year":"Pay per ".concat((0,g.billingPeriodToMonth)(null!==(n=null===(t=y.subscriptionDetails)||void 0===t?void 0:t.interval)&&void 0!==n?n:o.IntervalType.MONTH))}return"Total price"};return(0,eA.jsx)(L.J9,{enableReinitialize:!0,initialValues:eV,validationSchema:y.isSubscriptionRenewal?void 0:(n=null!==(m=null==eY?void 0:eY.max)&&void 0!==m?m:1/0,t=_(y),r=null!==(f=eJ())&&void 0!==f?f:1/0,l=y.isSubscription,i=y.addTelegramGroup,nd.Ry({fullName:nd.Z_().when("requireFullName",{is:!0,then:nd.Z_().required("Full name is required")}),userSetPrice:nd.Rx().when({is:function(){return!0!==es},then:function(e){return e.when("canChangePrice",{is:!0,then:nd.Rx().required("Price is required").positive("Price should be higher than 0").typeError("Price has to be a number")})}}),quantity:nd.Rx().when("canChangeQuantity",{is:!0,then:nd.Rx().typeError("Quantity has to be a number").positive("Quantity must be a positive number").required("Quantity is required").max(n,"The maximum quantity has been reached").min(t,"Quantity must be at least ".concat(t))}).when("requireMaxTransactions",{is:!0,then:nd.Rx().max(Math.min(r,n),"The maximum quantity has been reached")}),email:nd.Z_().when("requireEmail",{is:!0,then:nd.Z_().email().required("E-mail address is required")}),twitterUsername:nd.Z_().when("requireTwitterUsername",{is:!0,then:nd.Z_().required("Twitter username is required")}),telegramUsername:nd.Z_().when("requireTelegramUsername",{is:function(e){return e&&(!i||!l)},then:nd.Z_().required("Telegram username is required")}),country:nd.Ry({value:nd.Z_(),label:nd.Z_()}).when("requireCountry",{is:!0,then:nd.Ry({value:nd.Z_().required("Country is required"),label:nd.Z_().required("Country is required")})}),deliveryAddress:nd.Z_(),city:nd.Z_().when("requireDeliveryAddress",{is:!0,then:nd.Z_().required("City is required")}),street:nd.Z_().when("requireDeliveryAddress",{is:!0,then:nd.Z_().required("Street is required")}),streetNumber:nd.Z_().when("requireDeliveryAddress",{is:!0,then:nd.Z_().required("Required")}),areaCode:nd.Z_().when("requireDeliveryAddress",{is:!0,then:nd.Z_().required("Area code is required")}),phoneNumber:nd.Z_().when("requirePhoneNumber",{is:!0,then:nd.Z_().required("Phone number is required")}),productValue:nd.Z_().when(["requireProductDetails","productOptional"],{is:function(e,n){return e&&!n},then:nd.Z_().required("This is required")})})),onSubmit:function(e){var n,t,r={additionalJSON:JSON.stringify(ei),areaCode:e.areaCode,btcProperties:t2(X,ea),city:e.city,country:null===(n=e.country)||void 0===n?void 0:n.label,deliveryAddress:e.deliveryAddress,discordUser:e.discordUsername?{username:e.discordUsername}:void 0,email:e.email,fullName:e.fullName,phoneNumber:e.phoneNumber,state:e.state,street:e.street,streetNumber:e.streetNumber,tradingViewUsername:e.tradingViewUsername,twitterUsername:e.twitterUsername,telegramUsername:e.telegramUsername},l={name:null===(t=y.product)||void 0===t?void 0:t.name,value:e.productValue},i=(0,U.Yq)(r),a=(0,U.Yq)(l);ez(i),eZ(a),eP(!0)},children:function(e){var n,t,r,l,i,a,s,c,d,h,m=e.values,f=e.setFieldValue;return(0,eA.jsx)(L.l0,{children:(0,eA.jsxs)("div",{className:(0,u.default)("hel-flex hel-flex-col hel-gap-y-4",{"hel-p-4 md:hel-p-0":!el}),children:[j&&!es?(0,eA.jsx)(tr,{handleUserSetPriceChange:e$,paymentData:y}):(0,eA.jsx)("div",{children:(0,eA.jsx)(E,{decimalAmount:k,lineThrough:!!ep&&el,paymentData:y,pricingCurrency:y.pricingCurrency,title:e2(m),isSubscriptionAnnual:m.isSubscriptionAnnual,annualDiscountBps:null===(n=y.subscriptionDetails)||void 0===n?void 0:n.annualDiscountBps})}),y.maxTime?"":(0,eA.jsx)(tU,{}),y.showDiscountCode&&(null==y||null===(t=y.discountCodes)||void 0===t?void 0:t[0].tokenType)===o.DCTokenType.NFT_COLLECTION&&(0,eA.jsxs)("div",{children:[(0,eA.jsx)(tk,{paymentData:y}),ep&&(0,eA.jsx)(E,{className:"hel-rounded-t-none hel-rounded-b-3xl -hel-mt-1",decimalAmount:k,discountData:ep,paymentData:y,pricingCurrency:y.pricingCurrency,testid:eE.H.checkoutForm.discountedPriceBanner,title:"Discounted Price"})]}),y.showDiscountCode&&(null==y||null===(r=y.discountCodes)||void 0===r?void 0:r[0].tokenType)===o.DCTokenType.CURRENCY&&(0,eA.jsx)(tj,{discountCodes:y.discountCodes,decimalAmount:k,paymentData:y,selectedCurrency:m.swapsCurrency}),I?(0,eA.jsx)(t$,{decimalAmount:y.paymentType==tT.u.STREAM?eL:k.multipliedBy(null!==(l=null==m?void 0:m.quantity)&&void 0!==l?l:1),formValues:m,paymentData:y,setDecimalAmount:w,setFieldValue:f}):(0,eA.jsx)(tn,{decimalAmount:k,isSwapsMenu:I,quantity:null!==(i=eo.quantity)&&void 0!==i?i:m.quantity,setDecimalAmount:w}),(0,eA.jsx)(F,{nfts:D}),(null==y?void 0:y.requireAirdrop)&&(0,eA.jsx)(tw,{}),(0,eA.jsx)(tb,{paymentData:y,decimalAmount:k,quantity:null!==(a=null!==(s=eo.quantity)&&void 0!==s?s:m.quantity)&&void 0!==a?a:1}),O==tC.k.SOLD_OUT?(0,eA.jsx)(W.z,{disabled:!0,"data-testid":eE.H.checkoutForm.soldOutButton,children:"SOLD OUT"}):O==tC.k.PENDING?(0,eA.jsx)(W.z,{disabled:!0,"data-testid":eE.H.checkoutForm.loadingButton,children:"LOADING..."}):eh||em?(0,eA.jsx)("div",{className:"hel-flex hel-w-full hel-flex-row hel-h-[50px] hel-items-center hel-justify-center",children:(0,eA.jsx)(tN.$,{})}):(0,eA.jsx)(n9,{changeSelectValue:eK,ctaButton:(0,eA.jsx)(P,{affiliateCode:eG,airdropIsNotConfigured:y.requireAirdrop&&!y.airdropConfigured,buttonText:e1(),canSwapTokens:I,customerDetails:eH,decimalAmount:eL,discountPercent:null==ep?void 0:ep.percent,discountToken:null==ep?void 0:ep.token,interval:eq,isFormSubmitted:eD,maxTime:y.maxTime,nftDropState:null===(c=y.nftDrop)||void 0===c?void 0:c.state,paymentRequestId:y.id,productDetails:eB,quantity:null!==(d=eo.quantity)&&void 0!==d?d:m.quantity,receiverPublicKey:v,requireCaptchaValidation:y.requireCaptchaValidation,resetFormSubmitted:function(){return eP(!1)},splitRevenue:y.splitRevenue,splitWallets:y.splitWallets,status:y.status,swapCurrency:null==e0||null===(h=e0.from)||void 0===h?void 0:h.symbol,type:"submit",recipients:y.recipients}),decimalAmount:k,discordTxsCount:null==K?void 0:K.txsCount,payInterval:eq,paymentData:y,productDetailsDescriptionShown:eb,selectValue:eN,setProductDetailsDescriptionShown:ej,setPayInterval:eI,setTotalAmount:eU,totalPriceBanner:!!y.maxTime&&(0,eA.jsxs)("div",{className:"hel-mb-4",children:[(0,eA.jsx)(n7._,{className:"hel-mt-4 hel-mb-1",children:"Pre-approve total amount"}),(0,eA.jsx)(E,{decimalAmount:eL,hideTitle:!0,paymentData:y,paystreamDuration:eq,pricingCurrency:y.pricingCurrency,title:""})]}),transactionsRemaining:eJ,volume:S,isCharge:R})]})})}})},t3=t(49196),t6=t(4900),t9=((r={}).SOLD_OUT="SOLD_OUT",r.COUNTDOWN_ENDED="COUNTDOWN_ENDED",r),t7=function(e){var n,t;return!!(e.enableCountdown&&null!=e&&null!==(n=e.countdownDetails)&&void 0!==n&&n.endDatetime&&(null==e||null===(t=e.countdownDetails)||void 0===t||null===(t=t.endDatetime)||void 0===t||null===(t=t.toJSDate())||void 0===t?void 0:t.getTime())<=Date.now())},t5=function(e){var n=I(),t=(0,d.useState)(function(){return t7(e)}),r=t[0],l=t[1];return((0,d.useEffect)(function(){if(null!=e&&null!==(n=e.countdownDetails)&&void 0!==n&&n.endDatetime&&!r){var n,t=e.countdownDetails.endDatetime.toJSDate().getTime()-Date.now(),i=window.setTimeout(function(){l(t7(e))},t+1);return function(){return window.clearTimeout(i)}}},[e,r]),n===g.PaymentRequestStatus.SOLD_OUT)?{isChargeCompatible:!1,error:t9.SOLD_OUT}:r?{isChargeCompatible:!1,error:t9.COUNTDOWN_ENDED}:{isChargeCompatible:!0,error:void 0}},t8=t(87307),re=t(71042),rn=function(){var e=(0,t8.O)().apiServiceV1,n=(0,re.i)(e),t=(0,h.v9)(D.KK);return!n||t?null:(0,eA.jsx)("button",{className:"hel-text-[14px] hel-underline helio-text-embed-report helio-text-sidebar@hover",onClick:function(){return n()},children:"Report"})},rt=t(958),rr=t(72609),rl=t(36090),ri=function(e){var n=e.onClick,t=e.buttonTitle,r=e.iconName;return(0,eA.jsx)(rl.h,{className:"hel-py-1 hel-px-2 hel-rounded-3xl",groupClassName:"hel-gap-x-1",onClick:function(){n()},variant:"secondary",iconName:r,children:(0,eA.jsx)("p",{className:"helio-text-label hel-font-normal hel-normal-case group-hover:hel-text-white hel-mb-0",children:t})})},ra=t(50648);function ro(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}var rs=function(e){var n=e.setShowQRCode,t=e.showQRCode,r=(0,ra.i)({onContinue:(0,d.useCallback)(function(){n(function(e){return!e})},[n])}),l=r.startUnverifiedWarningModal,i=r.unverifiedWarningModalProps;return(0,eA.jsxs)(eA.Fragment,{children:[(0,eA.jsx)(ra.b,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ro(Object(t),!0).forEach(function(n){(0,R.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ro(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({},i)),(0,eA.jsx)(rl.h,{className:"hel-py-1 hel-px-2 hel-ml-auto hel-rounded-full",groupClassName:"hel-gap-x-1",onClick:function(){t?n(!1):l()},variant:"secondary",iconName:t?"Web3Wallet":"QRCode",children:(0,eA.jsx)("p",{className:"helio-text-label hel-font-normal hel-normal-case group-hover:hel-text-white hel-mb-0",children:t?"Wallet":"QR"})})]})},rc=function(e){var n,t,r=e.paymentData,i=e.showQRCode,c=e.setShowQRCode,u=(0,T.rI)(),d=u.blockchain,m=u.recipients,f=u.isBlockchainConnected,v=(0,eK.useGeoblockAllowed)(),x=t5(r),y=eQ(r),g=(0,h.v9)(D.gd),k=(0,C.v)(),w=k.isCheckoutFeatureEnabled,S=k.primaryPaymentMethod,E=k.showQRCode,P=k.showPayWithCard,A=(0,N.g_)().checkoutType,O=(0,s.Eu)().payload,q=(0,eG.$)(),I=q.onConnect,R=q.onAddWallet,L=O&&(null===(t=O.wallet)||void 0===t?void 0:t.type)===o.WalletType.WEB3AUTH||"fiat"===S&&!f,U=null==m?void 0:m.map(function(e){return e.wallet.blockchainEngine.type}),F=r.type===o.PaymentRequestType.INVOICE?r.currency.blockchain.symbol===o.BlockchainSymbol.SOL:(0,rt.U8)(U,rt.WO.CHECKOUT_PAY_WITH_CARD),B=(n=(0,l.Z)(a().mark(function e(){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(0,eJ.o)({doAuthenticate:!0,isAddWallet:!1,onConnect:I,onAddWallet:R,withEmailAndGoogle:!1,withExternalWallet:!0,isCheckout:!0});case 1:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)}),_=(0,p.tq)().raffleAuth,Z=[void 0,e6.O.PURCHASE].includes(_.state),M=P&&F&&Z&&!r.canChangePrice&&r.canPayWithCard,H=void 0===E&&g||E;return(M||H||A===N.HX.EMBEDDED)&&v.isAllowed&&x.isChargeCompatible?(0,eA.jsxs)("div",{className:"hel-mt-4 hel-flex hel-flex-row hel-items-center hel-justify-between hel-gap-4",children:[M&&(0,eA.jsx)(ri,{onClick:(0,l.Z)(a().mark(function e(){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((0,b._)({name:j.Z.CLICKED_ALTERNATIVE_PAYMENT_METHOD,properties:{payment:L?"Pay with wallet":"Pay with card"}}),!L){e.next=6;break}return e.next=4,B();case 4:e.next=8;break;case 6:return e.next=8,y();case 8:case"end":return e.stop()}},e)})),buttonTitle:L?"Pay with web3 wallet":"Pay with card",iconName:L?"Web3Wallet":"PaymentCard"}),H||Z&&w(rr.A.QR_CODE)&&(0,rt.C7)(d,rt.it.CHECKOUT_PAY_WITH_QR)?(0,eA.jsx)(rs,{showQRCode:i,setShowQRCode:c}):(0,eA.jsx)("div",{}),!H&&A===N.HX.EMBEDDED&&(0,eA.jsx)(rn,{})]}):null},ru=t(39551),rd=t(85761),rh=function(){var e,n=(0,T.rI)().currency,t=(0,p.tq)().raffleAuth,r=[e6.O.DRAWING_WINNERS,e6.O.RAFFLE_ENTRY].includes(t.state),l=r?"Enter raffle":"Pay ".concat(null!=n&&n.symbol?"with ".concat(null==n?void 0:n.symbol):"");return(0,eA.jsx)("div",{className:"\n   hel-px-6 hel-flex hel-flex-row hel-justify-between hel-items-center hel-rounded-xl\n   \n",children:(0,eA.jsxs)("div",{className:(0,u.default)("\nhel-flex hel-gap-x-[5px] hel-pt-4 hel-pb-4 hel-items-center helio-fill-primary\n"),"aria-hidden":!0,children:[r?(0,eA.jsx)(eF.J,{iconName:"Ticket"}):(0,eA.jsx)(n8.T,{isImagePreferred:!0,imageUrl:null==n?void 0:n.iconUrl,token:null!==(e=null==n?void 0:n.symbol)&&void 0!==e?e:""}),(0,eA.jsx)("h4",{className:"hel-font-poppins",children:l})]})})},rm=t(35716),rf=function(e){switch(e){case o.BlockchainSymbol.BITCOIN:return"https://helio-assets.s3.eu-west-1.amazonaws.com/btc_logo.svg";case o.BlockchainSymbol.ETH:case o.BlockchainSymbol.POLYGON:case o.BlockchainSymbol.BASE:return"https://helio-assets.s3.eu-west-1.amazonaws.com/eth_logo.svg";case o.BlockchainSymbol.SOL:default:return"https://helio-assets.s3.eu-west-1.amazonaws.com/sol_logo.svg"}},rp=function(e){var n=e.deepLink,t=(0,T.rI)().blockchain;return(0,eA.jsxs)("div",{className:"\nhel-mb-[35px] hel-mt-8",children:[(0,eA.jsx)("div",{className:"\nhel-mx-auto hel-h-[172px] hel-w-[172px]\n",children:(0,eA.jsx)(rm.QRCode,{value:n,size:152,eyeRadius:10,eyeColor:"#5A6578",ecLevel:"M",qrStyle:"dots",removeQrCodeBehindLogo:!0,logoImage:rf(t),logoPaddingStyle:"circle",logoPadding:1})}),(0,eA.jsx)("p",{className:"hel-flex hel-items-center hel-justify-center hel-mt-4",children:"Scan with mobile camera (not wallet)"})]})},rv=t(33698),rx=t(75052),ry=function(e){var n=e.hasCustomCheckoutTheme,t=e.isEscrowed,r=e.isCharge,l=(0,N.g_)().platform,i=(0,T.rI)().paymentRequest,a=(0,eA.jsxs)("span",{children:["This is a DeFi payment that can't be reversed."," ",!(void 0!==t&&t)&&"Funds go directly to the merchant. ",(0,eA.jsx)(rx.F,{underline:!0,href:"https://info.docs.hel.io/terms-of-service",children:"See our terms"}),"."]}),s=(0,eA.jsx)("span",{children:"Please note that the Raffle is conducted by the NFT Creator in their sole capacity. Helio is providing the technology to support the Raffle that is integrated on Magic Eden. Magic Eden is not affiliated with such third parties, and is not responsible for the information provided or the conduct of the Raffle. Magic Eden makes no representation on the accuracy, suitability, or validity of any information provided."}),c=l===o.Platform.MAGIC_EDEN&&(null==i?void 0:i.requireRaffle);return(0,eA.jsxs)("div",{className:"hel-flex hel-flex-col hel-mt-4 hel-gap-y-4 ".concat(r?" ":"md:hel-block hel-hidden "),children:[(0,eA.jsxs)("p",{className:"helio-text-low-contrast helio-background-checkout-footer hel-py-1 hel-px-2 hel-text-xs hel-rounded-lg",children:[(0,eA.jsx)("b",{className:"hel-font-bold",children:"Disclaimer:"})," ",c?s:a]}),(0,eA.jsx)("div",{className:"hel-flex hel-justify-end",children:(0,eA.jsx)(rv.i,{hasThemeToggleSwitch:!(void 0!==n&&n)})})]})},rg=function(){return(0,eA.jsx)("div",{className:"hel-flex hel-flex-col hel-h-[200px] hel-items-center hel-justify-center","data-testid":"LoadingSpinner",children:(0,eA.jsx)(tN.$,{})})},rb=t(63441),rj=function(e){var n,t,r,i=e.canChangePrice,m=void 0!==i&&i,f=e.currency,p=e.decimalAmount,v=e.setDecimalAmount,y=e.receiverPublicKey,b=e.paymentData,j=e.description,k=e.volume,S=e.nfts,E=e.TotalPriceBanner,P=e.PaymentButton,A=e.PaymentRequestNfts,q=e.isCharge,R=(0,h.I0)(),L=(0,T.rI)(),U=L.blockchain,F=L.isBlockchainConnected,B=(0,C.v)().isCardOnly,_=I(),Z=(0,rb.m)().paymentState,M=(0,N.g_)(),H=M.checkoutType,z=M.network,W=(0,s.Eu)(),V=W.payload,Q=W.token,G=(0,c.R)().connection,K=(0,x.U)().currencies,J=O(b).createCharge,Y=(0,h.v9)(rd.zh),X=!!(0,h.v9)(D.re),$=(0,d.useState)(!1),ee=$[0],en=$[1],et=(0,d.useState)(!1),er=et[0],el=et[1],ei=(0,d.useState)(!1),ea=ei[0],eo=ei[1],es=(0,d.useState)(null),ec=es[0],eu=es[1],ed=(0,ru.pf)().actions,eh=null==V||null===(r=V.wallet)||void 0===r?void 0:r.publicKey,em=(n=(0,l.Z)(a().mark(function e(){var n,t,r,l;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(el(!0),e.prev=1,!(H===N.HX.EMBEDDED&&!X&&b.paymentType===g.PaymentType.ONETIME)){e.next=14;break}return e.next=6,J({navigate:!1,shouldGoIntoChargeMode:!1});case 6:if(!(n=e.sent)){e.next=13;break}return(t=new URL(n)).searchParams.append("deeplink","true"),e.abrupt("return",t.toString());case 13:(0,w.O7)("Error creating a charge for QR deep link - defaulting to using current page");case 14:return(r=new URLSearchParams(window.location.search)).append("deeplink","true"),l="".concat(window.location.href.split("?")[0],"?").concat(r.toString()),w.kg.debug("Deep link url not using charges on ".concat(H,", in charge mode: ").concat(X," for url ").concat(l)),e.abrupt("return",l);case 19:return e.prev=19,el(!1),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[1,,19,22]])})),function(){return n.apply(this,arguments)}),ef=(t=(0,l.Z)(a().mark(function e(){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(ee){e.next=5;break}return e.next=3,em();case 3:eu(e.sent);case 5:en(function(e){return!e});case 6:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)}),ep=b.canSwapTokens&&g.BlockchainService.areSwapsEnabledForBlockchain(U),ev=(0,d.useState)(!1),ex=ev[0],ey=ev[1];if((0,d.useEffect)(function(){var e=function(){var e=document.documentElement.scrollHeight;ey(window.innerHeight+window.scrollY>=e-1)};return window.addEventListener("scroll",e),function(){return window.removeEventListener("scroll",e)}},[]),(0,d.useEffect)(function(){null!=eh&&null!=G&&null!=Q&&0!==K.length&&R(ed.loadBalances({publicKey:eh.toString(),connection:G,authToken:Q,currencies:K}))},[eh,R,ed,Y,G,Q,K]),er)return(0,eA.jsx)(rg,{});var eg=(0,u.default)({"hel-hidden md:hel-block":H===N.HX.HOSTED&&!F&&!q}),eb=(0,u.default)({"hel-px-4 xxs:hel-px-6 md:hel-pb-4":H===N.HX.HOSTED&&!F&&!q,"hel-px-4 xxs:hel-px-6 hel-pb-4":!(H===N.HX.HOSTED&&!F&&!q),"hel-mb-40 mb:hel-mb-0":H===N.HX.HOSTED,"hel-pt-4":H===N.HX.EMBEDDED&&!F}),ej=(0,u.default)("hel-h-31 md:hel-relative md:hel-p-0 md:hel-h-auto md:hel-z-10",{"hel-fixed hel-bottom-0 hel-left-0 hel-right-0 hel-z-30 helio-background-container":H!==N.HX.EMBEDDED,"pt-2 hel-px-4 hel-pb-4":!q&&H===N.HX.HOSTED&&ee,"hel-pt-14 hel-px-4 hel-pb-4":!q&&H===N.HX.HOSTED&&F,"hel-px-4 hel-pb-4":!q&&H===N.HX.HOSTED&&!F&&!ee,"hel-relative":q||H!==N.HX.HOSTED,"hel-shadow-none":ex});return(0,eA.jsxs)("div",{children:[(0,eA.jsx)("div",{className:eg,children:(0,eA.jsx)(rh,{})}),H==N.HX.EMBEDDED&&z!==o.GeneralNetwork.MAINNET&&(0,eA.jsx)("p",{className:"helio-background-alternative hel-px-6 hel-py-2 hel-font-bold hel-text-white",children:"This payment is on test mode, not real money"}),H==N.HX.EMBEDDED&&U&&F&&(0,eA.jsx)("div",{className:"hel-px-4 xxs:hel-px-6 hel-pt-6",children:(0,eA.jsx)(t3.B,{})}),(0,eA.jsxs)("div",{className:eb,children:[(0,eA.jsx)("div",{children:j}),ee?(0,eA.jsxs)("div",{className:"hel-flex hel-flex-col hel-gap-3",children:[!m&&(0,eA.jsx)(E,{decimalAmount:p,pricingCurrency:b.pricingCurrency,paymentData:b}),(0,eA.jsx)(A,{nfts:S}),(0,eA.jsx)("div",{className:"hel-w-full",children:ec&&(0,eA.jsx)(rp,{deepLink:ec})})]}):(0,eA.jsx)(t4,{PaymentButton:P,PaymentRequestNfts:A,TotalPriceBanner:E,canChangePrice:m,currency:f,decimalAmount:p,isSwapsMenu:ep,nfts:S,paymentData:b,paymentRequestStatus:_,receiverPublicKey:y,setDecimalAmount:v,volume:k,isCharge:q}),(0,eA.jsxs)("div",{className:ej,children:[!B&&(0,eA.jsx)(rc,{setShowQRCode:ef,showQRCode:ee,paymentData:b}),Z.status!==g.PaymentStatus.PAID&&H===N.HX.HOSTED&&(0,eA.jsx)(ry,{hasCustomCheckoutTheme:b.customThemeEnabled,isCharge:q,isEscrowed:null==b?void 0:b.isEscrowed}),ea&&(0,eA.jsx)(t6.R,{onHide:function(){return eo(!1)}})]})]})]})}},69092:function(e,n,t){t.d(n,{b:function(){return Q}});var r=t(95235),l=t(22219),i=t(72467),a=t(44720),o=t(72558),s=t(6277),c=t(2784),u=t(94449),d=t(55674),h=t(27853),m=t(10112),f=t(49196),p=t(61923),v=t(63441),x=t(72714),y=t(20603),g=t(3340),b=t(10312),j=t(32802),k=t(96412),w=t(13089),N=t(41701),C=t(90129),T=t(29017),S=t(48200),D=function(e){(0,C.Z)(l,e);var n,t=(n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=(0,S.Z)(l);return e=n?Reflect.construct(t,arguments,(0,S.Z)(this).constructor):t.apply(this,arguments),(0,T.Z)(this,e)});function l(e){var n;return(0,k.Z)(this,l),n=t.call(this,e),(0,r.Z)((0,N.Z)(n),"initialCheckoutValues",{fullName:void 0,email:void 0,discordUsername:void 0,twitterUsername:void 0,phoneNumber:void 0,productValue:void 0,areaCode:void 0,state:void 0,deliveryAddress:void 0,city:void 0,street:void 0,streetNumber:void 0}),n}return(0,w.Z)(l,[{key:"getParsedCheckoutSearchParams",value:function(){var e={};for(var n in this.initialCheckoutValues){var t=this.parseField(n);null!=t&&(e[n]=t)}return e}},{key:"parseField",value:function(e){var n=this.get(e);if(null!=n&&""!==n.trim())return n}}]),l}((0,t(6848).Z)(URLSearchParams)),E=t(92732),P=t(52322),A=function(e){var n=e.children,t=(0,u.I0)(),r=(0,E.mV)().actions,l=(0,b.g_)().asPath;return(0,c.useEffect)(function(){var e=new D((null==l?void 0:l.split("?")[1])||"");t(r.searchParamsParsed(e.getParsedCheckoutSearchParams()))},[t,r,l]),(0,P.jsx)(P.Fragment,{children:n})},O=t(36099),q=t(83882),I=t(68277),R=t(22204),L=t(21809),U=function(e){var n=e.isKycVerified,t=e.showLabel,r=e.iconClassName,l=e.hasCustomTheme,i=(0,L.Fg)().platformCopy;return(0,P.jsx)(R.u,{title:void 0===t||t?i.components.widgets.checkout.components.kycConfirmation.hasNotVerified:void 0,className:n?"hel-invisible":"hel-w-[200px]",children:(0,P.jsxs)("div",{className:(0,h.Z)("hel-flex hel-items-center hel-h-8",!n&&"hel-gap-x-1"),children:[(0,P.jsx)(I.J,{className:(0,h.Z)("hel-fill-[#1D9BF0]",n?"hel-h-8 hel-w-8":"hel-h-5 hel-w-5",r),iconName:n?"Badge":"QuestionCircle"}),(0,P.jsx)("p",{className:l?"hel-text-white":"",children:n?"Verified":"Unverified"})]})})},F=t(28422),B=t(54787),_=function(e){var n,t=e.brandingImageUrl,r=e.company,l=e.hasProductImages,i=e.isCharge,a=null===(n=(0,L.Fg)().theme.images.svgWidths)||void 0===n?void 0:n.HeaderLogo,o=(0,h.Z)("hel-h-10",!a&&"hel-w-10");return(0,P.jsx)(P.Fragment,{children:t?(0,P.jsx)("div",{"aria-label":(null==r?void 0:r.name)||"Merchant Branding Logo",className:(0,h.Z)("hel-block hel-overflow-hidden hel-rounded-full hel-bg-cover hel-bg-center",{"hel-h-14 hel-w-14":l&&!i,"hel-h-10 hel-w-10":!l||i}),role:"image",style:{backgroundImage:"url(".concat(t,")")}}):(0,P.jsx)(b.rU,{href:B.AW.HOME,passHref:!0,children:(0,P.jsx)(F.u,{className:o,style:a?{width:a}:void 0,type:y.ThemedLogoType.HEADER_LOGO})})})},Z=function(e){var n,t,i=e.brandingImageUrl,a=e.company,o=e.customTheme,s=e.hasCustomTheme,c=e.hasProductImages,u=e.kycVerified,d=e.isCharge,m=function(){if(null!=a&&a.websiteUrl){var e=/^https?:\/\//i.test(a.websiteUrl)?a.websiteUrl:"https://"+a.websiteUrl;window.open(e,"_blank")}},f=u||(null==a?void 0:a.kybVerified);return(0,P.jsxs)("div",{className:(0,h.Z)("hel-w-full hel-flex hel-gap-4 hel-align-center","hel-py-2 hel-px-6 hel-mb-6",(n={},(0,r.Z)(n,"hel-relative hel-overflow-hidden hel-rounded-3xl hel-h-14",!c&&!d),(0,r.Z)(n,"helio-checkout-header-gradient hel-absolute hel-top-0 hel-left-0 hel-z-10 hel-pb-6 hel-rounded-t-3xl",c&&!d),(0,r.Z)(n,"helio-background-container",!s&&!c&&!d),(0,r.Z)(n,"helio-after-gradient helio-background-primary",s&&!c&&!d),(0,r.Z)(n,"hel-relative hel-overflow-hidden hel-rounded-3xl hel-h-14 helio-background-container",d),n)),children:[(0,P.jsx)(_,{brandingImageUrl:i,company:a,hasProductImages:c,isCharge:d}),(0,P.jsxs)("div",{className:"hel-flex hel-justify-between hel-items-center hel-relative hel-z-10",style:{width:null!=a&&a.name?"calc(100% - 3.5rem)":"100%"},children:[null!=a&&a.name?(0,P.jsx)("h2",{className:(0,h.Z)("hel-text-xl hel-font-bold hel-line-clamp-2",(t={},(0,r.Z)(t,"hel-cursor-pointer",null==a?void 0:a.websiteUrl),(0,r.Z)(t,"hel-text-display",!s),(0,r.Z)(t,"hel-text-white",s&&(null==o?void 0:o.textColorOnButton)===l.TextColor.WHITE&&!c),(0,r.Z)(t,"hel-text-slate-950",s&&(null==o?void 0:o.textColorOnButton)===l.TextColor.BLACK&&!c),t)),onClick:function(){return m()},children:a.name}):(0,P.jsx)("div",{}),f&&(0,P.jsx)("div",{className:"hel-ml-auto",children:(0,P.jsx)(U,{isKycVerified:u||(null==a?void 0:a.kybVerified),hasCustomTheme:s})})]})]})},M=t(75052),H=t(33939),z=t(30429),W=function(e){var n=e.paymentType,t=(0,L.Fg)().isDarkMode;return(0,P.jsxs)("div",{className:"hel-flex hel-w-screen hel-h-screen hel-items-center hel-justify-center",children:[(0,P.jsx)("div",{className:"hel-absolute hel-cursor-pointer hel-top-12 hel-left-12",children:(0,P.jsx)(b.rU,{href:B.AW.HOME,passHref:!0,children:(0,P.jsx)(F.u,{type:z.S.HEADER_LOGO,className:"hel-h-[24px] hel-w-[67px]"})})}),(0,P.jsxs)("div",{className:"hel-text-center hel-flex hel-flex-col",children:[(0,P.jsx)("div",{className:"hel-mx-auto hel-w-[160px] hel-h-[172px] hel-relative",children:(0,P.jsx)(b.Ee,{alt:"UFO / Not Found icon",className:"hel-h-full hel-w-full",disableTransition:!0,height:172,placeholder:"blur",src:t?H.hH:H.zN,width:160})}),(0,P.jsxs)("h1",{className:"helio-text-highest-contrast",children:[n==g.u.ONETIME?"Pay Link":H.oS," ","Unauthorized"]}),(0,P.jsxs)("p",{className:"hel-text-sm hel-w-[329px] hel-mt-[7px] hel-h-[60px]",children:["This"," ",n==g.u.ONETIME?"Pay Link":H.oS," is unable to be accessed through our checkout. Please contact the merchant if required."]}),(0,P.jsxs)("p",{className:"hel-text-sm hel-mt-[10px]",children:["Go back to the"," ",(0,P.jsx)(M.F,{underline:!0,href:B.AW.HOME,children:"hel.io"})]})]})]})},V=function(e){var n=e.paymentType,t=(0,L.Fg)().isDarkMode;return(0,P.jsxs)("div",{className:"hel-flex hel-w-screen hel-h-screen hel-items-center hel-justify-center",children:[(0,P.jsx)("div",{className:"hel-absolute hel-cursor-pointer hel-top-12 hel-left-12",children:(0,P.jsx)(b.rU,{href:B.AW.HOME,passHref:!0,children:(0,P.jsx)(F.u,{type:z.S.HEADER_LOGO,className:"hel-h-[24px] hel-w-[67px]"})})}),(0,P.jsxs)("div",{className:"hel-text-center hel-flex hel-flex-col",children:[(0,P.jsx)("div",{className:"hel-mx-auto hel-w-[160px] hel-h-[172px] hel-relative",children:(0,P.jsx)(b.Ee,{alt:"UFO / Not Found icon",className:"hel-h-full hel-w-full",disableTransition:!0,height:172,placeholder:"blur",src:t?H.hH:H.zN,width:160})}),(0,P.jsxs)("h1",{className:"helio-text-display",children:[n==g.u.ONETIME?"Pay Link":H.oS," ","Disabled"]}),(0,P.jsxs)("p",{className:"hel-text-sm hel-w-[329px] hel-mt-[7px] hel-h-[40px]",children:["This"," ",n==g.u.ONETIME?"Pay Link":H.oS," has been disabled by the Merchant. Please contact the merchant if required."]}),(0,P.jsxs)("p",{className:"hel-text-sm hel-mt-[10px]",children:["Go back to"," ",(0,P.jsx)(M.F,{underline:!0,href:B.AW.HOME,children:"hel.io"})]})]})]})},Q=function(e){var n,t,c,k,w,N,C,T,S,D,E=e.ContentInfoCard,I=e.PaymentCard,R=e.hideCompanyInfo,L=void 0!==R&&R,U=e.isCharge,F=e.paymentCheckoutType,B=void 0===F?l.PaymentCheckoutType.REGULAR:F,_=(0,v.m)(),M=_.blockchain,H=_.decimalAmount,z=_.error,Q=_.loading,G=_.paymentData,K=_.paymentIsDisabled,J=_.paymentState,Y=_.setDecimalAmount,X=(0,b.g_)().getFullUrl,$=(0,u.v9)(q.cs),ee=G&&X(G.platform,y.PaymentLinkService.getPaymentRelativeLinkWithParamString(G)),en=null==G||null===(n=G.owner)||void 0===n?void 0:n.company,et=null==G?void 0:G.customTheme,er=null==G?void 0:G.customThemeEnabled,el=(0,a.O)().publicKey,ei=(0,d.m)().address,ea=(0,i.Gn)().paymentAddress,eo=null!=el?String(el):void 0,es=y.BlockchainService.getPublicKey(M&&y.BlockchainService.blockchainSymbolToEngineType(M),(t={},(0,r.Z)(t,l.BlockchainEngineType.SOL,eo),(0,r.Z)(t,l.BlockchainEngineType.EVM,ei),(0,r.Z)(t,l.BlockchainEngineType.BTC,ea),t));return(0,P.jsx)("div",{className:"hel-max-w-[1920px] hel-m-auto",children:(0,P.jsx)(A,{children:Q||!(G||z)?(0,P.jsx)("div",{className:"hel-flex hel-w-full hel-h-screen hel-items-center hel-justify-center",children:(0,P.jsx)(x.$,{})}):z||null!=G&&G.userDisabled?(0,P.jsx)(p.T,{}):K?(0,P.jsx)(V,{paymentType:g.u.ONETIME}):null!=G&&G.dynamic&&B===l.PaymentCheckoutType.REGULAR?(0,P.jsx)(W,{paymentType:g.u.ONETIME}):(0,P.jsx)("div",{className:(0,s.default)("hel-mx-4 lg:hel-mx-auto hel-mb-6 lg:hel-mb-16 lg:hel-w-4/5",(c={},(0,r.Z)(c,"hel-mt-24 md:hel-mt-6",es&&!U),(0,r.Z)(c,"hel-mt-6",!es&&!U),(0,r.Z)(c,"hel-mt-24",U),c)),children:(0,P.jsxs)("div",{className:(0,h.Z)("hel-flex",(k={},(0,r.Z)(k,"hel-justify-center hel-items-center md:hel-items-start hel-flex-col",U),(0,r.Z)(k,"hel-items-start hel-flex-col md:hel-flex-row md:hel-gap-x-6 hel-gap-y-0",!U),k)),children:[(0,P.jsxs)("article",{className:(0,h.Z)((w={},(0,r.Z)(w,"hel-w-full hel-max-w-[400px] hel-mx-auto",U),(0,r.Z)(w,"hel-relative hel-w-full md:hel-w-3/5 xl:hel-w-4/5",!U),w)),children:[(0,P.jsx)(Z,{brandingImageUrl:L?void 0:null==G?void 0:G.brandingImageUrl,company:L?void 0:en,customTheme:et,hasCustomTheme:er,hasProductImages:!!((null==$||null===(N=$[0])||void 0===N?void 0:N.imageUrl)||(null==G?void 0:G.imageUrl)),isCharge:U,kycVerified:null==G?void 0:G.kycVerified}),(0,P.jsx)(E,{blockchain:M,canChangePrice:null==G?void 0:G.canChangePrice,company:en,contact:null==G?void 0:G.contact,creator:null==G?void 0:G.creator,customCheckoutTheme:et,date:null==G?void 0:G.date,decimalAmount:H,description:null==G?void 0:G.description,dueDate:null==G?void 0:G.dueDate,hasCustomCheckoutTheme:er,imageUrl:(null==$||null===(C=$[0])||void 0===C?void 0:C.imageUrl)||(null==G?void 0:G.imageUrl),additionalImageUrls:null==G?void 0:G.additionalImageUrls,invoiceNumber:null==G?void 0:G.invoiceNumber,isHelioPlay:null==G?void 0:G.isHelioPlay,items:null==G?void 0:G.items,kycVerified:null==G?void 0:G.kycVerified,merchantPublicKey:null==G||null===(T=G.owner)||void 0===T||null===(T=T.wallets)||void 0===T||null===(T=T.items)||void 0===T||null===(T=T[0])||void 0===T?void 0:T.publicKey,name:null==G?void 0:G.name,paymentRequestLink:ee,revealedVideoUrl:null===(S=J.content)||void 0===S?void 0:S.mediaUrl,status:null==G?void 0:G.status,taxPercentage:(0,o.Z)((null==G?void 0:G.taxPercentage)||0)})]}),(0,P.jsxs)("aside",{className:(0,h.Z)("hel-flex hel-w-full hel-flex-col hel-h-fit hel-overflow-visible",!U&&"md:hel-w-2/5",U&&"hel-justify-center hel-items-center hel-w-full hel-max-w-[400px] hel-mx-auto"),children:[(0,P.jsx)("div",{className:(0,s.default)("",(D={},(0,r.Z)(D,"hel-absolute hel-top-5 hel-left-4 md:hel-relative md:hel-top-0 md:hel-left-0 md:hel-right-0 md:hel-w-full",!U),(0,r.Z)(D,"hel-absolute hel-top-5 hel-left-4",U),D)),style:{width:"calc(100% - 2rem)"},children:(0,P.jsx)("div",{className:(0,s.default)((0,r.Z)({},"hel-max-w-[400px] hel-mx-auto",U)),children:es&&(0,P.jsx)(f.B,{})})}),(0,P.jsx)("div",{className:(0,h.Z)((0,r.Z)({},"hel-w-full hel-max-w-[400px] hel-w-full hel-mx-auto",U)),children:(0,P.jsx)(m.Z,{className:"hel-overflow-visible hel-rounded-3xl",children:G&&(0,P.jsx)(j.L,{paymentRequest:G,children:(0,P.jsx)(O.f,{children:(0,P.jsx)(I,{isCharge:U,paymentRequest:G,decimalAmount:H,setDecimalAmount:Y})})})})})]})]})})})})}},38760:function(e,n,t){t.d(n,{T:function(){return o}}),t(2784);var r=t(68277),l=t(10312),i=t(52322),a=function(e){var n=e.paymentRequestNft;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(l.rU,{className:"hel-w-full",href:n.explorerLink,target:"_blank",passHref:!0,children:(0,i.jsxs)("div",{className:"hel-flex hel-items-center hel-justify-between",children:[(0,i.jsxs)("div",{className:"hel-flex hel-gap-x-4 hel-align-middle",children:[n.imageUrl&&(0,i.jsx)("div",{className:"hel-w-[56px] hel-h-[56px] hel-rounded-lg hel-relative hel-overflow-hidden",children:(0,i.jsx)(l.Ee,{alt:"Nft",className:"hel-h-full hel-w-full hel-rounded-md hel-overflow-hidden",externalImage:!0,height:300,src:n.imageUrl,width:600})}),(0,i.jsx)("div",{className:"helio-text-body hel-text-sm hel-flex hel-items-center",children:n.name})]}),(0,i.jsx)("div",{className:"hel-flex hel-flex-row hel-items-center hel-gap-x-1",children:(0,i.jsx)("div",{className:"hel-flex hel-w-6 hel-h-6 hel-cursor-pointer hel-items-center hel-justify-center hel-select-none",children:(0,i.jsx)(r.J,{iconName:"Link",className:"helio-fill-primary hel-h-full hel-w-full"})})})]})})})},o=function(e){var n=e.nfts,t=void 0===n?[]:n;return null==t||0===t.length?null:(0,i.jsx)(i.Fragment,{children:t.map(function(e){return(0,i.jsx)(a,{paymentRequestNft:e},e.name)})})}},56106:function(e,n,t){t.d(n,{h:function(){return a}});var r=t(29952),l=t(68277),i=t(52322),a=function(e){var n=e.redirectUrl;return(0,i.jsxs)("div",{className:"hel-w-full hel-mt-6 hel-px-6",children:[(0,i.jsx)(r._,{className:"hel-text-xs",children:"Redirecting url"}),(0,i.jsxs)("a",{className:"helio-border-color hel-py-3 hel-px-2 hel-flex hel-flex-row hel-rounded-3xl hel-items-center hel-justify-between hel-border hel-cursor-pointer hel-mt-1",href:n,rel:"noopener noreferrer",target:"_blank",children:[(0,i.jsx)("p",{className:"helio-text-revealed-content hel-text-sm hel-break-all",children:n}),(0,i.jsx)("div",{children:(0,i.jsx)(l.J,{iconName:"ArrowRightCircle",className:"helio-fill-primary hel-stroke-1 hel-w-6 hel-h-6"})})]})]})}},65257:function(e,n,t){t.d(n,{k:function(){return C}});var r=t(22219),l=t(72558),i=t(25711),a=t(5272),o=t(65119),s=t(20603),c=t(7083),u=t(21085),d=t(94449),h=t(27853),m=t(92270),f=t(68277),p=t(33939),v=t(21809),x=t(14546),y=t(52322),g=function(e){var n=e.pricingCurrency,t=e.title,r=e.hideTitle,l=e.lineThrough,i=e.className,a=e.testid,o=e.children,s=(0,v.Fg)().theme,g=(0,m.p)(),b=g.loading,j=g.expiresAtTimestampSeconds,k=(0,d.v9)(x.kJ),w=(0,c.rI)().currency,N=(null==n?void 0:n.symbol)===(null==w?void 0:w.symbol);return(0,y.jsx)("div",{className:(0,h.Z)("\n  hel-rounded-full hel-h-[48px]\n  helio-background-secondary ",i),children:(0,y.jsxs)("div",{className:"hel-flex hel-items-center hel-h-full hel-justify-between hel-mx-4 helio-text-price-banner",children:[(0,y.jsxs)("div",{className:"hel-text-sm hel-w-full",children:[(0,y.jsx)("div",{className:"hel-inline",children:r?"":"".concat(void 0===t?"Total price":t,": ")}),b||k?(0,y.jsxs)("div",{className:"\nfont-bold hel-flex-row hel-items-center hel-justify-center hel-gap-x-1 hel-inline-flex hel-align-middle\n  ","data-testid":"@checkout/total-price-updating",children:[(0,y.jsx)(f.J,{iconName:"ArrowCircle",className:"helio-fill-primary hel-w-6 hel-h-6 hel-animate-spin"}),(0,y.jsx)("p",{children:"Updating ..."})]}):(0,y.jsx)("div",{className:(0,h.Z)("hel-font-bold hel-inline",l&&"hel-line-through"),"data-testid":a,children:o})]}),!b&&null!=w&&null!=n&&null!=j&&!N&&(0,y.jsx)(u.$,{isPlaying:!0,duration:p.LY,colors:s.colors.countdownColor,trailColor:s.colors.countdownTrailColor,size:16,strokeWidth:3,onComplete:function(){return{shouldRepeat:!0}}})]})})},b=t(10906),j=t(41687),k=t(13092),w=function(e){var n=e.children,t=e.className,r=e.title;return(0,y.jsxs)("section",{className:(0,h.Z)("hel-flex hel-rounded-3xl hel-justify-between hel-items-center hel-gap-2 hel-p-2",t),children:[(0,y.jsx)("div",{className:"helio-text-detected hel-text-sm font-normal",children:r}),(0,y.jsx)("div",{className:"hel-font-bold",children:n})]})},N=function(e){var n=e.children,t=e.paymentData,r=!(0,b.tq)().discordAuth.token&&!(0,k.z)(t)&&!(null!=t&&t.requireDiscordAuth);return(0,y.jsxs)("aside",{children:[(0,y.jsxs)("div",{className:"hel-mb-4 ",children:[(0,y.jsx)("h2",{className:"hel-text-sm helio-text-container-title",children:"Enter the free raffle."}),(0,y.jsx)("p",{className:"hel-text-sm helio-text-container-title",children:"If you win, you can participate in the sales."})]}),(0,y.jsxs)("div",{className:"hel-p-2 hel-rounded-3xl helio-background-secondary helio-text-detected hel-flex hel-flex-col hel-gap-2",children:[(0,y.jsx)(w,{title:"Raffle entry",className:"helio-background-secondary hel-pt-2 hel-pb-0",children:(0,y.jsx)("span",{className:"helio-text-primary hel-text-sm",children:"Free"})}),(0,y.jsx)(w,{title:"Sale price",className:"helio-background-secondary-alternative",children:n})]}),r&&(0,y.jsx)(j.r,{discordAccessRequired:!1,showTooltip:!1})]})},C=function(e){var n,t,u,d,h,m=e.pricingCurrency,f=e.decimalAmount,p=e.paymentData,v=e.paystreamDuration,x=e.discountData,b=e.title,j=e.hideTitle,k=e.lineThrough,w=e.className,C=e.testid,T=e.isSubscriptionAnnual,S=e.annualDiscountBps,D=(0,o.U)().tokenConversionService,E=(0,c.rI)().currency,P=(0,i.u6)(),A=f,O=(null==m?void 0:m.symbol)===(null==E?void 0:E.symbol);x&&(A=s.DiscountCodePaymentsService.getDiscountDecimalAmount(f,x.percent));var q=function(e){return e&&S?s.DiscountCodePaymentsService.getDiscountDecimalAmount(A,S/100):A},I=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=arguments.length>2?arguments[2]:void 0,r=(0,l.Z)(e.multipliedBy(n));return null!=t?D.formatPrice({currency:t,decimalAmount:r||e,enforceDecimalRule:!0,addPrefix:!1}):String(0)},R=I(q(T),null!==(n=null==P?void 0:P.values.quantity)&&void 0!==n?n:1,null!=E?E:void 0),L=!(0,a.i2)(R),U=(0,y.jsxs)(y.Fragment,{children:[null==E?void 0:E.symbolPrefix,L?R.toString():"0"," ",null==E?void 0:E.symbol," ",null!=m&&!O&&(0,y.jsxs)(y.Fragment,{children:["(",m.symbolPrefix,I(D.convertFromMinimalUnits({symbol:m.symbol,minimalAmount:BigInt(null!==(t=p.price)&&void 0!==t?t:0)}),(null!==(u=null==P?void 0:P.values.quantity)&&void 0!==u?u:1)*(null!=v?v:1),m).toString()," ",m.symbol,")"]}),T&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("span",{className:"hel-sr-only",children:"Old price without discount"}),(0,y.jsxs)("span",{className:"hel-text-sm hel-font-bold hel-ml-1 hel-line-through",children:["(",I(q(!1),null!==(d=null==P?void 0:P.values.quantity)&&void 0!==d?d:1,m)," ",null==m?void 0:m.symbol,")"]})]})]});return p.requireRaffle&&(null===(h=p.raffleDetails)||void 0===h?void 0:h.state)===r.RaffleState.RAFFLE_STARTED?(0,y.jsx)(N,{paymentData:p,children:U}):(0,y.jsx)(g,{pricingCurrency:m,title:b,hideTitle:j,lineThrough:k,className:w,testid:C,children:U})}},60071:function(e,n,t){t.d(n,{R:function(){return i}});var r=t(22219),l=t(2784),i=function(e){var n=e.redirectUrl,t=e.timeInSeconds,i=void 0===t?r.RedirectTimeoutValues.DEFAULT:t,a=e.setHasCanceled,o=e.hasCanceled,s=(0,l.useState)(i),c=s[0],u=s[1],d=(0,l.useRef)();(0,l.useEffect)(function(){if(n){if(o){clearTimeout(d.current);return}if(c>0)return d.current=setTimeout(function(){u(c-1)},1e3),function(){return clearTimeout(d.current)};window.location.href=n}},[c,n,o]);var h=function(){clearTimeout(d.current),a(!0)};return(0,l.useEffect)(function(){var e=function(){h()};return window.addEventListener("click",e),window.addEventListener("keydown",e),function(){window.removeEventListener("click",e),window.removeEventListener("keydown",e)}},[]),{timeLeft:c,cancelRedirect:h,hasCanceled:o}}},30647:function(e,n,t){t.d(n,{Q:function(){return a}});var r=t(70044),l=t(10312),i=t(52322),a=function(e){var n=e.transaction,t=e.title,a=e.blockchainSymbol,o=(0,l.g_)().network;return(0,i.jsx)("a",{href:r.Zv.getTransactionUrlByBlockchain(a,n,o),className:"helio-text-link hel-text-sm hel-underline",target:"_blank",rel:"noreferrer",children:null!=t?t:"View details"})}},93346:function(e,n,t){t.d(n,{B:function(){return c}});var r=t(2784),l=t(42272),i=t(35282),a=t(29952),o=t(68277),s=t(52322),c=function(e){var n=e.content,t=(0,r.useState)(!1),c=t[0],u=t[1],d=(0,l.F)(null!=n?n:"No content").copy;return(0,s.jsx)(s.Fragment,{children:null!=n&&""!==n&&(0,s.jsx)(s.Fragment,{children:c?(0,s.jsxs)("div",{className:"hel-w-full",children:[(0,s.jsx)(a._,{info:"",children:"Link"}),(0,s.jsxs)("div",{onClick:function(){return d()},className:"helio-border-color hel-py-3 hel-px-2 hel-flex hel-flex-row hel-rounded hel-items-center hel-justify-between hel-border",children:[(0,s.jsx)("p",{className:"helio-text-revealed-content hel-text-sm hel-break-all",children:n}),(0,s.jsx)("div",{children:(0,s.jsx)(o.J,{iconName:"Copy",className:"helio-fill-primary hel-w-6 hel-h-6 hel-cursor-pointer"})})]})]}):(0,s.jsx)(i.z,{className:"hel-text-base hel-w-full hel-mt-10",variant:"primary",onClick:function(){return u(!0)},children:"REVEAL"})})})}},86861:function(e,n,t){t.d(n,{c:function(){return ef}});var r=t(22219),l=t(5272),i=t(10906),a=t(95235),o=function(e){var n;return{data:{content:{},transactionSignature:e.paylinkTx.meta.transactionSignature,status:r.TransactionStatus.SUCCESS},transaction:e.paylinkTx.meta.transactionSignature,blockchainSymbol:null===(n=e.paylink)||void 0===n||null===(n=n.recipients)||void 0===n||null===(n=n.find(function(n){var t;return n.currency.id===(null===(t=e.paylinkTx)||void 0===t?void 0:t.meta.currency.id)}))||void 0===n||null===(n=n.currency.blockchain)||void 0===n?void 0:n.symbol}},s=t(20406),c=t(82841),u=t.n(c),d=t(2784),h=t(94449),m=t(20603),f=t(49759),p=t(95503),v=t(65119),x=function(){var e=(0,h.I0)(),n=(0,f.qO)().actions,t=(0,h.v9)(p.hW),l=(0,i.H4)(),a=l.dispatchLocal,c=l.onSuccess,x=(0,v.U)().tokenConversionService,y=(0,d.useRef)(null),g=(0,d.useCallback)((0,s.Z)(u().mark(function l(){var i;return u().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(t){l.next=2;break}return l.abrupt("return");case 2:if(t.paylinkTx){l.next=5;break}return e(n.reLoadPaymentRequestFromChargeWithTxStatus({fieldValue:t.token,tokenConversionService:x})),l.abrupt("return");case 5:i=t.paylinkTx.meta.transactionStatus,l.t0=i,l.next=l.t0===r.TransactionStatus.SUCCESS?9:l.t0===r.TransactionStatus.FAILED?11:l.t0===r.TransactionStatus.CANCELED?13:15;break;case 9:return a({status:m.PaymentStatus.PAID,transaction:i}),l.abrupt("return",!0);case 11:return a({status:m.PaymentStatus.ERROR,transaction:i}),l.abrupt("return",!0);case 13:return a({status:m.PaymentStatus.CANCELLED,transaction:i}),l.abrupt("return",!0);case 15:return l.abrupt("break",16);case 16:case"end":return l.stop()}},l)})),[e,n,x,a,t]);(0,d.useEffect)(function(){var e,n=(e=(0,s.Z)(u().mark(function e(){return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:e.sent&&y.current&&(clearInterval(y.current),y.current=null);case 4:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)});return t&&!y.current&&(y.current=setInterval(n,5e3)),function(){y.current&&(clearInterval(y.current),y.current=null)}},[g,t]),(0,d.useEffect)(function(){if(t&&t.paylinkTx&&t.paylinkTx.meta.transactionStatus===r.TransactionStatus.SUCCESS){var e=o(t);null==c||c(e)}},[t,c])},y=t(68277),g=t(22204),b=t(30647),j=t(27853),k="hel-mx-auto hel-flex hel-flex-col hel-pb-6 hel-px-4 hel-justify-center hel-text-center",w="hel-flex hel-flex-col hel-gap-y-1 hel-items-center hel-mt-[15px] hel-text-sm",N="\n   hel-text-sm hel-flex hel-items-center hel-justify-center hel-gap-x-[5.5px] helio-text-body-inactive\n",C="hel-mx-auto hel-flex hel-items-center hel-justify-center hel-rounded-full hel-w-[120px] hel-h-[120px]",T="hel-font-bold",S="hel-pr-6 hel-mt-4 hel-w-full hel-inline-flex hel-items-center hel-justify-end hel-h-[32px]",D=(0,j.Z)(T,"helio-text-warning-alternative"),E=(0,j.Z)(C,"helio-background-warning-alternative"),P=t(52322),A=function(e){var n=e.transaction,t=e.blockchainSymbol;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{className:S}),(0,P.jsxs)("div",{className:k,children:[(0,P.jsx)("div",{className:E,children:(0,P.jsx)(y.J,{iconName:"ArrowCircle",className:"helio-fill-warning-alternative hel-w-20 hel-h-20 hel-animate-spin"})}),(0,P.jsxs)("div",{className:w,children:[(0,P.jsx)("div",{className:D,children:"Pending"}),(0,P.jsxs)("p",{className:N,children:["Transaction in progress"," ",(0,P.jsx)(g.u,{title:"Status will update automatically when the payment is confirmed",children:(0,P.jsx)(y.J,{iconName:"Info",className:"helio-fill-icon hel-w-4 hel-h-4 hel-cursor-pointer"})})]}),n&&t&&(0,P.jsx)(b.Q,{transaction:n,blockchainSymbol:t})]})]})]})};function O(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}var q=function(e){return x(),(0,P.jsx)(A,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?O(Object(t),!0).forEach(function(n){(0,a.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):O(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({},e))},I=t(10312),R=(0,j.Z)(T,"helio-text-success-alternative"),L=(0,j.Z)(C,"helio-background-success-alternative"),U=t(6277),F=t(25711),B=t(24511),_=t(79012),Z=t(87307),M=t(35282),H=t(39641),z=t(64041),W=t(29952),V=t(16480),Q=function(e){var n,t=e.helioTxId,r=(0,Z.O)().apiServiceV1;return(0,P.jsx)("div",{className:"hel-pt-[22px] hel-mx-6",children:(0,P.jsx)(F.J9,{initialValues:{email:""},validationSchema:B.Ry().shape({email:B.Z_().email().required()}),onSubmit:(n=(0,s.Z)(u().mark(function e(n){return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}return(0,_.Jc)("Missing transaction ID"),(0,V.O7)(Error("Receive confirmation email missing transaction ID")),e.abrupt("return");case 4:return e.prev=4,e.next=7,r.sendConfirmationEmail(n.email,t);case 7:(0,_.Qm)("Confirmation email sent"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(4),(0,_.Jc)(String(e.t0)),(0,V.O7)(e.t0);case 14:case"end":return e.stop()}},e,null,[[4,10]])})),function(e){return n.apply(this,arguments)}),children:function(){return(0,P.jsxs)(F.l0,{children:[(0,P.jsxs)("div",{className:(0,U.default)(H.j),children:[(0,P.jsx)(W._,{children:"Receive confirmation by email"}),(0,P.jsx)(z.k,{className:"hel-mb-2",containerClassName:"hel-text-left",fieldId:"email",fieldName:"email",placeholder:"john@helio.co",type:"email"})]}),(0,P.jsx)(M.z,{type:"submit",variant:"secondary",className:"hel-w-full",children:"SEND"})]})}})})},G=function(e){var n=e.children,t=e.headerSuffix,r=e.helioTxId,l=e.notifyCustomersSetOnPaylink,i=e.notifySenderByEmail,a=e.successMessage,o=(0,I.g_)().checkoutType;return(0,P.jsx)(P.Fragment,{children:(0,P.jsxs)("div",{className:k,children:[(0,P.jsx)("div",{className:(0,j.Z)(S,o===I.HX.EMBEDDED&&"hel-pt-10"),children:t}),(0,P.jsx)("div",{className:L,children:(0,P.jsx)(y.J,{className:"helio-fill-success-alternative hel-w-20 hel-h-20",iconName:"CircleTick"})}),(0,P.jsxs)("div",{className:w,children:[(0,P.jsx)("div",{className:R,children:"Success!"}),a]}),n,r&&!l&&!i&&(0,P.jsx)("div",{className:"hel-mb-1",children:(0,P.jsx)(Q,{helioTxId:r})})]})})},K=function(){return(0,P.jsx)(G,{successMessage:"You've entered the raffle. Winners will be notified"})},J=t(34809),Y=t(7083),X=t(51764),$=t(60071),ee=t(93346),en=t(56106),et=function(e){var n,t,l=e.paymentRequest,i=e.content,a=e.helioTxId,o=e.transaction,s=e.swapTransactionSignature,c=e.blockchainSymbol,u=e.hasCanceledRedirect,d=e.setHasCanceledRedirect,h=e.senderPK,f=(0,I.g_)().network,p=l.type===r.PaymentRequestType.PAYLINK&&l.discordAction,v=!!((null==l?void 0:l.shouldRedirectOnSuccess)&&(null==l?void 0:l.redirectUrl)),x=function(e,n){var t=new URL(e);return n.forEach(function(e){if(e.queryParamType===r.RedirectQueryParams.WALLET_ADDRESS)t.searchParams.append(e.queryParamType,null!=h?h:"");else{var n;t.searchParams.append(e.queryParamType,null!==(n=e.value)&&void 0!==n?n:"")}}),t.toString()},y=function(e){var n=e.shouldRedirectOnSuccess,t=e.redirectUrl,r=e.hasRedirectQueryParams,l=e.redirectQueryParams;if(n&&t)return r&&l?x(t,l):t},g=(0,$.R)({redirectUrl:y(l),timeInSeconds:null!==(n=null==l?void 0:l.redirectTimeout)&&void 0!==n?n:r.RedirectTimeoutValues.DEFAULT,hasCanceled:u,setHasCanceled:d}),j=g.timeLeft,k=g.hasCanceled,w=!!(v&&!k);return(0,P.jsx)(G,{helioTxId:a,notifySenderByEmail:l.notifySenderByEmail,notifyCustomersSetOnPaylink:l.notify,headerSuffix:p&&(0,P.jsx)(X.g,{variant:"secondary",className:"hel-h-[32px] hel-w-[72px]",onClick:function(){m.LinkService.linkToClaim(f)},tooltipTitle:"Claim your Discord membership",tooltipClassName:"hel-flex hel-flex-col",children:"CLAIM"}),successMessage:(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("p",{className:N,children:"Transaction approved"}),w&&(0,P.jsx)("p",{className:"hel-font-bold hel-mt-[-4px] antialiased",children:j>0?"Redirecting in ".concat(j," seconds..."):"Redirecting..."}),o&&c&&(0,P.jsx)(b.Q,{transaction:o,blockchainSymbol:c}),s&&c&&(0,P.jsxs)("div",{className:"hel-flex hel-flex-col hel-gap-y-1 hel-items-center hel-text-sm",children:[(0,P.jsx)("p",{className:N,children:"Swap transaction"}),(0,P.jsx)(b.Q,{transaction:s,blockchainSymbol:c})]}),v&&(0,P.jsx)(en.h,{redirectUrl:null!==(t=y(l))&&void 0!==t?t:""})]}),children:(null==i?void 0:i.text)&&(0,P.jsx)("div",{className:"hel-flex hel-items-center hel-justify-center hel-mx-6",children:(0,P.jsx)(ee.B,{content:null==i?void 0:i.text})})})},er=t(86476),el=function(){var e=(0,er.g_)().reloadApp;return(0,P.jsx)("button",{className:"helio-text-link helio-text-link@hover hel-underline hel-cursor-pointer",onClick:e,children:"Try again"})},ei=(0,j.Z)(T,"helio-text-cancelled"),ea=(0,j.Z)(C,"helio-background-cancelled"),eo=function(){return(0,P.jsx)(P.Fragment,{children:(0,P.jsxs)("div",{className:k,role:"alert",children:[(0,P.jsx)("div",{className:S}),(0,P.jsx)("div",{className:ea,children:(0,P.jsx)(y.J,{iconName:"WarningSquare",className:"helio-fill-cancelled-alternative hel-w-20 hel-h-20"})}),(0,P.jsxs)("div",{className:w,children:[(0,P.jsx)("h3",{className:ei,children:"Cancelled"}),(0,P.jsx)("p",{className:N,children:"Transaction cancelled"}),(0,P.jsx)(el,{})]})]})})},es=(0,j.Z)(T,"helio-text-danger"),ec=(0,j.Z)(C,"helio-background-danger"),eu=function(e){var n=e.transaction,t=e.blockchainSymbol,r=e.errorDescription;return(0,P.jsx)(P.Fragment,{children:(0,P.jsxs)("div",{className:k,role:"alert",children:[(0,P.jsx)("div",{className:S}),(0,P.jsx)("div",{className:ec,children:(0,P.jsx)(y.J,{iconName:"WarningTriangle",className:"helio-fill-danger hel-w-20 hel-h-20"})}),(0,P.jsxs)("div",{className:w,children:[(0,P.jsx)("h3",{className:es,children:"Failed"}),(0,P.jsx)("p",{className:N,children:r||"Transaction failed"}),(0,P.jsx)(el,{}),n&&t&&(0,P.jsx)(b.Q,{transaction:n,blockchainSymbol:t})]})]})})},ed=(0,j.Z)(T,"helio-text-success-alternative"),eh=(0,j.Z)(C,"helio-background-success-alternative"),em=function(e){var n=e.notifyCustomersSetOnPaylink,t=e.transaction,r=e.helioTxId,l=e.blockchainSymbol;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{className:S,children:(0,P.jsx)(X.g,{variant:"secondary",className:"hel-h-[32px] hel-w-[72px]",onClick:function(){return m.LinkService.linkToLogin()},tooltipTitle:"To see the status of your payment.",tooltipClassName:"hel-flex hel-flex-col",children:"LOGIN"})}),(0,P.jsxs)("div",{className:k,children:[(0,P.jsx)("div",{className:eh,children:(0,P.jsx)(y.J,{iconName:"Rocket",className:"helio-fill-success-alternative hel-w-20 hel-h-20"})}),(0,P.jsxs)("div",{className:w,children:[(0,P.jsx)("div",{className:ed,children:"Submitted"}),(0,P.jsx)("p",{className:N,children:"Transaction successfully submitted"}),t&&l&&(0,P.jsx)(b.Q,{transaction:t,blockchainSymbol:l})]}),r&&!n&&(0,P.jsx)(Q,{helioTxId:r})]})]})},ef=function(e){var n,t,a=e.paymentRequest,o=e.AccessCard,s=e.decimalAmount,c=e.setDecimalAmount,u=e.PaymentSuccessCustomCard,d=e.hasCanceledRedirect,h=e.setHasCanceledRedirect,m=e.isCharge,f=(0,i.H4)(),p=f.paymentState,v=f.senderPK,x=(0,Y.rI)(),y=x.blockchain,g=x.matchingRecipient,b=x.currency,j=g?g.wallet.publicKey:null==a||null===(n=a.owner.wallets.items[0])||void 0===n?void 0:n.publicKey;switch(p.status){case J.b.UNINITIATED:return(0,P.jsx)(o,{currency:null!=b?b:void 0,decimalAmount:s,setDecimalAmount:c,canChangePrice:null==a?void 0:a.canChangePrice,receiverPublicKey:j,paymentData:a,splitRevenue:a.splitRevenue,splitWallets:a.splitWallets,isCharge:m});case J.b.PAID:return u?(0,P.jsx)(u,{decimalAmount:s,paymentRequest:a,hasCanceledRedirect:d,setHasCanceledRedirect:h}):(0,P.jsx)(et,{paymentRequest:a,transaction:p.transaction,helioTxId:p.helioTxId,content:p.content,swapTransactionSignature:p.swapTransactionSignature,blockchainSymbol:y||(null==a||null===(t=a.currency)||void 0===t||null===(t=t.blockchain)||void 0===t?void 0:t.symbol),hasCanceledRedirect:d,setHasCanceledRedirect:h,senderPK:v});case J.b.PENDING:case J.b.INITIATED:if(y==r.BlockchainSymbol.BITCOIN)return(0,P.jsx)(em,{transaction:p.transaction,blockchainSymbol:r.BlockchainSymbol.BITCOIN,notifyCustomersSetOnPaylink:a.notify,helioTxId:p.helioTxId});return(0,P.jsx)(A,{transaction:p.transaction,blockchainSymbol:y});case J.b.PAYMENT_INITIATED_IN_NEW_TAB:return(0,P.jsx)(q,{transaction:p.transaction,blockchainSymbol:y});case J.b.CANCELLED:return(0,P.jsx)(eo,{});case J.b.ERROR:return(0,P.jsx)(eu,{transaction:p.transaction,blockchainSymbol:y});case J.b.RAFFLE_ENTERED:return(0,P.jsx)(K,{});default:return(0,l.Kb)(p.status,null)}}},71042:function(e,n,t){t.d(n,{i:function(){return m}});var r=t(20406),l=t(82841),i=t.n(l),a=t(79012),o=t(5272),s=t(446),c=t(15766),u=t(10718),d=t(10312),h=t(7083),m=function(e){var n,t=(0,h.rI)().paymentRequest,l=(0,h.rI)(),m=l.blockchain;l.currency;var f=(0,d.g_)(),p=f.checkoutType,v=f.platform,x=null==t||null===(n=t.owner)||void 0===n||null===(n=n.wallets)||void 0===n||null===(n=n.items)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.publicKey,y=(0,s.s)({publicKey:x,blockchain:m}),g=window.location.href;return g&&y?(0,o.Ds)((0,r.Z)(i().mark(function n(){return i().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.reportLink({reportedLinkUrl:g,merchantAddressLink:y,checkoutType:p,platform:v,paylinkId:String(null==t?void 0:t.id)});case 3:(0,c._)({name:u.Z.PAYLINK_REPORTED,properties:{link:g,success:!0}}),(0,a.Qm)("Pay link reported"),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(0),(0,c._)({name:u.Z.PAYLINK_REPORTED,properties:{link:g,success:!1}}),(0,a.Jc)("Unable to report Pay Link");case 11:case"end":return n.stop()}},n,null,[[0,7]])})),1e3):null}},63441:function(e,n,t){t.d(n,{m:function(){return Z}});var r=t(95235),l=t(72467),i=t(44720),a=t(17831),o=t(72558),s=t(2784),c=t(94449),u=t(10906),d=t(65119),h=t(92270),m=t(20603),f=t(66980),p=t(58551),v=t(10312),x=t(7083),y=t(68913),g=t(64006),b=t(82841),j=t.n(b),k=t(20608),w=t(14757),N=t(16480),C=j().mark(S),T=j().mark(D);function S(e){var n,t,r,l,i;return j().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,(0,w.cm)();case 3:return n=a.sent,r=(t=e.payload).token,l=t.prId,a.next=7,(0,k.RE)(n.getPaymentStateStatus,{authToken:r,paymentRequestId:l});case 7:if(!(i=a.sent).transactionSignature){a.next=11;break}return a.next=11,(0,k.gz)(A.checkoutSessionStatusLoaded(i));case 11:a.next=18;break;case 13:return a.prev=13,a.t0=a.catch(0),(0,N.O7)(a.t0),a.next=18,(0,k.gz)(A.setError(String(a.t0)));case 18:case"end":return a.stop()}},C,null,[[0,13]])}function D(){return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,k.Fm)(A.loadCheckoutSessionStatus.type,S);case 2:case"end":return e.stop()}},T)}var E={loading:!1},P=(0,y.o)({name:"activeCheckoutSessionManager",initialState:E,reducers:{loadCheckoutSessionStatus:function(e,n){e.loading=!0},checkoutSessionStatusLoaded:function(e,n){e.loading=!1,e.activeSession=n.payload},setError:function(e,n){e.error=n.payload,e.loading=!1}}}),A=P.actions,O=t(22219),q=t(60985),I=function(e){return(null==e?void 0:e.activeCheckoutSessionManager)||E};(0,q.P1)([I],function(e){return e.loading}),(0,q.P1)([I],function(e){return e.error});var R=(0,q.P1)([I],function(e){return e.activeSession&&O.PaystreamCheckoutStatusResponse.fromObject(e.activeSession)}),L=t(82456),U=t(95503),F=t(95669);function B(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function _(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?B(Object(t),!0).forEach(function(n){(0,r.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):B(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var Z=function(){var e,n,t=(0,c.I0)(),r=(0,i.O)().publicKey,y=(0,a.R)().connection,b=(0,d.U)().currencies,j=(0,u.H4)(),k=j.paymentState,w=j.dispatchLocal,N=(0,l.Eu)().token,C=(0,x.rI)(),T=C.blockchain,S=C.currency,E=(0,L.lD)().actions,A=((0,g.v)({key:P.name,reducer:P.reducer}),(0,g.h)({key:P.name,saga:D}),{actions:P.actions}).actions,O=(0,c.v9)(R),q=(0,c.v9)(U.qx),I=(0,c.v9)(U.zh),B=(0,c.v9)(U.NH),Z=(0,h.p)(),M=Z.loadTokenPrice,H=Z.expiresAtTimestampSeconds,z=Z.refetch,W=(0,s.useState)((0,o.Z)(0)),V=W[0],Q=W[1],G=b.length>0,K=(0,p.v_)(null==q||null===(e=q.nftDrop)||void 0===e?void 0:e.state),J=(null==q?void 0:q.disabled)||K,Y=H&&1e3*H,X=null==q?void 0:q.pricingCurrency;(0,s.useEffect)(function(){N&&q&&t(A.loadCheckoutSessionStatus({token:N,prId:q.id}))},[A,t,q,N]),(0,s.useEffect)(function(){null!=r&&null!=y&&G&&t(E.loadAvailableSolanaBalances({publicKey:String(r),connection:y,currencies:b}))},[r,t,E,y,b,G]),(0,s.useEffect)(function(){if(O&&O.paymentData&&O.startedAt&&O.endedAt&&O.transactionSignature){var e,n,t,r;w({status:m.PaymentStatus.PAID,content:{text:null===(e=O.paymentData)||void 0===e||null===(e=e.content)||void 0===e?void 0:e.text,mediaUrl:null===(n=O.paymentData)||void 0===n||null===(n=n.content)||void 0===n?void 0:n.mediaUrl},transaction:O.transactionSignature,paymentData:{document:_(_({},O.paymentData.document),{},{startedAt:O.startedAt,endedAt:O.endedAt}),content:{text:null===(t=O.paymentData)||void 0===t||null===(t=t.content)||void 0===t?void 0:t.text,mediaUrl:null===(r=O.paymentData)||void 0===r||null===(r=r.content)||void 0===r?void 0:r.mediaUrl},transactionSignature:O.transactionSignature},startedAt:O.startedAt,endedAt:O.endedAt})}},[O,w]),(0,s.useEffect)(function(){Y&&null!=q&&(null==S?void 0:S.symbol)!=null&&Y>Date.now()&&null!=X&&f.l.delay(function(){z()},Y-Date.now(),"loadTokenPrice")},[z,M,S,t,Y,q,X]);var $=(0,F.IG)().actions,ee=(0,v.g_)().network;return(0,s.useEffect)(function(){var e,n;((0,p.kb)(null==q?void 0:q.nftDrop,null==q?void 0:q.nftDropEnabled)||(0,p.sG)(null==q||null===(e=q.nftDrop)||void 0===e?void 0:e.state))&&(null==q||null===(n=q.nftDrop)||void 0===n?void 0:n.mintAddresses)!=null&&t($.loadCheckoutNfts({mintAddresses:q.nftDrop.mintAddresses,network:ee}))},[ee,t,$,null==q?void 0:q.nftDrop,null==q||null===(n=q.nftDrop)||void 0===n?void 0:n.mintAddresses,null==q?void 0:q.nftDropEnabled]),{loading:B,paymentData:q,error:I,paymentIsDisabled:J,blockchain:T,decimalAmount:V,setDecimalAmount:Q,paymentState:k}}},1674:function(e,n,t){t.d(n,{wz:function(){return l}});var r=t(72609),l=new Set([r.A.QR_CODE,r.A.TOPBAR_ESCROW_TEXT,r.A.TOPBAR_HELIO_X_LOGO])},2586:function(e,n,t){t.d(n,{j:function(){return a}});var r=t(95235),l=t(96412),i=t(13089),a=function(){function e(){(0,l.Z)(this,e)}return(0,i.Z)(e,null,[{key:"getDiscordUrl",value:function(e,n,t){var r,l,i=(null===(r=window)||void 0===r||null===(r=r.location)||void 0===r?void 0:r.origin)==="https://presale.magiceden.us"||(null===(l=window)||void 0===l||null===(l=l.location)||void 0===l?void 0:l.origin)==="https://presale-staging.magiceden.us"?n.replace(".io",".us"):n;return"https://discord.com/oauth2/authorize?client_id=".concat(e,"&redirect_uri=").concat(i,"&response_type=code&scope=identify%20guilds%20guilds.members.read&state=").concat(t)}},{key:"getAuthHeader",value:function(e){return null!=e&&e.headerName&&null!=e&&e.token?(0,r.Z)({},e.headerName,e.token):{}}}]),e}()},82495:function(e,n,t){t.d(n,{_:function(){return x}});var r=t(20406),l=t(96412),i=t(13089),a=t(82841),o=t.n(a),s=t(45724),c=t(73485),u=t(241),d=t(56965),h=t(95037),m=t(30020),f=t(10856),p=t(75329),v=t(16480),x=function(){var e,n,t,a;function x(){(0,l.Z)(this,x)}return(0,i.Z)(x,null,[{key:"checkEvmNftContract",value:(e=(0,r.Z)(o().mark(function e(n,t,r,l){var i,a;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=new p.CH(t,n,r),e.next=4,i.balanceOf(l);case 4:return a=e.sent,e.abrupt("return",a>BigInt(0));case 8:return e.prev=8,e.t0=e.catch(0),(0,v.O7)(e.t0),e.abrupt("return",!1);case 12:case"end":return e.stop()}},e,null,[[0,8]])})),function(n,t,r,l){return e.apply(this,arguments)})},{key:"confirmUserContainsNft",value:(n=(0,r.Z)(o().mark(function e(n){var t,l,i,a,h,m,f,p;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.customerPublicKey,l=n.merchantTokenAddress,i=n.connection,e.prev=1,a=(0,u.i)(i.rpcEndpoint).use((0,s.dasApi)()),e.next=5,a.rpc.getAssetsByOwner({owner:(0,c.ZL)(t.toString())});case 5:return h=e.sent,e.next=8,this.checkToken2022(i,t,l);case 8:if(!e.sent){e.next=11;break}return e.abrupt("return",!0);case 11:return e.next=13,x.getNftDetails({nftTokenAddress:l,connection:i});case 13:return m=e.sent,f=h.items.map(function(){var e=(0,r.Z)(o().mark(function e(n){var t,r,l;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l={id:n.id,collectionAddress:null===(t=n.grouping.find(function(e){return"collection"===e.group_key}))||void 0===t?void 0:t.group_value,symbol:n.content.metadata.symbol,updateAuthorityAddress:(0,d.I)(n.authorities[0].address)},e.abrupt("return",l.id===m.id||l.collectionAddress&&l.collectionAddress===(null===(r=m.collectionAddress)||void 0===r?void 0:r.toString())||l.symbol===m.symbol&&String(l.updateAuthorityAddress)===String(m.updateAuthorityAddress));case 2:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}()),e.next=17,Promise.all(f);case 17:return p=e.sent,e.abrupt("return",p.some(function(e){return e}));case 21:throw e.prev=21,e.t0=e.catch(1),(0,v.O7)(e.t0),Error(String(e.t0));case 25:case"end":return e.stop()}},e,this,[[1,21]])})),function(e){return n.apply(this,arguments)})},{key:"checkToken2022",value:(t=(0,r.Z)(o().mark(function e(n,t,r){var l;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getTokenAccountsByOwner(t,{programId:m.nA});case 2:return l=e.sent,e.abrupt("return",l.value.some(function(e){var n=h.p0.decode(e.account.data),t=new f.nh(n.mint),l=n.amount;return t.equals(r)&&l>=BigInt(1)}));case 4:case"end":return e.stop()}},e)})),function(e,n,r){return t.apply(this,arguments)})},{key:"getNftDetails",value:(a=(0,r.Z)(o().mark(function e(n){var t,r,l,i,a,d,h,m,f,p,x;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.nftTokenAddress,r=n.connection,e.prev=1,l=(0,u.i)(r.rpcEndpoint).use((0,s.dasApi)()),e.next=5,l.rpc.getAsset((0,c.ZL)(t.toString()));case 5:if(i=e.sent){e.next=8;break}throw Error("NFT not found");case 8:return a=i.id,d=i.content.metadata.name||"",h=i.content.metadata.symbol||void 0,m=i.authorities&&i.authorities[0]?i.authorities[0].address:void 0,f=i.compression.compressed,x=(p=i.compression.compressed&&i.grouping.find(function(e){return"collection"===e.group_key}))?p.group_value:void 0,e.abrupt("return",{id:a,name:d,symbol:h,updateAuthorityAddress:m,isCompressed:f,collectionAddress:x});case 18:throw e.prev=18,e.t0=e.catch(1),(0,v.O7)(e.t0),Error(String(e.t0));case 22:case"end":return e.stop()}},e,null,[[1,18]])})),function(e){return a.apply(this,arguments)})}]),x}()},446:function(e,n,t){t.d(n,{s:function(){return i}});var r=t(20603),l=t(10312),i=function(e){var n=(0,l.g_)().network;if(e.publicKey&&e.blockchain)return r.ExplorerAggregateService.getAddressUrlByBlockchain(e.blockchain,e.publicKey,n)}},96686:function(e,n,t){t.d(n,{_:function(){return y}});var r=t(2784),l=t(62202),i=t(22219),a=t(35282),o=t(68277),s=t(71457),c=t(54787),u=t(78126),d=t(29538),h=t(10312),m=t(21809),f=t(52322),p=function(e){var n,t=e.platform,r=e.toastId,p=e.isHelioPlay,v=void 0!==p&&p,x=e.paymentRequest,y=(0,m.Fg)().platformCopy,g=(0,h.g_)().getFullUrl,b=x&&g(t,u.b.getPaymentRelativeLinkWithParamString(x)),j=d.X.getTwitterCheckoutText({isHelioPlay:v,checkoutLink:b,merchantTwitter:null==x||null===(n=x.owner)||void 0===n||null===(n=n.company)||void 0===n?void 0:n.twitterUsername}),k=function(){l.ZP.remove(r)},w=(null==x?void 0:x.currency.blockchain.engine.type)===i.BlockchainEngineType.BTC?"That took just two hel-block confirmations":"That was a breeze wasn't it?";return(0,f.jsxs)("div",{className:"helio-text-body-inactive hel-flex hel-flex-wrap hel-items-center lg:hel-gap-4 hel-gap-2",children:[(0,f.jsx)("span",{className:"hel-text-xl md:hel-text-2xl",children:"\uD83D\uDE0E"}),(0,f.jsxs)("div",{className:"hel-py-1 md:hel-py-2 hel-text-sm md:hel-mr-6",children:[(0,f.jsx)("div",{className:"hel-font-semibold hel-mb-1",children:w}),(0,f.jsxs)("div",{children:[v?y.components.widgets.checkout.components.toasts.helioBanner.isHelioPlay:y.components.widgets.checkout.components.toasts.helioBanner.isNotHelioPlay,(0,f.jsx)(s.H,{href:c.AW.DASHBOARD,className:"helio-text-link hel-ml-1 hel-underline hel-underline-offset-2",onClick:k,children:v?y.components.widgets.checkout.components.toasts.helioBanner.visitHelioPlay:y.components.widgets.checkout.components.toasts.helioBanner.visitNotHelioPlay})]})]}),(0,f.jsx)(s.H,{href:j,onClick:k,children:(0,f.jsx)(a.z,{variant:"secondary",children:(0,f.jsxs)("div",{className:"hel-flex hel-flex-row hel-items-center hel-justify-center hel-gap-x-3",children:[(0,f.jsx)(o.J,{className:"hel-fill-60",iconName:"XTwitter"})," SHARE ON X"]})})})]})},v="helio-banner-toast",x=function(e){var n=e.paymentRequest;return(0,l.ZP)((0,f.jsx)(p,{platform:null==n?void 0:n.platform,toastId:v,paymentRequest:n,isHelioPlay:null==n?void 0:n.isHelioPlay}),{duration:5e3,style:{maxWidth:"initial"},id:v})},y=function(e){return(0,r.useMemo)(function(){return{onSuccess:function(n){return x({paymentRequest:e,event:n})}}},[e])}},92270:function(e,n,t){t.d(n,{p:function(){return h}});var r=t(2784),l=t(94449),i=t(16480),a=t(48911),o=t(68913),s=t(64006),c={},u=(0,o.o)({name:"tokenConversionManager",initialState:c,reducers:{setCurrentArgs:function(e,n){e.currentArgs=n.payload}}});u.actions;var d=(0,t(60985).P1)([function(e){return(null==e?void 0:e.tokenConversionManager)||c}],function(e){return e.currentArgs}),h=function(){var e,n,t,o=(0,l.I0)(),c=((0,s.v)({key:u.name,reducer:u.reducer}),{actions:u.actions}).actions.setCurrentArgs,h=(0,l.v9)(d),m=(0,a.RQ)(h,{skip:!h}),f=null===(e=m.data)||void 0===e?void 0:e.rateToken,p=null===(n=m.data)||void 0===n?void 0:n.tokenExpiration,v=null===(t=m.data)||void 0===t?void 0:t.rate;return{loadTokenPrice:(0,r.useCallback)(function(e){var n=e.toCurrency,t=e.amount,r=e.paymentData,l=e.fromCurrency,a=void 0===l?null==r?void 0:r.pricingCurrency:l;if(!t||!n||!a){(0,i.O7)(Error("Missing required parameters for token price conversion: amount, toCurrency, or fromCurrency"));return}o(c({from:a.symbol,to:n.symbol,amount:t,paymentRequestID:r.id,paymentRequestType:r.type}))},[o,c]),rateToken:f,expiresAtTimestampSeconds:p,dynamicRate:v,loading:m.isLoading,refetch:m.refetch}}},32761:function(e,n,t){t.d(n,{C:function(){return o}});var r=t(2784),l=t(23970),i=t(52322),a=l.L.Provider,o=function(e){var n=e.children,t=e.enabledCheckoutFeatures,l=e.primaryPaymentMethod,o=e.showLoadingModalBottomBar,s=void 0===o||o,c=e.showQRCode,u=e.showPayWithCard,d=e.hasLogoGradient,h=e.quantity,m=e.isCardOnly,f=void 0!==m&&m,p=e.buttonDropShadow,v=void 0===p||p,x=(0,r.useMemo)(function(){return{isCheckoutFeatureEnabled:function(e){return t.has(e)},primaryPaymentMethod:null!=l?l:"crypto",showLoadingModalBottomBar:s,showQRCode:c,showPayWithCard:void 0===u||u,hasLogoGradient:d,quantity:h,isCardOnly:f,buttonDropShadow:v}},[h,l,s,c,u,d,t,f,v]);return(0,i.jsx)(a,{value:x,children:n})}},36099:function(e,n,t){t.d(n,{P:function(){return p},f:function(){return v}});var r=t(95235),l=t(20406),i=t(82841),a=t.n(i),o=t(2784),s=t(83149),c=t(36511),u=t(16831),d=t(86476),h=t(52322);function m(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function f(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?m(Object(t),!0).forEach(function(n){(0,r.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var p=(0,o.createContext)({connectWithHelioWallet:function(){return Promise.resolve(void 0)}}),v=function(e){var n,t=e.children,r=(0,d.g_)(),i=r.push,m=r.query,v=(0,s.$)(),x=v.onConnect,y=v.onAddWallet,g=(0,c.q)().disconnect,b=(0,o.useState)(!1),j=b[0],k=b[1],w=(n=(0,l.Z)(a().mark(function e(){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g(),e.next=3,null==i?void 0:i({query:f(f({},m),{},{network:"SOL"})});case 3:(0,u.o)({doAuthenticate:!0,isAddWallet:!1,onConnect:x,onAddWallet:y,withEmailAndGoogle:!0,withExternalWallet:!1,isCheckout:!0}),k(!j);case 5:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)});return(0,h.jsx)(p.Provider,{value:{connectWithHelioWallet:w},children:t})}},49759:function(e,n,t){t.d(n,{E3:function(){return H},em:function(){return W},qO:function(){return V}});var r,l=t(68913),i=t(64006),a=t(95235),o=t(20406),s=t(82841),c=t.n(s),u=t(22219),d=t(72558),h=t(20608),m=t(14757),f=t(3340),p=t(14923),v=t(37942),x=t(16480),y=t(20603),g=function(e,n){var t=e.payload,r=n.paylink,l=t.tokenConversionService,i=t.priceOverride,a=y.TransformPaymentRequestService.transformPaymentRequest(u.Paylink.fromObject(r),!0,n.isSubscriptionRenewal);if(!l)throw Error("No token conversion service");if(i&&"0"!==i&&!a.canSwapTokens){var o,s={symbol:a.pricingCurrency.symbol,decimalAmount:i,blockchain:null===(o=a.pricingCurrency.blockchain)||void 0===o?void 0:o.symbol};a.price=a.pricingCurrency.type===u.CurrencyType.DIGITAL?l.convertToMinimalUnits(s):l.convertToMinimalUnitsWithoutBlockchain(s)}else(a.dynamic||a.canChangePrice)&&(a.price=BigInt(n.pricingCurrencyRequestAmount));return a};function b(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function j(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?b(Object(t),!0).forEach(function(n){(0,a.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var k=c().mark(O),w=c().mark(I),N=c().mark(R),C=c().mark(L),T=c().mark(U),S=c().mark(F),D=c().mark(B),E=c().mark(_),P=c().mark(Z),A=c().mark(M);function O(e){var n,t,r,l,i,a;return c().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,(0,m.cm)();case 3:return t=o.sent,r=e.payload.fieldValue,o.next=7,(0,h.RE)(t.getPaymentRequestBySlugPublic,r);case 7:if(null!==(n=(l=o.sent).paymentRequest)&&void 0!==n&&n.id){o.next=13;break}return o.next=11,(0,h.gz)(W.setError("Payment request not found"));case 11:o.next=23;break;case 13:o.t0=l.type,o.next=o.t0===u.SlugObjectType.PAYLINK?16:o.t0===u.SlugObjectType.PAYSTREAM?20:23;break;case 16:return i=v.k.transformPaymentRequest(l.paymentRequest,!0),o.next=19,(0,h.gz)(W.paylinkLoaded(i));case 19:return o.abrupt("break",23);case 20:return a=v.k.transformPaymentRequest(l.paymentRequest),o.next=23,(0,h.gz)(W.paystreamLoaded(a));case 23:o.next=30;break;case 25:return o.prev=25,o.t1=o.catch(0),(0,x.O7)(o.t1),o.next=30,(0,h.gz)(W.setError(String(o.t1)));case 30:case"end":return o.stop()}},k,null,[[0,25]])}var q=(r=(0,o.Z)(c().mark(function e(){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){return setTimeout(e,300)}));case 1:case"end":return e.stop()}},e)})),function(){return r.apply(this,arguments)});function I(e){var n,t,r,l,i,a,o;return c().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return n=Date.now(),s.prev=1,s.next=4,(0,m.cm)();case 4:t=s.sent,r=0;case 6:if(!(r<30)){s.next=26;break}return r++,i=void 0,s.prev=9,s.next=12,(0,h.RE)(t.getCharge,e.payload.fieldValue);case 12:i=s.sent,s.next=17;break;case 15:s.prev=15,s.t0=s.catch(9);case 17:if(!(null!==(l=i)&&void 0!==l&&l.paylink)){s.next=22;break}return a=g(e,i),s.next=21,(0,h.gz)(W.chargeLoaded({charge:i,paymentRequest:a}));case 21:return s.abrupt("return");case 22:return s.next=24,(0,h.RE)(q);case 24:s.next=6;break;case 26:throw o=Math.floor((Date.now()-n)/1e3),Error("Getting charge failed, after ".concat(30," attempts (duration: ").concat(o," seconds)"));case 31:return s.prev=31,s.t1=s.catch(1),(0,x.O7)(s.t1),s.next=36,(0,h.gz)(W.setError(String(s.t1)));case 36:case"end":return s.stop()}},w,null,[[1,31],[9,15]])}function R(e){var n,t,r;return c().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,(0,m.cm)();case 3:return n=l.sent,t=e.payload.fieldValue,l.next=7,(0,h.RE)(n.getCharge,t);case 7:if((r=l.sent).paylink){l.next=13;break}return l.next=11,(0,h.gz)(W.setError("Charge request not found"));case 11:l.next=14;break;case 13:r.paylinkTx&&r.redirectUrl&&g(e,r);case 14:l.next=21;break;case 16:return l.prev=16,l.t0=l.catch(0),(0,x.O7)(l.t0),l.next=21,(0,h.gz)(W.setError(String(l.t0)));case 21:case"end":return l.stop()}},N,null,[[0,16]])}function L(e){var n,t,r,l,i,a;return c().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,(0,m.cm)();case 3:return n=o.sent,t=e.payload.fieldValue,o.next=7,(0,h.RE)(n.getCharge,t);case 7:if((r=o.sent).paylink){o.next=13;break}return o.next=11,(0,h.gz)(W.setError("Charge request not found"));case 11:o.next=19;break;case 13:if(!r.paylinkTx||(i=g(e,r),!((a=null===(l=r.paylinkTx.meta)||void 0===l?void 0:l.transactionStatus)!==u.TransactionStatus.PENDING))){o.next=19;break}return o.next=19,(0,h.gz)(W.chargeLoaded({charge:j(j({},r),{},{paylinkTx:j(j({},r.paylinkTx),{},{meta:j(j({},r.paylinkTx.meta),{},{transactionStatus:a})})}),paymentRequest:i}));case 19:o.next=26;break;case 21:return o.prev=21,o.t0=o.catch(0),(0,x.O7)(o.t0),o.next=26,(0,h.gz)(W.setError(String(o.t0)));case 26:case"end":return o.stop()}},C,null,[[0,21]])}function U(e){var n,t,r,l,i,a,o,s;return c().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,(0,m.cm)();case 3:return n=c.sent,t=e.payload.fieldValue,r=e.payload.tokenConversionService,c.next=8,(0,m.am)();case 8:return l=c.sent,c.next=11,(0,h.RE)(n.getPaylinkByIdPublic,t,l);case 11:if(i=c.sent){c.next=14;break}throw Error("Unable to get paylink ".concat(t));case 14:return a=v.k.transformPaymentRequest(i,!0),e.payload.priceOverride&&r&&(s={symbol:a.pricingCurrency.symbol,decimalAmount:e.payload.priceOverride,blockchain:null===(o=a.pricingCurrency.blockchain)||void 0===o?void 0:o.symbol},a.price=a.pricingCurrency.type===u.CurrencyType.DIGITAL?r.convertToMinimalUnits(s):r.convertToMinimalUnitsWithoutBlockchain(s)),c.next=18,(0,h.gz)(W.paylinkLoaded(a));case 18:c.next=25;break;case 20:return c.prev=20,c.t0=c.catch(0),(0,x.O7)(c.t0),c.next=25,(0,h.gz)(W.setError(String(c.t0)));case 25:case"end":return c.stop()}},T,null,[[0,20]])}function F(e){var n,t,r,l,i;return c().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,(0,m.cm)();case 3:return n=a.sent,a.next=6,(0,m.am)();case 6:return t=a.sent,r=e.payload.fieldValue,a.next=10,(0,h.RE)(n.getPaystreamByIdPublic,r,t);case 10:if(l=a.sent){a.next=13;break}throw Error("Unable to get paystream ".concat(r));case 13:return i=v.k.transformPaymentRequest(l),a.next=16,(0,h.gz)(W.paystreamLoaded(i));case 16:a.next=23;break;case 18:return a.prev=18,a.t0=a.catch(0),(0,x.O7)(a.t0),a.next=23,(0,h.gz)(W.setError(String(a.t0)));case 23:case"end":return a.stop()}},S,null,[[0,18]])}function B(e){var n,t,r,l,i;return c().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,(0,m.cm)();case 3:return n=a.sent,a.next=6,(0,m.am)();case 6:return t=a.sent,r=e.payload.fieldValue,a.next=10,(0,h.RE)(n.getInvoiceByIdPublic,r,t);case 10:return i={id:(l=a.sent).id,owner:{wallets:{items:[l.wallet]},company:l.company},ownerID:l.creator.id,creator:l.creator,content:"",createdAt:l.date,currency:l.currency,maxTransactions:1,name:l.name,price:BigInt(p.q.getInvoiceTotalPrice(l.items,(0,d.Z)(l.taxPercentage||0))),notify:!1,paymentType:f.u.ONETIME,pricingCurrency:l.pricingCurrency,updatedAt:"",userPaymentRequestsId:"",invoiceNumber:l.invoiceNumber,contact:l.contact,date:l.date,dueDate:l.dueDate,items:l.items,recipients:l.recipients,status:l.status,taxPercentage:l.taxPercentage,brandingImageUrl:l.company.logoUrl,type:u.PaymentRequestType.INVOICE},a.next=14,(0,h.gz)(W.invoiceLoaded(i));case 14:a.next=21;break;case 16:return a.prev=16,a.t0=a.catch(0),(0,x.O7)(a.t0),a.next=21,(0,h.gz)(W.setError(String(a.t0)));case 21:case"end":return a.stop()}},D,null,[[0,16]])}function _(e){var n,t,r,l;return c().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,(0,m.cm)();case 3:return n=i.sent,r=(t=e.payload).token,l=t.body,i.next=7,(0,h.RE)(n.updateCharge,r,l);case 7:return i.next=9,(0,h.gz)(W.chargeUpdated());case 9:i.next=16;break;case 11:return i.prev=11,i.t0=i.catch(0),(0,x.O7)(i.t0),i.next=16,(0,h.gz)(W.setUpdateChargeError(String(i.t0)));case 16:case"end":return i.stop()}},E,null,[[0,11]])}function Z(e){var n,t,r,l;return c().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,(0,m.cm)();case 3:return n=i.sent,r=(t=e.payload).token,l=t.body,i.next=7,(0,h.RE)(n.partialUpdateCharge,r,l);case 7:return i.next=9,(0,h.gz)(W.chargeUpdated());case 9:i.next=17;break;case 11:return i.prev=11,i.t0=i.catch(0),x.kg.error("Unable to partially update charge",{error:i.t0,payload:e.payload}),(0,x.O7)(i.t0),i.next=17,(0,h.gz)(W.setUpdateChargeError(String(i.t0)));case 17:case"end":return i.stop()}},P,null,[[0,11]])}function M(){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.Fm)(W.loadPaymentRequestFromCharge.type,I);case 2:return e.next=4,(0,h.Fm)(W.reLoadPaymentRequestFromCharge.type,R);case 4:return e.next=6,(0,h.Fm)(W.reLoadPaymentRequestFromChargeWithTxStatus.type,L);case 6:return e.next=8,(0,h.Fm)(W.loadPaymentRequest.type,O);case 8:return e.next=10,(0,h.Fm)(W.loadPaylink.type,U);case 10:return e.next=12,(0,h.Fm)(W.loadPaystream.type,F);case 12:return e.next=14,(0,h.Fm)(W.loadInvoice.type,B);case 14:return e.next=16,(0,h.Fm)(W.updateCharge.type,_);case 16:return e.next=18,(0,h.Fm)(W.partialUpdateCharge.type,Z);case 18:case"end":return e.stop()}},A)}var H={loading:!1,chargeLoading:!1},z=(0,l.o)({name:"paymentRequest",initialState:H,reducers:{loadPaymentRequest:function(e,n){e.loading=!0,e.paymentRequest=void 0},loadPaymentRequestFromCharge:function(e,n){e.loading=!0},reLoadPaymentRequestFromCharge:function(e,n){},reLoadPaymentRequestFromChargeWithTxStatus:function(e,n){},loadPaylink:function(e,n){e.loading=!0},paylinkLoaded:function(e,n){e.paymentRequest=n.payload,e.paymentRequest||(e.error="No paylink found"),e.loading=!1},chargeLoaded:function(e,n){e.paymentRequest=n.payload.paymentRequest,e.charge=n.payload.charge,e.charge||(e.error="No charge found"),e.loading=!1},loadPaystream:function(e,n){e.loading=!0},paystreamLoaded:function(e,n){e.paymentRequest=n.payload,e.paymentRequest||(e.error="No paystream found"),e.loading=!1},loadInvoice:function(e,n){e.loading=!0},invoiceLoaded:function(e,n){e.paymentRequest=n.payload,e.loading=!1},updateCharge:function(e,n){e.chargeLoading=!0},partialUpdateCharge:function(e,n){e.chargeLoading=!0},chargeUpdated:function(e){e.chargeLoading=!0},setUpdateChargeError:function(e,n){e.updateChargeError=n.payload,e.chargeLoading=!1},setError:function(e,n){e.error=n.payload,e.loading=!1}}}),W=z.actions,V=function(){return(0,i.v)({key:z.name,reducer:z.reducer}),(0,i.h)({key:z.name,saga:M}),{actions:z.actions}}},95503:function(e,n,t){t.d(n,{KK:function(){return h},NH:function(){return o},gd:function(){return m},hW:function(){return c},qx:function(){return d},re:function(){return s},z5:function(){return a},zh:function(){return u}});var r=t(60985),l=t(49759),i=function(e){return(null==e?void 0:e.paymentRequest)||l.E3},a=(0,r.P1)([i],function(e){return e.chargeLoading}),o=(0,r.P1)([i],function(e){return e.loading}),s=(0,r.P1)([i],function(e){var n;return null===(n=e.charge)||void 0===n?void 0:n.token}),c=(0,r.P1)([i],function(e){return e.charge}),u=(0,r.P1)([i],function(e){return e.error}),d=(0,r.P1)([i],function(e){return e.paymentRequest}),h=(0,r.P1)([i],function(e){var n;return!!(null!==(n=e.paymentRequest)&&void 0!==n&&n.kycVerified)}),m=(0,r.P1)([i],function(e){var n,t;return!!(null!==(n=e.paymentRequest)&&void 0!==n&&n.kycVerified)||!!(null!==(t=e.paymentRequest)&&void 0!==t&&t.kybVerified)})},92732:function(e,n,t){t.d(n,{E3:function(){return i},mV:function(){return o}});var r=t(68913),l=t(64006),i={},a=(0,r.o)({name:"checkoutSearchParams",initialState:i,reducers:{searchParamsParsed:function(e,n){e.checkoutSearchParams=n.payload}}});a.actions;var o=function(){return(0,l.v)({key:a.name,reducer:a.reducer}),{actions:a.actions}}},27616:function(e,n,t){t.d(n,{uJ:function(){return P},E3:function(){return D},cj:function(){return A}});var r,l=t(68913),i=t(64006),a=t(52746),o=t(82841),s=t.n(o),c=t(10856),u=t(20608),d=t(5272),h=t(14757),m=t(19674),f=t(82495),p=t(16480),v=t(20406),x=t(44827),y=t(73485),g=t(241),b=(r=(0,v.Z)(s().mark(function e(n,t){var r,l;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(r=(0,g.i)(n.rpcEndpoint)).use((0,x.mplTokenMetadata)()),e.next=5,(0,x.fetchDigitalAsset)(r,(0,y.ZL)(t));case 5:if("Some"!==(l=e.sent).metadata.collection.__option){e.next=10;break}return e.next=9,(0,x.fetchDigitalAsset)(r,l.metadata.collection.value.key);case 9:return e.abrupt("return",e.sent.metadata.name);case 10:return e.abrupt("return",l.metadata.name);case 13:return e.prev=13,e.t0=e.catch(0),(0,p.O7)(e.t0),e.abrupt("return","");case 17:case"end":return e.stop()}},e,null,[[0,13]])})),function(e,n){return r.apply(this,arguments)});function j(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var k=s().mark(C),w=s().mark(T),N=s().mark(S);function C(e){var n,t,r,l,i,a,o;return s().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,(0,h.cm)();case 3:if(t=s.sent,l=(r=e.payload).paymentDataId,!(i=r.discountToken)){s.next=15;break}return o=2*m.vL,s.next=9,(0,d.gw)(o);case 9:return s.next=11,(0,u.RE)(t.getDiscountCode,l,i);case 11:if(a=s.sent){s.next=15;break}return s.next=15,(0,u.gz)(P.setError(String("Invalid discount code")));case 15:return s.next=17,(0,u.gz)(P.discountDataLoaded(null!==(n=a)&&void 0!==n?n:void 0));case 17:s.next=24;break;case 19:return s.prev=19,s.t0=s.catch(0),(0,p.O7)(s.t0),s.next=24,(0,u.gz)(P.setError(String("Error getting discount rate, please try again")));case 24:case"end":return s.stop()}},k,null,[[0,19]])}function T(e){var n,t,r,l,i,o,d,m,v,x,y,g,k,N,C,T;return s().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(t=(n=e.payload).discountData,r=n.publicKeyString,null!=t&&t.length){s.next=7;break}return s.next=4,(0,u.gz)(P.discountDataLoaded(void 0));case 4:return s.next=6,(0,u.gz)(P.nftLoaded(void 0));case 6:return s.abrupt("return");case 7:return s.prev=7,s.next=10,(0,h.Tj)();case 10:return l=s.sent,s.next=13,(0,h.cm)();case 13:if(i=s.sent,r){s.next=16;break}throw Error("getDiscountToken: No public key provided");case 16:o=[],d=function(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return j(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return j(e,void 0)}}(e))){t&&(e=t);var r=0,l=function(){};return{s:l,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:l}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,o=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){o=!0,i=e},f:function(){try{a||null==t.return||t.return()}finally{if(o)throw i}}}}(t),s.prev=18,d.s();case 20:if((m=d.n()).done){s.next=36;break}return v=m.value,s.prev=22,y=new c.nh(r),g=new c.nh(null!==(x=null==v?void 0:v.token)&&void 0!==x?x:""),s.next=27,f._.confirmUserContainsNft({customerPublicKey:y,merchantTokenAddress:g,connection:l});case 27:s.sent&&o.push(v),s.next=34;break;case 31:s.prev=31,s.t0=s.catch(22),(0,p.O7)(s.t0);case 34:s.next=20;break;case 36:s.next=41;break;case 38:s.prev=38,s.t1=s.catch(18),d.e(s.t1);case 41:return s.prev=41,d.f(),s.finish(41);case 44:var w;if(!(null!=(k=null!=(w=o.length?o:(0,a.Z)(t))&&w.length?w.sort(function(e,n){return n.percent-e.percent})[0]:null)&&k.token&&r)){s.next=63;break}return s.next=48,(0,u.gz)(P.discountPercentLoaded(k.percent));case 48:return s.next=50,(0,u.RE)(i.checkNFT,r,String(k.token));case 50:return N=s.sent,s.next=53,(0,h.Tj)();case 53:return C=s.sent,s.next=56,(0,u.RE)(b,C,String(k.token));case 56:return T=s.sent,s.next=59,(0,u.gz)(P.discountDataLoaded(N?k:void 0));case 59:return s.next=61,(0,u.gz)(P.nftLoaded({name:T,hasNFT:N}));case 61:s.next=67;break;case 63:return s.next=65,(0,u.gz)(P.discountDataLoaded(void 0));case 65:return s.next=67,(0,u.gz)(P.nftLoaded(void 0));case 67:s.next=74;break;case 69:return s.prev=69,s.t2=s.catch(7),(0,p.O7)(s.t2),s.next=74,(0,u.gz)(P.setError("Unfortunately you don't hold the correct NFT"));case 74:case"end":return s.stop()}},w,null,[[7,69],[18,38,41,44],[22,31]])}function S(){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.Fm)(P.loadDiscountCode.type,C);case 2:return e.next=4,(0,u.Fm)(P.loadDiscountToken.type,T);case 4:case"end":return e.stop()}},N)}var D={loading:!1},E=(0,l.o)({name:"discountManager",initialState:D,reducers:{loadDiscountCode:function(e,n){e.loading=!0},loadDiscountToken:function(e,n){e.loading=!0},discountDataLoaded:function(e,n){e.discountData=n.payload,e.loading=!1},nftLoaded:function(e,n){e.nft=n.payload,e.loading=!1},discountPercentLoaded:function(e,n){e.loading=!0,e.discountPercent=n.payload},setDiscountData:function(e,n){e.discountData=n.payload},setError:function(e,n){e.loading=!1,e.error=n.payload}}}),P=E.actions,A=function(){return(0,i.v)({key:E.name,reducer:E.reducer}),(0,i.h)({key:E.name,saga:S}),{actions:E.actions}}},14546:function(e,n,t){t.d(n,{BT:function(){return a},WD:function(){return s},kJ:function(){return c},mH:function(){return o},zh:function(){return u}});var r=t(60985),l=t(27616),i=function(e){return(null==e?void 0:e.discountManager)||l.E3},a=(0,r.P1)([i],function(e){return e.discountData}),o=(0,r.P1)([i],function(e){return e.discountPercent}),s=(0,r.P1)([i],function(e){return e.nft}),c=(0,r.P1)([i],function(e){return e.loading}),u=(0,r.P1)([i],function(e){return e.error})},61347:function(e,n,t){t.d(n,{E3:function(){return g},bg:function(){return j},JK:function(){return k}});var r=t(68913),l=t(64006),i=t(82841),a=t.n(i),o=t(22219),s=t(23669),c=t(20608),u=t(14757),d=t(46275),h=t(16480),m=a().mark(v),f=a().mark(x),p=a().mark(y);function v(e){var n,t,r,l,i,o,f,p,v,x,y,g,b,k,w,N,C;return a().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=(n=e.payload).fromMint,r=n.paymentRequestId,l=n.paymentRequestType,i=n.toMint,o=n.quantity,f=n.minimalUnitAmount,p=n.currencies,v=n.discountToken,x=n.sender,a.next=4,(0,u.cm)();case 4:return y=a.sent,g=new d.ie(p),a.next=8,(0,c.RE)(y.getTokenSwapQuote,r,l,t,x,i,o,f,v);case 8:if(b=a.sent.routeToken,w=JSON.parse((k=(0,s.Z)(b)).route),N=g.getCurrencyByMint(k.to),C=g.getCurrencyByMint(k.from),!(!N||!C)){a.next=16;break}throw Error("Currency not found");case 16:return a.next=18,(0,c.gz)(j.tokenSwapQuoteLoaded({paymentRequestId:k.prid,routeTokenString:b,from:C,to:N,slippageBps:w.slippageBps,priceImpactPct:w.priceImpactPct,inAmount:w.inAmount,outAmount:w.outAmount,amount:w.amount}));case 18:a.next=25;break;case 20:return a.prev=20,a.t0=a.catch(0),(0,h.O7)(a.t0),a.next=25,(0,c.gz)(j.setError(String(a.t0)));case 25:case"end":return a.stop()}},m,null,[[0,20]])}function x(e){var n,t,r,l,i,s,m,p;return a().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=(n=e.payload).mintAddress,r=n.currencies,a.next=4,(0,u.cm)();case 4:return l=a.sent,i=new d.ie(r),s=t==o.SOL_MINT?o.WRAPPED_SOL_MINT:t,a.next=9,(0,c.RE)(l.getTokenSwapCurrencies,s);case 9:if(m=a.sent.map(function(e){return i.getCurrencyByMint(e)}).filter(function(e){return void 0!==e}),!(p=i.getCurrencyBySymbolAndOptionalBlockchain({symbol:d.om.getSolCurrencySymbol(),blockchain:o.BlockchainSymbol.SOL}))){a.next=16;break}m.unshift(p),a.next=17;break;case 16:throw Error("Solana currency not found");case 17:return m.sort(function(e,n){return e.order>n.order?1:-1}),a.next=20,(0,c.gz)(j.tokenSwapCurrenciesLoaded(m));case 20:a.next=27;break;case 22:return a.prev=22,a.t0=a.catch(0),(0,h.O7)(a.t0),a.next=27,(0,c.gz)(j.setError(String(a.t0)));case 27:case"end":return a.stop()}},f,null,[[0,22]])}function y(){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.Fm)(j.loadTokenSwapQuote.type,v);case 2:return e.next=4,(0,c.Fm)(j.loadTokenSwapCurrencies.type,x);case 4:case"end":return e.stop()}},p)}var g={loading:!1,tokenSwapQuote:void 0},b=(0,r.o)({name:"tokenSwapsManager",initialState:g,reducers:{loadTokenSwapQuote:function(e,n){e.loading=!0,e.tokenSwapError=void 0},tokenSwapQuoteLoaded:function(e,n){e.loading=!1,e.tokenSwapQuote=n.payload},loadTokenSwapCurrencies:function(e,n){e.loading=!0,e.tokenSwapError=void 0},tokenSwapCurrenciesLoaded:function(e,n){e.loading=!1,e.tokenSwapCurrencies=n.payload},setError:function(e,n){e.loading=!1,e.tokenSwapError=n.payload},resetTokenSwapQuote:function(e){e.loading=!1,e.tokenSwapQuote=void 0,e.tokenSwapError=void 0}}}),j=b.actions,k=function(){return(0,l.v)({key:b.name,reducer:b.reducer}),(0,l.h)({key:b.name,saga:y}),{actions:b.actions}}},50975:function(e,n,t){t.d(n,{Ae:function(){return s},Fr:function(){return o},_S:function(){return a},es:function(){return c}});var r=t(60985),l=t(61347),i=function(e){return(null==e?void 0:e.tokenSwapsManager)||l.E3};(0,r.P1)([i],function(e){return e});var a=(0,r.P1)([i],function(e){return e.loading}),o=(0,r.P1)([i],function(e){return e.tokenSwapError}),s=(0,r.P1)([i],function(e){return e.tokenSwapQuote}),c=(0,r.P1)([i],function(e){return e.tokenSwapCurrencies||[]})}}]);