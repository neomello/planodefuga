!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="5031b22a-91f6-4b2a-bb6b-df8170a15415",e._sentryDebugIdIdentifier="sentry-dbid-5031b22a-91f6-4b2a-bb6b-df8170a15415")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5585],{16831:function(e,n,t){t.d(n,{N:function(){return C},o:function(){return S}});var r=t(95235),l=t(6277),o=t(2784),i=t(27853),a=t(83149),c=t(24194),u=t(20406),s=t(82841),d=t.n(s),h=function(){return(0,i.Z)("hel-flex helio-text-primary hel-items-center hel-text-sm hover:hel-text-hoverorange focus-visible:hel-outline-none helio-background-secondary@hover hel-w-full hel-p-3 hel-rounded-lg")},m=t(68277),f=t(16480),p=t(10312),y=t(52322),v=function(){var e,n=(0,a.$)(),t=n.onConnect,r=n.web3AuthSocialLogin,l=(e=(0,u.Z)(d().mark(function e(){return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r(p.uq.EMAIL);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),(0,f.O7)(e.t0);case 8:case"end":return e.stop()}},e,null,[[0,5]])})),function(){return e.apply(this,arguments)});return(0,y.jsxs)("div",{className:"hel-w-[142px]",children:[(0,y.jsxs)("button",{className:h(),onClick:function(){t({doAuthenticate:!0,withEmailAndGoogle:!1,withExternalWallet:!0})},children:[(0,y.jsx)(m.J,{iconName:"WalletFilled"}),(0,y.jsx)("div",{className:"hel-pl-2",children:"Web3 wallet"})]}),(0,y.jsxs)("button",{className:h(),onClick:l,children:[(0,y.jsx)(m.J,{iconName:"EmailFilled",className:"hel-fill"}),(0,y.jsx)("div",{className:"hel-pl-2",children:"Email"})]})]})},b=function(e){var n=e.opened;return(0,y.jsxs)("button",{className:"hover:hel-bg-hoverorange hel-flex hel-w-11 hel-absolute hel-h-11 hel-rounded-lg hel-items-center hel-justify-center hel-right-0 hel-top-0",children:[(0,y.jsx)("div",{className:"hel-bg-hoverorange hel-w-[1px] hel-absolute hel-h-7 hel-rounded-2xl hel-left-0"}),(0,y.jsx)(m.J,{iconName:void 0!==n&&n?"ChevronUp":"ChevronDown",className:"hel-flex hel-items-center hel-justify-center"})]})},x=t(80091),g=t(24681),w=t(33381),j=t(35282);function k(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function N(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?k(Object(t),!0).forEach(function(n){(0,r.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):k(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var S=function(e){var n=e.doAuthenticate,t=e.specificEVMBlockchain,r=e.isAddWallet,l=e.onConnect,o=e.onAddWallet,i=e.allowedBlockchainEngines,a=e.withEmailAndGoogle,c=e.withExternalWallet,u=e.isCheckout,s=e.connectWithChargeResult,d={doAuthenticate:void 0===n||n,blockchainEngines:i||[],specificEVMBlockchain:t,withEmailAndGoogle:a,withExternalWallet:c,isCheckout:void 0!==u&&u};void 0!==r&&r?o(d):l(N(N({},d),{},{connectWithChargeResult:s}))},C=function(e){var n=e.specificEVMBlockchain,t=e.onError,r=e.isResponsive,u=void 0===r||r,s=e.doAuthenticate,d=void 0===s||s,h=e.allowedBlockchainEngines,p=e.isAddWallet,k=void 0!==p&&p,N=e.buttonTitle,C=void 0===N?"":N,O=e.iconName,A=void 0===O?"":O,E=e.withPopover,P=void 0!==E&&E,T=e.withEmailAndGoogle,I=e.withExternalWallet,U=e.isCheckout,D=void 0!==U&&U,M=e.buttonClassName,B=e.connectWithChargeResult,Z=e.variant,K=void 0===Z?j.W.primary:Z,L=e.isDropShadow;if(!T&&!I)throw Error("ConnectButton: at least one of the following props must be true: withEmailAndGoogle, withExternalWallet");var _=(0,a.$)(),R=_.onConnect,W=_.loading,F=_.setErrorHandler,H=_.onAddWallet,V=(0,a.v)(),J=(0,c.X)().isMobile,G=(0,o.useState)(),Y=G[0],z=G[1];(0,o.useEffect)(function(){F&&F(function(e){t&&t(e),(0,f.O7)(e)})},[t,F]);var q=function(){return k?C:C||"Sign in"};return(0,y.jsxs)("div",{className:"hel-relative",children:[(0,y.jsx)("label",{onClick:function(){S({doAuthenticate:d,connectWithChargeResult:B,specificEVMBlockchain:n,isAddWallet:k,onConnect:R,onAddWallet:H,allowedBlockchainEngines:h,withEmailAndGoogle:T,withExternalWallet:I,isCheckout:D})},className:"hel-block",children:(0,y.jsx)(j.z,{className:(0,i.Z)("hel-h-12",u?"hel-px-4 hel-w-12 md:hel-h-auto md:hel-w-full":"hel-w-full",M),isDropShadow:void 0===L||L,"data-testid":w.H.checkoutForm.connectWalletButton,isLoading:V,showLoadingMessage:V,variant:K,children:V?(0,y.jsx)(y.Fragment,{children:g.ix}):u?(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(y.Fragment,{children:A?(0,y.jsxs)("div",{className:"hel-flex hel-flex-row hel-items-center hel-justify-between hel-gap-x-2 hel-uppercase",children:[A&&(0,y.jsx)(m.J,{iconName:A,className:"hel-h-4 hel-w-4"}),(0,y.jsx)("span",{className:"hel-rounded-full md:hel-inline hel-hidden",children:q()})]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("span",{className:(0,l.default)("hel-rounded-full md:hel-inline hel-hidden",P&&"hel-pr-0 lg:hel-pr-10"),children:q()}),(0,y.jsx)(m.J,{iconName:"Wallet",className:"child-svg-full-size md:hel-hidden hel-block hel-fill-white"})]})})}):(0,y.jsx)("span",{className:"hel-rounded-full",children:q()})})}),P&&!J&&!W&&(0,y.jsx)(x.J,{popoverClassName:"hel-p-1 hel-mt-2",eventType:"hover",onClose:function(){return z(!1)},onOpen:function(){return z(!0)},position:"bottom right",Trigger:function(){return(0,y.jsx)(b,{opened:Y})},Content:v})]})}},168:function(e,n,t){t.d(n,{e:function(){return f},i:function(){return m}});var r,l=t(20406),o=t(82841),i=t.n(o),a=t(22219),c=t(76820),u=t.n(c),s=t(31064),d=t(67583),h=t(16480),m=function(e){return e===a.GeneralNetwork.MAINNET?"PRODUCTION":"STAGING"},f=(r=(0,l.Z)(i().mark(function e(n){var t,r,l,o,a,c,f,p,y,v,b;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=n.onFinish,r=n.publicKey,l=n.isMobile,o=n.theme,a=n.currency,c=n.connection,f=n.network,p=n.decimalAmount,y=n.email,v={apiKey:(0,d.di)(f),environment:m(f),cryptoCurrencyCode:a.symbol,defaultCryptoCurrency:a.symbol,themeColor:o.colors.backgroundPrimary,hostURL:window.location.origin,widgetHeight:l?"600px":"750px",widgetWidth:l?"300px":"500px",exchangeScreenTitle:"Add funds",hideMenu:!0,isFeeCalculationHidden:!1,productsAvailed:"BUY",walletAddress:null==r?void 0:r.toString(),defaultCryptoAmount:p,network:"solana",disableWalletAddressForm:!0,defaultPaymentMethod:"credit_debit_card",disablePaymentMethods:"gbp_bank_transfer, sepa_bank_transfer",email:(0,s.B)(y)},(b=new(u())(v)).init(),b.on(b.EVENTS.TRANSAK_ORDER_CREATED,function(){if(!r||!a||!c){(0,h.O7)(Error("Missing publicKey or currency or connection for Transak"),JSON.stringify({publicKey:r,currency:!!a,connection:!!c}));return}t()}),b.on(b.EVENTS.TRANSAK_WIDGET_CLOSE,function(){if(!r||!a||!c){(0,h.O7)(Error("Missing publicKey or currency or connection for Transak"),JSON.stringify({publicKey:r,currency:!!a,connection:!!c}));return}b.close()});case 6:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)})},2283:function(e,n,t){t.d(n,{wQ:function(){return eA}});var r,l,o,i=t(95235),a=t(82269),c=t(94449),u=t(16017),s=t(22219),d=t(72558),h=t(2784),m=t(27853),f=t(79012),p=t(34015),y=t(72714),v=t(20603),b=t(10312),x=t(21809),g=t(78738),w=t(35483),j=[{value:"creditcard",name:"Credit card",description:"Use your Mastercard or Visa card and buy instantly",icon:"PaymentCard",recommendations:[{title:"Instant",icon:"Bolt"},{title:"Most popular",icon:"Star",backgroundColor:"helio-background-primary"}]},{value:"debitcard",name:"Debit card",description:"Use your Mastercard or Visa card and buy instantly",icon:"PaymentCard",recommendations:[{title:"Instant",icon:"Bolt"},{title:"Most popular",icon:"Star",backgroundColor:"helio-background-primary"}]},{value:"paypal",name:"PayPal",description:"Use your PayPal account to buy",icon:"PayPal",recommendations:[{title:"Instant",icon:"Bolt"}]},{value:"applepay",name:"Apple Pay",description:"Use your Apple Pay to pay instantly",icon:"Apple",recommendations:[{title:"Instant",icon:"Bolt"}]},{value:"googlepay",name:"Google Pay",description:"Use your Google Pay to pay instantly",icon:"Google",recommendations:[{title:"Instant",icon:"Bolt"}]},{value:"venmo",name:"Venmo",description:"Use your Venmo account to pay now",icon:"Venmo",recommendations:[{title:"Instant",icon:"Bolt"}],backgroundColor:"hel-bg-[#008CFF]"}],k=t(17831),N=t(44720),S=t(82456),C=t(54623),O=t(68277),A=t(71787),E=t(52322),P=function(e){var n=e.onHide;return(0,E.jsx)(A.u,{title:"Payment not completed",onHide:n,children:(0,E.jsxs)("div",{className:"hel-flex hel-items-center hel-gap-4",children:[(0,E.jsx)("div",{className:"hel-flex hel-items-center hel-justify-center helio-background-warning hel-rounded-full hel-w-10 hel-h-10 hel-shrink-0",children:(0,E.jsx)(O.J,{iconName:"WarningTriangle",className:"hel-h-6 hel-w-6"})}),(0,E.jsxs)("p",{className:"hel-text-sm",children:["We weren't able to complete your payment through our on-ramp partner. Please try again or"," ",(0,E.jsx)("a",{className:"helio-text-primary hel-underline",href:"mailto:hi@hel.io",target:"_blank",rel:"noreferrer",children:"contact support for help."})]})]})})},T=function(e){var n=e.transactionId,t=e.redirectUrl,r=e.onHide,l=e.currency,o=e.decimalAmount,i=(0,c.I0)(),a=(0,k.R)().connection,u=(0,N.O)().publicKey,s=(0,g.K5)(n,{pollingInterval:1e3}).data,m=(0,C.Cy)().actions,f=(0,S.lD)().actions,p=(0,c.v9)(w.H5),v=(0,h.useState)(!1),b=v[0],x=v[1];return((0,h.useEffect)(function(){var e=setInterval(function(){var e;i(f.loadAvailableSolanaBalances({publicKey:null!==(e=null==u?void 0:u.toBase58())&&void 0!==e?e:"",connection:a,currencies:l?[l]:[],shouldShowLoading:!1}))},1e3);return function(){return clearInterval(e)}},[l,i,f,u,a]),(0,h.useEffect)(function(){var e,n=null==p?void 0:p.find(function(e){return e.tokenSymbol===(null==l?void 0:l.symbol)});(0,d.Z)(null!==(e=null==n?void 0:n.value)&&void 0!==e?e:0).gte(o)&&(i(m.setIsPaymentSuccessful(!0)),r())},[p,m,i,l,r,o]),(0,h.useEffect)(function(){(null==s?void 0:s.status)==="completed"&&(i(m.setIsPaymentSuccessful(!0)),r()),((null==s?void 0:s.status)==="failed"||(null==s?void 0:s.status)==="canceled")&&x(!0)},[s,r,m,i]),b)?(0,E.jsx)(P,{onHide:r}):(0,E.jsx)(A.u,{title:"Waiting for confirmation",onHide:r,children:(0,E.jsxs)("div",{className:"hel-flex hel-items-center hel-gap-4",children:[(0,E.jsx)(y.$,{className:"hel-h-8 hel-w-8 hel-shrink-0"}),(0,E.jsxs)("p",{className:"hel-text-sm",children:["You've been redirected to a"," ",(0,E.jsx)("a",{className:"helio-text-primary hel-underline",href:t,target:"_blank",rel:"noreferrer",children:"trusted partner"})," ","to complete your payment. Please return to this page once the transaction is complete."]})]})})},I=function(e){var n=e.onrampTransactionData,t=e.onHide,r=e.currency,l=e.decimalAmount;return"iframe"===n.redirectType?(0,E.jsx)(A.u,{title:"Finish adding funds",onHide:t,children:(0,E.jsx)("iframe",{src:n.redirectUrl,className:"hel-w-full hel-min-h-[600px]"})}):"popup"===n.redirectType?(0,E.jsx)(T,{transactionId:n.transactionId,redirectUrl:n.redirectUrl,onHide:t,currency:r,decimalAmount:l}):(0,E.jsx)(E.Fragment,{})},U=t(65119),D=t(35282),M=t(89346),B=function(e){var n,t=e.transactionData,r=e.onHide,l=e.setIsRedirected,o=(0,U.U)().currencies.find(function(e){return e.symbol===t.source.toUpperCase()});return(0,E.jsxs)(A.u,{title:"Pay with ".concat(t.source.toUpperCase()),onHide:r,iconUrl:"".concat((0,M.WK)(),"/").concat(t.source.toUpperCase(),".svg"),titleClassname:"hel-justify-start",children:[(0,E.jsx)("div",{className:"helio-background-secondary hel-p-4 hel-rounded-lg hel-mb-4",children:(0,E.jsxs)("p",{className:"hel-text-sm helio-text-price-banner",children:["Total amount:"," ",(0,E.jsxs)("span",{className:"hel-font-bold",children:[null!==(n=null==o?void 0:o.symbolPrefix)&&void 0!==n?n:"",t.amount," ",t.source.toUpperCase()]})]})}),(0,E.jsx)("a",{href:t.redirectUrl,target:"_blank",rel:"noreferrer",children:(0,E.jsx)(D.z,{className:"hel-w-full",onClick:function(){l(!0)},children:"CONTINUE"})})]})},Z=function(e){var n,t,r,l=e.initialCurrency,o=e.decimalAmount,i=e.onHide,a=e.publicKey,k=e.supportedCurrencies,N=(0,x.Fg)().isDarkMode,S=(0,b.g_)().imageComponent,C=(0,c.v9)(u.LJ),P=(0,c.v9)(u.Ft),T=(0,c.v9)(w.H5),U=(0,h.useState)(),D=U[0],M=U[1],Z=(0,h.useState)(!1),K=Z[0],L=Z[1],_=v.StaticCurrencyService.getDefaultOnrampCurrency(null!=k?k:[l]),R=null==T||null===(n=T.find(function(e){return e.tokenSymbol===_}))||void 0===n?void 0:n.value,W=(0,g.k1)({amount:null!==(t=null==o?void 0:o.minus(null!=R?R:"0").toString())&&void 0!==t?t:"",currency:_,blockchain:s.BlockchainSymbol.SOL,walletAddress:a,paymentMethod:null!=D?D:"",isDark:N},{skip:!D||!l}),F=W.data,H=W.isLoading,V=W.error;(0,h.useEffect)(function(){V&&(0,f.Jc)("This payment method is not available right now, please choose another")},[V]);var J=C.map(function(e){return e.id}),G=j.filter(function(e){return J.includes(e.value)}),Y=C.filter(function(e){return!j.some(function(n){return n.value===e.id})}).slice(0,3).map(function(e){return{value:e.id,name:e.name,description:"Use ".concat(e.name," to add funds"),icon:"Bolt",externalIcon:e.icon,recommendations:[],backgroundColor:"helio-background-primary"}}),z=function(e){M(e)};return F?K||"popup"!==F.redirectType?(0,E.jsx)(I,{onrampTransactionData:F,onHide:i,currency:null!==(r=null==k?void 0:k.find(function(e){return e.symbol===_}))&&void 0!==r?r:l,decimalAmount:null!=o?o:(0,d.Z)(0)}):(0,E.jsx)(B,{transactionData:F,onHide:i,setIsRedirected:L}):(0,E.jsx)(A.u,{title:H?"Redirecting":"Select payment method",onHide:i,children:P||H?(0,E.jsx)("div",{className:"hel-flex hel-items-center hel-justify-center hel-p-4",children:(0,E.jsx)(y.$,{})}):(0,E.jsx)("div",{className:"hel-flex hel-flex-col hel-gap-4",children:G.concat(Y).map(function(e){return(0,E.jsxs)("div",{className:"helio-background-secondary hel-cursor-pointer hel-flex hel-gap-2 hel-rounded-lg hel-p-3",onClick:function(){return z(e.value)},tabIndex:0,onKeyDown:function(n){return(0,p.S)(n,function(){return z(e.value)})},children:[(0,E.jsx)("div",{className:(0,m.Z)("hel-flex hel-h-10 hel-w-10 hel-items-center hel-justify-center hel-rounded-full hel-shrink-0",e.backgroundColor&&!e.externalIcon?e.backgroundColor:"hel-bg-white"),children:e.externalIcon?(0,E.jsx)(S,{src:e.externalIcon,alt:e.name,className:"hel-h-7 hel-w-7",width:28,height:28}):(0,E.jsx)(O.J,{iconName:e.icon,className:(0,m.Z)("hel-h-7 hel-w-7","Bolt"===e.icon?"hel-fill-white":"helio-fill-primary")})}),(0,E.jsxs)("div",{className:"hel-flex hel-flex-col hel-gap-1 hel-w-full",children:[(0,E.jsx)("h4",{className:"hel-text-sm ",children:e.name}),(0,E.jsx)("p",{className:"hel-text-sm hel-text-helio-secondary",children:e.description}),(0,E.jsx)("div",{className:"hel-flex hel-flex-row hel-gap-1",children:e.recommendations.map(function(e){return(0,E.jsxs)("div",{className:(0,m.Z)("hel-flex hel-flex-row hel-items-center hel-gap-1 hel-rounded-full hel-text-white hel-p-1",e.backgroundColor?e.backgroundColor:"helio-background-alternative"),children:[(0,E.jsx)(O.J,{iconName:e.icon,className:"hel-h-4 hel-w-4 hel-fill-white"}),(0,E.jsx)("p",{className:"hel-text-sm hel-mr-1 hel-text-xs hel-font-bold",children:e.title})]},e.title)})})]}),(0,E.jsx)("div",{className:"hel-flex hel-items-center hel-justify-center hel-mr-1",children:(0,E.jsx)(O.J,{iconName:"ArrowRightStroke",className:"hel-h-4 hel-w-4 hel-fill-primary"})})]},e.name)})})})},K=t(20406),L=t(82841),_=t.n(L),R=t(72467),W=t(24194),F=t(29952),H=t(98843),V=t(52746),J=t(64494),G=t(94610),Y=t(49243),z=t(15766),q=t(10718),Q=t(16480),$=t(33381),X=((r={}).TRANSAK="Transak",r.UNLIMIT="Unlimit",r.MOONPAY="MoonPay",r),ee=t(84110),en=t(11817),et=t(10906),er=t(67583),el=t(53775),eo=t(31064),ei=t(33939),ea={USDC:"usdc_sol",USDT:"usdt_sol",SOL:"sol"},ec=(0,eo.j)(Object.keys(ea)),eu={SOL:.11,USDC:15,USDT:15},es=(0,i.Z)({},ei.NQ.SOL,5),ed=(0,h.lazy)(function(){return t.e(7606).then(t.bind(t,38)).then(function(e){return{default:e.MoonPayProvider}})}),eh=(0,h.lazy)(function(){return t.e(7606).then(t.bind(t,38)).then(function(e){return{default:e.MoonPayBuyWidget}})}),em=(0,h.memo)(function(e){var n,t,r=e.currency,l=e.onHide,o=e.decimalAmount,i=e.publicKey,a=e.setWaitingForConfirmation,c=e.theme,u=(0,et.Oo)().apiServiceV1,d=(0,R.Eu)(),m=d.payload,p=d.token,y=null!=m?m:{},v=y.email,x=y.id,g=(0,h.useState)(!0),w=g[0],j=g[1],k=(0,b.g_)().network===s.GeneralNetwork.MAINNET?(0,er.v5)():(0,er.lj)(),N=Object.keys(ea).includes(r.symbol)&&r.blockchain.symbol===s.BlockchainSymbol.SOL,S=ea[r.symbol];(0,h.useEffect)(function(){w||l()},[w,l]),(0,h.useEffect)(function(){!N&&((0,f.Jc)("Unsupported currency. Please select ".concat(ec),{id:ee.w.INVALID_MOONPAY_CURRENCY}),j(!1))},[N,r.symbol]);var C=Math.max(o,eu[r.symbol]),O=null!==(t=es[r.symbol])&&void 0!==t?t:2,A=(0,en.T)(C,O).toString();return N&&p?(0,E.jsx)(h.Suspense,{fallback:(0,E.jsx)(E.Fragment,{}),children:(0,E.jsx)(ed,{apiKey:k,children:(0,E.jsx)(eh,{variant:"overlay",visible:w,defaultCurrencyCode:S,quoteCurrencyAmount:A,onUrlSignatureRequested:(n=(0,K.Z)(_().mark(function e(n){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.moonpayUrlSignature(n,p);case 2:return e.abrupt("return",e.sent.signature);case 3:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}),onCloseOverlay:function(){j(!1)},onTransactionCompleted:(0,K.Z)(_().mark(function e(){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a(!0),j(!1);case 2:case"end":return e.stop()}},e)})),onUnsupportedRegion:(0,K.Z)(_().mark(function e(){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(0,Q.O7)(Error("Unsupported moonpay region"));case 1:case"end":return e.stop()}},e)})),walletAddress:i,colorCode:c.colors.buttonPrimary,theme:c.themeMode===el.hY.DARK?"dark":"light",email:v,externalCustomerId:x})})}):null}),ef=t(168),ep=t(9157),ey=(l=(0,K.Z)(_().mark(function e(n){var t,r,l,o,i,a,c;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=n.amount,l=n.currency,o=n.publicKey,i=n.unlimitOverlayInstance,a=n.onHide,null===(t=i.current)||void 0===t||t.destroy(),c="USDC_SOL",(null==l?void 0:l.symbol)==="SOL"&&(c="SOL"),i.current=new ep.GateFiSDK({merchantId:(0,er.tP)(),displayMode:ep.GateFiDisplayModeEnum.Overlay,walletAddress:o,availableCrypto:["USDC_SOL","SOL"],defaultCrypto:{currency:c,amount:r},walletLock:!0}),i.current.subscribe(ep.GateFiEventTypes.onClose,function(){if(!o||!l){(0,Q.O7)(Error("Missing publicKey or currency for Unlimit"),JSON.stringify({publicKey:o,currency:!!l}));return}null==a||a()});case 6:case"end":return e.stop()}},e)})),function(e){return l.apply(this,arguments)}),ev=(o={},(0,i.Z)(o,X.TRANSAK,function(e){var n=e.connection,t=e.currency,r=e.decimalAmount,l=e.isMobile,o=e.network,i=e.onHide,a=e.payload,c=e.publicKey,u=e.setWaitingForConfirmation,s=e.theme,d=(0,h.useRef)(!1);return(0,h.useEffect)(function(){d.current||(d.current=!0,(0,ef.e)({decimalAmount:r,network:o,currency:t,theme:s,isMobile:l,connection:n,email:null==a?void 0:a.email,onFinish:function(){u(!0),i()},publicKey:c}).catch(function(e){return(0,Q.O7)(e)}))},[]),null}),(0,i.Z)(o,X.UNLIMIT,function(e){var n=(0,h.useRef)();return(0,h.useEffect)(function(){return ey({amount:e.decimalAmount.toString(),currency:e.currency,publicKey:e.publicKey,unlimitOverlayInstance:n,onHide:e.onHide}).catch(function(e){(0,Q.O7)(e)}),function(){var e;null===(e=n.current)||void 0===e||e.destroy()}},[]),null}),(0,i.Z)(o,X.MOONPAY,em),o),eb=function(e){if(e)return ev[e]},ex=t(87631),eg=t(55120);function ew(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}var ej=[{label:X.TRANSAK,value:X.TRANSAK,icon:(0,E.jsx)(O.J,{iconName:"Transak",className:"helio-fill-primary hel-w-6 hel-h-6"})},{label:X.UNLIMIT,value:X.UNLIMIT,icon:(0,E.jsx)(O.J,{iconName:"Unlimit",className:"hel-h-6 hel-w-6 hel-overflow-auto hel-rounded"})},{label:X.MOONPAY,value:X.MOONPAY,icon:(0,E.jsx)(O.J,{iconName:"MoonPay",className:"helio-fill-primary hel-w-6 hel-h-6"})}],ek=ej[0],eN=(0,h.memo)(function(e){var n,t,r=e.publicKey,l=e.onHide,o=e.initialCurrency,a=e.decimalAmount,u=e.supportedCurrencies,m=(0,c.I0)(),p=(0,k.R)().connection,y=(0,b.g_)().network,v=(0,R.Eu)(),g=v.payload,j=v.token,N=(0,h.useState)(ek),C=N[0],P=N[1],T=(0,h.useState)((null==a?void 0:a.toString())||"0"),I=T[0],M=T[1],B=(0,U.U)(),Z=B.currencyService,L=B.currencies,X=(0,W.X)().isMobile,ee=(0,x.Fg)().theme,en=(0,S.lD)().actions,et=(0,c.v9)(w.H5),er=(0,h.useState)(!1),el=er[0],eo=er[1],ei=(0,h.useState)(null!=o?o:u[0]),ea=ei[0],ec=ei[1],eu=(0,h.useRef)(void 0),es=(0,h.useState)(),ed=es[0],eh=es[1],em={decimalAmount:Number(I),network:y,currency:ea,theme:ee,isMobile:X,connection:p,publicKey:r,setWaitingForConfirmation:eo,onHide:function(){eh(void 0)},payload:g,token:j},ef=eb(ed);(0,h.useEffect)(function(){if(el&&a){if(et&&(null==et?void 0:et.length)>0){var e,n=null==et||null===(e=et.find(function(e){return e.tokenSymbol===(null==ea?void 0:ea.symbol)}))||void 0===e?void 0:e.value;if(!n)return;new d.Z(n)>=a&&((0,f.Qm)("Wallet funds have been updated, now proceed to pay"),(0,z._)({name:q.Z.CLICKED_ADD_FUNDS,properties:{provider:C.label,amount:Number(I),success:!0}}),null==l||l())}return window.clearInterval(eu.current?Number(eu.current):0),eu.current=setInterval(function(){m(en.loadAvailableSolanaBalances({publicKey:r,connection:p,currencies:L,shouldShowLoading:!1,loadWithInterval:!0}))},5e3),function(){clearInterval(eu.current?Number(eu.current):0)}}},[en,p,L,a,m,l,r,null==ea?void 0:ea.symbol,et,I,C.label,el]);var ep=(n=(0,K.Z)(_().mark(function e(){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=5;break}return(0,Q.O7)(Error("No public key found in adding funds modal")),(0,f.Jc)("No public key found in adding funds modal"),(0,z._)({name:q.Z.CLICKED_ADD_FUNDS,properties:{provider:C.label,amount:Number(I),success:!1}}),e.abrupt("return");case 5:(0,z._)({name:q.Z.CLICKED_ADD_FUNDS,properties:{provider:C.label,amount:Number(I),success:!1}}),ed?(eh(void 0),setTimeout(function(){return eh(C.value)})):eh(C.value);case 7:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)});return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(A.u,{className:"hel-max-w-[424px] hel-pb-6",title:el?void 0:"Add funds to your Helio Wallet",onHide:l,children:el?(0,E.jsxs)("div",{children:[(0,E.jsx)(O.J,{iconName:"Helio",className:"helio-fill-helio-primary hel-mx-2 hel-w-8 hel-h-8 hel-animate-spin"}),(0,E.jsxs)("div",{className:"hel-mx-2 hel-mt-12",children:[(0,E.jsx)("h1",{className:ex.H,children:"Loading..."}),(0,E.jsx)("p",{className:ex.n,children:"Waiting for funds to arrive to your wallet."}),(0,E.jsx)(eg.m,{})]})]}):(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)("div",{className:J.yf,children:[(0,E.jsxs)("div",{children:[(0,E.jsx)(F._,{className:"hel-mb-[5px]",children:"Add funds with"}),(0,E.jsx)(G.jL,{options:ej,onChange:function(e){return P(e)},fieldName:"network",value:C,prefix:C.icon})]}),(0,E.jsxs)("div",{className:"hel-flex hel-flex-col hel-gap-y-[5px]",children:[(0,E.jsx)(F._,{required:!0,children:"Asset"}),(0,E.jsx)(G.jL,{options:u.map(function(e){return{label:e.symbol,value:e.symbol,icon:(0,E.jsx)(Y.T,{imageUrl:e.iconUrl,size:24,token:e.symbol})}}),value:{value:null!==(t=null==ea?void 0:ea.symbol)&&void 0!==t?t:"",label:ea?(0,E.jsxs)("div",{className:"hel-flex hel-content-center hel-items-center",children:[(0,E.jsx)(Y.T,{imageUrl:null==ea?void 0:ea.iconUrl,size:24,token:null==ea?void 0:ea.symbol}),(0,E.jsx)("span",{className:"helio-text-body hel-ml-4",children:"   ".concat(ea.symbol)})]}):"Select currency"},onChange:function(e){var n=Z.getCurrencyBySymbolAndBlockchain({symbol:String(e.value),blockchain:s.BlockchainSymbol.SOL});n&&ec(n)}})]}),(0,E.jsxs)("div",{className:"hel-flex hel-flex-col hel-gap-y-[5px]",children:[(0,E.jsx)(F._,{required:!0,htmlFor:"amount",children:"Amount"}),(0,E.jsx)(H.F,{fieldId:"amount",fieldName:"amount",prefix:null==ea?void 0:ea.symbolPrefix,suffix:(0,E.jsx)(E.Fragment,{children:(null==ea?void 0:ea.symbol)&&(0,E.jsx)("div",{className:"helio-text-high-contrast hel-text-sm hel-mr-3 hel-ml-2",children:null==ea?void 0:ea.symbol})}),onChange:function(e){M(Number.isNaN(Number(e))?(0,V.Z)(String(e)).filter(function(e){return"."===e}).length>1?"0":String(e).replace(/[^0-9.]/g,""):String(e))},fieldValue:I,placeholder:""})]})]}),(0,E.jsx)("div",{className:"hel-flex hel-w-full hel-mt-2 hel-mb-5 hel-gap-2"}),(0,E.jsx)(D.z,{className:"hel-w-full hel-rounded-3xl",dataTestId:$.H.payWithCard.addFunds,onClick:function(){return ep()},children:"Add Funds"})]})}),ef&&(0,E.jsx)(ef,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ew(Object(t),!0).forEach(function(n){(0,i.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ew(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({},em))]})}),eS=["usePaymentMethodModal"];function eC(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function eO(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?eC(Object(t),!0).forEach(function(n){(0,i.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):eC(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var eA=function(e){var n=e.usePaymentMethodModal,t=(0,a.Z)(e,eS),r=(0,c.v9)(u.ir);return void 0!==n&&n&&r?(0,E.jsx)(Z,eO({},t)):(0,E.jsx)(eN,eO({},t))}},64494:function(e,n,t){t.d(n,{BM:function(){return o},pE:function(){return l},yf:function(){return r}});var r="hel-flex hel-flex-col hel-gap-4",l="\n  hel-rounded-lg helio-text-label helio-background-secondary hel-px-4 hel-py-3 hel-text-sm \n",o="hel-font-bold"},80091:function(e,n,t){t.d(n,{J:function(){return a}});var r=t(6277);t(2784);var l=t(86776),o=t(97413),i=t(52322),a=function(e){var n=e.Trigger,t=e.Content,a=e.position,c=e.onOpen,u=e.onClose,s=e.eventType,d=e.popoverClassName,h=e.disabled;return(0,i.jsx)(l.Z,{onClose:u,onOpen:c,arrow:!1,disabled:void 0!==h&&h,on:void 0===s?"click":s,trigger:(0,i.jsx)("div",{className:o.R,children:(0,i.jsx)(n,{})}),position:a,children:(0,i.jsx)("div",{className:(0,r.default)(o.e,void 0===d?"hel-p-4":d),children:(0,i.jsx)(t,{})})})}},97413:function(e,n,t){t.d(n,{R:function(){return l},e:function(){return r}});var r="\n  hel-rounded-lg hel-shadow-md hel-border-none helio-background-container hel-flex hel-justify-center\n",l="\n  hel-cursor-pointer\n"},22530:function(e,n,t){t.d(n,{q:function(){return i}});var r,l=t(95235),o=t(22219),i=(r={},(0,l.Z)(r,o.IntervalType.MONTH,"month"),(0,l.Z)(r,o.IntervalType.WEEK,"week"),(0,l.Z)(r,o.IntervalType.DAY,"day"),(0,l.Z)(r,o.IntervalType.MINUTE,"min"),(0,l.Z)(r,o.IntervalType.HOUR,"hour"),(0,l.Z)(r,o.IntervalType.SECOND,"second"),(0,l.Z)(r,o.IntervalType.YEAR,"year"),(0,l.Z)(r,o.IntervalType.BIANNUALLY,"biannually"),(0,l.Z)(r,o.IntervalType.QUARTER,"quarter"),r)},24681:function(e,n,t){t.d(n,{LE:function(){return l},VC:function(){return o},ix:function(){return r}});var r="Connecting...",l="Loading",o="Adding funds"},71294:function(e,n,t){t.d(n,{C:function(){return f}});var r=t(20406),l=t(82841),o=t.n(l),i=t(22219),a=t(17831),c=t(10856),u=t(2784),s=t(94449),d=t(33939),h=t(77330),m=t(35483),f=function(e){var n,t=e.recipientPK,l=e.mintAddress,f=(0,a.R)().connection,p=(0,s.v9)(m.H5),y=(0,s.v9)(m.U3),v=(0,u.useState)(!0),b=v[0],x=v[1],g=null==p||null===(n=p.find(function(e){return e.tokenSymbol===d.NQ.SOL}))||void 0===n?void 0:n.value,w=+(null!=g?g:0)>.003,j=!y&&!!g,k=(0,u.useCallback)((0,r.Z)(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!t||!l||!i.PublicKeyService.validateSolAddress(t))){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,h.N)(new c.nh(t),f,new c.nh(l));case 4:x(void 0!==e.sent);case 6:case"end":return e.stop()}},e)})),[f,l,t]);return((0,u.useEffect)(function(){y||!p||w||k().then()},[w,k,p,y]),!j||w)?{canPayATA:!0}:{canPayATA:b}}},31064:function(e,n,t){t.d(n,{B:function(){return l},j:function(){return o}});var r=t(16480),l=function(e){if(e)return 2!==e.split("@").length?((0,r.O7)(Error("Encoding email failed as there was not exactly 2 parts "+e)),e):e.match(/[+]/)?encodeURIComponent(e):e},o=function(e){if(0===e.length)return"";if(1===e.length)return e[0];var n=e.pop();return"".concat(e.join(", ")," or ").concat(n)}},39551:function(e,n,t){t.d(n,{K5:function(){return O},E3:function(){return S},pf:function(){return A}});var r,l=t(68913),o=t(64006),i=t(52746),a=t(20406),c=t(82841),u=t.n(c),s=t(22219),d=t(10856),h=t(72558),m=t(20608),f=t(14757),p=t(46275),y=t(31545),v=t(41077),b=t(16480),x=t(77330),g=u().mark(k),w=u().mark(N),j=(r=(0,a.Z)(u().mark(function e(n){var t,r,l,o,c,m,f,g,w,j,k,N,S,C,O,A,E,P,T,I,U,D,M,B,Z;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.publicKeyString,r=n.connection,l=n.authToken,o=n.globalCurrencies,c=n.helioApiAdapter,e.prev=1,j=new d.nh(t),k=s.BlockchainSymbol.SOL,e.next=6,r.getBalance(j);case 6:return N=e.sent,S=new v.o(o),C=new p.ie(o),O=S.convertFromMinimalUnits({symbol:p.om.getSolCurrencySymbol(),minimalAmount:BigInt(N),blockchain:k}),A=Math.pow(10,(null===(m=C.getCurrencyBySymbolAndOptionalBlockchain({symbol:p.om.getSolCurrencySymbol(),blockchain:k}))||void 0===m?void 0:m.decimals)||0),E=Math.pow(10,(null===(f=C.getCurrencyBySymbolAndOptionalBlockchain({symbol:"USDC",blockchain:k}))||void 0===f?void 0:f.decimals)||0),e.next=16,S.convertTo({to:p.om.getDefaultCurrencySymbol(),from:p.om.getSolCurrencySymbol(),amount:A,authToken:l,helioApiAdapter:c});case 16:return T=(null==(P=e.sent)?void 0:P.price)/E||0,I=O.multipliedBy(T),U={tokenSymbol:null!==(g=null===(w=C.getCurrencyBySymbolAndOptionalBlockchain({symbol:p.om.getSolCurrencySymbol(),blockchain:k}))||void 0===w?void 0:w.symbol)&&void 0!==g?g:"",tokenPrice:p.kr.amountToUSD(y.i.roundValueToString(T,2)),roundedValue:y.i.roundValueToString(O,4),originalValue:O,valueUsd:I.toString()},e.next=22,(0,x.c)(j,r);case 22:return D=e.sent,M=C.getSplTokens().map(function(){var e=(0,a.Z)(u().mark(function e(n){var t,r,o,i,a,s,d,m,f,v;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=C.getCurrencyBySymbolAndOptionalBlockchain({symbol:n,blockchain:k}),!((m=null!==(t=null==(d=D.find(function(e){var t;return e.mint==(null===(t=C.getCurrencyBySymbolAndOptionalBlockchain({symbol:n,blockchain:k}))||void 0===t?void 0:t.mintAddress)}))?void 0:d.amount)&&void 0!==t?t:0)>0)){e.next=27;break}return e.next=6,S.convertTo({to:p.om.getDefaultCurrencySymbol(),from:n,amount:Math.pow(10,(null==s?void 0:s.decimals)||0),authToken:l,helioApiAdapter:c});case 6:if(e.t3=o=e.sent,e.t2=null===e.t3,e.t2){e.next=10;break}e.t2=void 0===o;case 10:if(!e.t2){e.next=14;break}e.t4=void 0,e.next=15;break;case 14:e.t4=o.price;case 15:if(e.t5=r=e.t4,e.t1=null!==e.t5,!e.t1){e.next=19;break}e.t1=void 0!==r;case 19:if(!e.t1){e.next=23;break}e.t6=r,e.next=24;break;case 23:e.t6=0;case 24:e.t0=e.t6,e.next=28;break;case 27:e.t0=0;case 28:return f=e.t0/E,v=(0,h.Z)(m).multipliedBy(f),e.abrupt("return",{tokenSymbol:null!==(i=null===(a=C.getCurrencyBySymbolAndOptionalBlockchain({symbol:n,blockchain:k}))||void 0===a?void 0:a.symbol)&&void 0!==i?i:"",tokenPrice:p.kr.amountToUSD(y.i.roundValueToString(f,2)),roundedValue:y.i.roundValueToString(m,3),originalValue:(0,h.Z)(m),valueUsd:v.toString()});case 32:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}()),e.next=26,Promise.all(M);case 26:return B=e.sent,Z=[].concat((0,i.Z)(B),[U]).sort(function(e,n){return(0,h.Z)(n.valueUsd).minus(e.valueUsd).toNumber()}),e.abrupt("return",Z.filter(function(e){return Number(e.originalValue)>0}));case 32:throw e.prev=32,e.t0=e.catch(1),(0,b.O7)(e.t0),Error(String(e.t0));case 36:case"end":return e.stop()}},e,null,[[1,32]])})),function(e){return r.apply(this,arguments)});function k(e){var n,t,r,l,o,i,a;return u().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,t=(n=e.payload).publicKey,r=n.connection,l=n.authToken,o=n.currencies,c.next=4,(0,f.cm)();case 4:return i=c.sent,c.next=7,(0,m.RE)(j,{publicKeyString:t,connection:r,authToken:l,globalCurrencies:o,helioApiAdapter:i});case 7:return a=c.sent,c.next=10,(0,m.gz)(O.balancesLoaded(a));case 10:c.next=17;break;case 12:return c.prev=12,c.t0=c.catch(0),(0,b.O7)(c.t0),c.next=17,(0,m.gz)(O.setError(String(c.t0)));case 17:case"end":return c.stop()}},g,null,[[0,12]])}function N(){return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.Fm)(O.loadBalances.type,k);case 2:case"end":return e.stop()}},w)}var S={loading:!1},C=(0,l.o)({name:"balances",initialState:S,reducers:{loadBalances:function(e,n){e.loading=!0},balancesLoaded:function(e,n){e.balances=n.payload,e.loading=!1},setError:function(e,n){e.error=n.payload,e.loading=!1}}}),O=C.actions,A=function(){return(0,o.v)({key:C.name,reducer:C.reducer}),(0,o.h)({key:C.name,saga:N}),{actions:C.actions}}},85761:function(e,n,t){t.d(n,{NH:function(){return i},Ql:function(){return c},iL:function(){return a},wK:function(){return u},zh:function(){return s}});var r=t(60985),l=t(39551),o=function(e){return(null==e?void 0:e.balances)||l.E3},i=(0,r.P1)([o],function(e){return e.loading}),a=(0,r.P1)([o],function(e){return e.balances}),c=(0,r.P1)([a],function(e){return null==e?void 0:e.length}),u=(0,r.P1)([a],function(e){return null==e?void 0:e.reduce(function(e,n){return e+Number(n.valueUsd)},0)}),s=(0,r.P1)([o],function(e){return e.error})}}]);