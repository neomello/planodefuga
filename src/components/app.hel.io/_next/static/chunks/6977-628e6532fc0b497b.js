!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="2cb0a796-0ca9-4386-971e-30e4bb35941a",e._sentryDebugIdIdentifier="sentry-dbid-2cb0a796-0ca9-4386-971e-30e4bb35941a")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6977],{57867:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.createDasApiDecorator=void 0;let i=r(8302);t.createDasApiDecorator=e=>({...e,getAsset:async t=>{let r=await e.call("getAsset",[t]);if(!r)throw new i.DasApiError(`Asset not found: ${t}`);return r},getAssetProof:async t=>{let r=await e.call("getAssetProof",[t]);if(!r)throw new i.DasApiError(`No proof found for asset: ${t}`);return r},getAssetsByAuthority:async t=>{if("number"==typeof t.page&&(t.before||t.after))throw new i.DasApiError("Pagination Error. Please use either page or before/after, but not both.");let r=await e.call("getAssetsByAuthority",[t.authority,t.sortBy??null,t.limit??null,t.page??1,t.before??null,t.after??null]);if(!r)throw new i.DasApiError(`No assets found for authority: ${t.authority}`);return r},getAssetsByCreator:async t=>{if("number"==typeof t.page&&(t.before||t.after))throw new i.DasApiError("Pagination Error. Please use either page or before/after, but not both.");let r=await e.call("getAssetsByCreator",[t.creator,t.onlyVerified,t.sortBy??null,t.limit??null,t.page??1,t.before??null,t.after??null]);if(!r)throw new i.DasApiError(`No assets found for creator: ${t.creator}`);return r},getAssetsByGroup:async t=>{if("number"==typeof t.page&&(t.before||t.after))throw new i.DasApiError("Pagination Error. Please use either page or before/after, but not both.");let r=await e.call("getAssetsByGroup",[t.groupKey,t.groupValue,t.sortBy??null,t.limit??null,t.page??1,t.before??null,t.after??null]);if(!r)throw new i.DasApiError(`No assets found for group: ${t.groupKey} => ${t.groupValue}`);return r},getAssetsByOwner:async t=>{if("number"==typeof t.page&&(t.before||t.after))throw new i.DasApiError("Pagination Error. Please use either page or before/after, but not both.");let r=await e.call("getAssetsByOwner",[t.owner,t.sortBy??null,t.limit??null,t.page??1,t.before??null,t.after??null]);if(!r)throw new i.DasApiError(`No assets found for owner: ${t.owner}`);return r},searchAssets:async t=>{if("number"==typeof t.page&&(t.before||t.after))throw new i.DasApiError("Pagination Error. Please use either page or before/after, but not both.");let r=await e.call("searchAssets",[t.negate??null,t.conditionType??null,t.interface??null,t.owner??null,t.ownerType??null,t.creator??null,t.creatorVerified??null,t.authority??null,t.grouping??null,t.delegate??null,t.frozen??null,t.supply??null,t.supplyMint??null,t.compressed??null,t.compressible??null,t.royaltyModel??null,t.royaltyTarget??null,t.royaltyAmount??null,t.burnt??null,t.sortBy??null,t.limit??null,t.page??1,t.before??null,t.after??null,t.jsonUri??null]);if(!r)throw new i.DasApiError("No assets found for the given search criteria");return r}})},8302:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DasApiError=void 0;class r extends Error{constructor(){super(...arguments),this.name="DasApiError"}}t.DasApiError=r},45724:function(e,t,r){var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(57867),t),n(r(8302),t),n(r(60535),t),n(r(73910),t)},60535:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.dasApi=void 0;let i=r(57867);t.dasApi=()=>({install(e){e.rpc=(0,i.createDasApiDecorator)(e.rpc)}})},73910:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},241:function(e,t,r){let i;r.d(t,{i:function(){return ro}});class n extends Error{name="UmiError";constructor(e,t,r,i){super(e),this.source=t,this.sourceDetails=r,this.cause=i,this.message=`${this.message}

Source: ${this.getFullSource()}${this.cause?`

Caused By: ${this.cause}`:""}
`}getCapitalizedSource(){return"sdk"===this.source||"rpc"===this.source?this.source.toUpperCase():this.source[0].toUpperCase()+this.source.slice(1)}getFullSource(){return this.getCapitalizedSource()+(this.sourceDetails?` > ${this.sourceDetails}`:"")}toString(){return`[${this.name}] ${this.message}`}}class s extends n{name="SdkError";constructor(e,t){super(e,"sdk",void 0,t)}}class a extends s{name="InterfaceImplementationMissingError";constructor(e,t){super(`Tried using ${e} but no implementation of that interface was found. Make sure an implementation is registered, e.g. via "context.${t} = new My${e.replace(/Interface$/,"")}();".`)}}function o(){let e=Error("Trying to use a NullSigner. Did you forget to set a Signer on your Umi instance? See the `signerIdentity` method for more information."),t=()=>{throw e};return{get publicKey(){throw e},signMessage:t,signTransaction:t,signAllTransactions:t}}let l=()=>({downloader:function(){let e=()=>{throw new a("DownloaderInterface","downloader")};return{download:e,downloadJson:e}}(),eddsa:function(){let e=()=>{throw new a("EddsaInterface","eddsa")};return{generateKeypair:e,createKeypairFromSecretKey:e,createKeypairFromSeed:e,isOnCurve:e,findPda:e,sign:e,verify:e}}(),http:{send:()=>{throw new a("HttpInterface","http")}},identity:o(),payer:o(),programs:function(){let e=()=>{throw new a("ProgramRepositoryInterface","programs")};return{has:e,get:e,getPublicKey:e,all:e,add:e,bind:e,unbind:e,clone:e,resolveError:e}}(),rpc:function(){let e=()=>{throw new a("RpcInterface","rpc")};return{getEndpoint:e,getCluster:e,getAccount:e,getAccounts:e,getProgramAccounts:e,getBlockTime:e,getBalance:e,getRent:e,getSlot:e,getLatestBlockhash:e,getTransaction:e,getSignatureStatuses:e,accountExists:e,airdrop:e,call:e,sendTransaction:e,confirmTransaction:e}}(),serializer:function(){let e=()=>{throw new a("SerializerInterface","serializer")};return{tuple:e,array:e,map:e,set:e,option:e,nullable:e,struct:e,enum:e,dataEnum:e,string:e,bool:e,unit:e,u8:e,u16:e,u32:e,u64:e,u128:e,i8:e,i16:e,i32:e,i64:e,i128:e,f32:e,f64:e,bytes:e,publicKey:e}}(),transactions:function(){let e=()=>{throw new a("TransactionFactoryInterface","transactions")};return{create:e,serialize:e,deserialize:e,serializeMessage:e,deserializeMessage:e}}(),uploader:function(){let e=()=>{throw new a("UploaderInterface","uploader")};return{upload:e,uploadJson:e,getUploadPrice:e}}()}),u=()=>({...l(),use(e){return e.install(this),this}}),f=()=>new c({method:"get",data:void 0,headers:{},url:""});class c{constructor(e){this.request=e}asJson(){return this.contentType("application/json")}asMultipart(){return this.contentType("multipart/form-data")}asForm(){return this.contentType("application/x-www-form-urlencoded")}accept(e){return this.withHeader("accept",e)}contentType(e){return this.withHeader("content-type",e)}userAgent(e){return this.withHeader("user-agent",e)}withToken(e,t="Bearer"){return this.withHeader("authorization",`${t} ${e}`)}withHeader(e,t){return this.withHeaders({[e]:t})}withHeaders(e){return new c({...this.request,headers:{...this.request.headers,...e}})}dontFollowRedirects(){return this.followRedirects(0)}followRedirects(e){return new c({...this.request,maxRedirects:e})}withoutTimeout(){return this.withTimeout(0)}withTimeout(e){return new c({...this.request,timeout:e})}withAbortSignal(e){return new c({...this.request,signal:e})}withEndpoint(e,t){return new c({...this.request,method:e,url:t})}withParams(e){let t=new URL(this.request.url),r=new URLSearchParams(e),i=new URLSearchParams(t.searchParams);return[...r.entries()].forEach(([e,t])=>{i.append(e,t)}),t.search=i.toString(),new c({...this.request,url:t.toString()})}withData(e){return new c({...this.request,data:e})}get(e){return this.withEndpoint("get",e)}post(e){return this.withEndpoint("post",e)}put(e){return this.withEndpoint("put",e)}patch(e){return this.withEndpoint("patch",e)}delete(e){return this.withEndpoint("delete",e)}get method(){return this.request.method}get url(){return this.request.url}get data(){return this.request.data}get headers(){return this.request.headers}get maxRedirects(){return this.request.maxRedirects}get timeout(){return this.request.timeout}get signal(){return this.request.signal}}let d=e=>e.replace(/\u0000/g,""),h={description:"utf8",fixedSize:null,maxSize:null,serialize:e=>new TextEncoder().encode(e),deserialize:(e,t=0)=>[d(new TextDecoder().decode(e.slice(t))),e.length]},g=(e=20,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789")=>{let r="",i=t.length;for(let n=0;n<e;n+=1)r+=t.charAt(Math.floor(Math.random()*i));return r},p=(e,t,r={})=>({buffer:"string"==typeof e?h.serialize(e):e,fileName:t,displayName:r.displayName??t,uniqueName:r.uniqueName??g(),contentType:r.contentType??null,extension:r.extension??m(t),tags:r.tags??[]}),m=e=>{let t=e.lastIndexOf(".");return t<0?null:e.slice(t+1)},y=()=>({install(e){e.downloader=function(e){let t=async(t,r={})=>p((await e.http.send(f().get(t).withAbortSignal(r.signal))).body,t);return{download:async(e,r={})=>Promise.all(e.map(e=>t(e,r))),downloadJson:async(t,r={})=>(await e.http.send(f().get(t).withAbortSignal(r.signal))).data}}(e)}});var b,w=r(73485),x=r(10856),z=r(56965);function S(e){return{publicKey:(0,z.D)(e.publicKey),secretKey:e.secretKey}}function E(e,...t){if(!(e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function B(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}let I="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,A=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);function v(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}(e)),E(e),e}new Uint8Array(new Uint32Array([287454020]).buffer)[0];class ${clone(){return this._cloneInto()}}class U extends ${constructor(e,t,r,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=A(this.buffer)}update(e){B(this);let{view:t,buffer:r,blockLen:i}=this,n=(e=v(e)).length;for(let s=0;s<n;){let a=Math.min(i-this.pos,n-s);if(a===i){let t=A(e);for(;i<=n-s;s+=i)this.process(t,s);continue}r.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){B(this),function(e,t){E(e);let r=t.outputLen;if(e.length<r)throw Error(`digestInto() expects output buffer of length at least ${r}`)}(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:i,isLE:n}=this,{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(r,0),s=0);for(let e=s;e<i;e++)t[e]=0;!function(e,t,r,i){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,i);let n=BigInt(32),s=BigInt(4294967295),a=Number(r>>n&s),o=Number(r&s),l=i?4:0,u=i?0:4;e.setUint32(t+l,a,i),e.setUint32(t+u,o,i)}(r,i-8,BigInt(8*this.length),n),this.process(r,0);let a=A(e),o=this.outputLen;if(o%4)throw Error("_sha2: outputLen should be aligned to 32bit");let l=o/4,u=this.get();if(l>u.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)a.setUint32(4*e,u[e],n)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:i,finished:n,destroyed:s,pos:a}=this;return e.length=i,e.pos=a,e.finished=n,e.destroyed=s,i%t&&e.buffer.set(r),e}}let N=BigInt(4294967296-1),O=BigInt(32);var R={split:function(e,t=!1){let r=new Uint32Array(e.length),i=new Uint32Array(e.length);for(let n=0;n<e.length;n++){let{h:s,l:a}=function(e,t=!1){return t?{h:Number(e&N),l:Number(e>>O&N)}:{h:0|Number(e>>O&N),l:0|Number(e&N)}}(e[n],t);[r[n],i[n]]=[s,a]}return[r,i]},shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,add:function(e,t,r,i){let n=(t>>>0)+(i>>>0);return{h:e+r+(n/4294967296|0)|0,l:0|n}},add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,i)=>t+r+i+(e/4294967296|0)|0,add4L:(e,t,r,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0),add4H:(e,t,r,i,n)=>t+r+i+n+(e/4294967296|0)|0,add5H:(e,t,r,i,n,s)=>t+r+i+n+s+(e/4294967296|0)|0,add5L:(e,t,r,i,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0)+(n>>>0)};let[L,_]=R.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),T=new Uint32Array(80),k=new Uint32Array(80);class D extends U{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:t,Bh:r,Bl:i,Ch:n,Cl:s,Dh:a,Dl:o,Eh:l,El:u,Fh:f,Fl:c,Gh:d,Gl:h,Hh:g,Hl:p}=this;return[e,t,r,i,n,s,a,o,l,u,f,c,d,h,g,p]}set(e,t,r,i,n,s,a,o,l,u,f,c,d,h,g,p){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|i,this.Ch=0|n,this.Cl=0|s,this.Dh=0|a,this.Dl=0|o,this.Eh=0|l,this.El=0|u,this.Fh=0|f,this.Fl=0|c,this.Gh=0|d,this.Gl=0|h,this.Hh=0|g,this.Hl=0|p}process(e,t){for(let r=0;r<16;r++,t+=4)T[r]=e.getUint32(t),k[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){let t=0|T[e-15],r=0|k[e-15],i=R.rotrSH(t,r,1)^R.rotrSH(t,r,8)^R.shrSH(t,r,7),n=R.rotrSL(t,r,1)^R.rotrSL(t,r,8)^R.shrSL(t,r,7),s=0|T[e-2],a=0|k[e-2],o=R.rotrSH(s,a,19)^R.rotrBH(s,a,61)^R.shrSH(s,a,6),l=R.rotrSL(s,a,19)^R.rotrBL(s,a,61)^R.shrSL(s,a,6),u=R.add4L(n,l,k[e-7],k[e-16]),f=R.add4H(u,i,o,T[e-7],T[e-16]);T[e]=0|f,k[e]=0|u}let{Ah:r,Al:i,Bh:n,Bl:s,Ch:a,Cl:o,Dh:l,Dl:u,Eh:f,El:c,Fh:d,Fl:h,Gh:g,Gl:p,Hh:m,Hl:y}=this;for(let e=0;e<80;e++){let t=R.rotrSH(f,c,14)^R.rotrSH(f,c,18)^R.rotrBH(f,c,41),b=R.rotrSL(f,c,14)^R.rotrSL(f,c,18)^R.rotrBL(f,c,41),w=f&d^~f&g,x=c&h^~c&p,z=R.add5L(y,b,x,_[e],k[e]),S=R.add5H(z,m,t,w,L[e],T[e]),E=0|z,B=R.rotrSH(r,i,28)^R.rotrBH(r,i,34)^R.rotrBH(r,i,39),I=R.rotrSL(r,i,28)^R.rotrBL(r,i,34)^R.rotrBL(r,i,39),A=r&n^r&a^n&a,v=i&s^i&o^s&o;m=0|g,y=0|p,g=0|d,p=0|h,d=0|f,h=0|c,({h:f,l:c}=R.add(0|l,0|u,0|S,0|E)),l=0|a,u=0|o,a=0|n,o=0|s,n=0|r,s=0|i;let $=R.add3L(E,I,v);r=R.add3H($,S,B,A),i=0|$}({h:r,l:i}=R.add(0|this.Ah,0|this.Al,0|r,0|i)),({h:n,l:s}=R.add(0|this.Bh,0|this.Bl,0|n,0|s)),({h:a,l:o}=R.add(0|this.Ch,0|this.Cl,0|a,0|o)),({h:l,l:u}=R.add(0|this.Dh,0|this.Dl,0|l,0|u)),({h:f,l:c}=R.add(0|this.Eh,0|this.El,0|f,0|c)),({h:d,l:h}=R.add(0|this.Fh,0|this.Fl,0|d,0|h)),({h:g,l:p}=R.add(0|this.Gh,0|this.Gl,0|g,0|p)),({h:m,l:y}=R.add(0|this.Hh,0|this.Hl,0|m,0|y)),this.set(r,i,n,s,a,o,l,u,f,c,d,h,g,p,m,y)}roundClean(){T.fill(0),k.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}let q=function(e){let t=t=>e().update(v(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}(()=>new D);BigInt(0);let P=BigInt(1),C=BigInt(2);function H(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function j(e){if(!H(e))throw Error("Uint8Array expected")}let F=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function K(e){j(e);let t="";for(let r=0;r<e.length;r++)t+=F[e[r]];return t}function M(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}let V={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Z(e){return e>=V._0&&e<=V._9?e-V._0:e>=V._A&&e<=V._F?e-(V._A-10):e>=V._a&&e<=V._f?e-(V._a-10):void 0}function J(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw Error("padded hex string expected, got unpadded hex of length "+t);let i=new Uint8Array(r);for(let t=0,n=0;t<r;t++,n+=2){let r=Z(e.charCodeAt(n)),s=Z(e.charCodeAt(n+1));if(void 0===r||void 0===s)throw Error('hex string expected, got non-hex character "'+(e[n]+e[n+1])+'" at index '+n);i[t]=16*r+s}return i}function G(e){return j(e),M(K(Uint8Array.from(e).reverse()))}function W(e,t){return J(e.toString(16).padStart(2*t,"0"))}function Y(e,t){return W(e,t).reverse()}function Q(e,t,r){let i;if("string"==typeof t)try{i=J(t)}catch(r){throw Error(`${e} must be valid hex string, got "${t}". Cause: ${r}`)}else if(H(t))i=Uint8Array.from(t);else throw Error(`${e} must be hex string or Uint8Array`);let n=i.length;if("number"==typeof r&&n!==r)throw Error(`${e} expected ${r} bytes, got ${n}`);return i}function X(...e){let t=0;for(let r=0;r<e.length;r++){let i=e[r];j(i),t+=i.length}let r=new Uint8Array(t);for(let t=0,i=0;t<e.length;t++){let n=e[t];r.set(n,i),i+=n.length}return r}let ee=e=>(C<<BigInt(e-1))-P,et={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||H(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function er(e,t,r={}){let i=(t,r,i)=>{let n=et[r];if("function"!=typeof n)throw Error(`Invalid validator "${r}", expected function`);let s=e[t];if((!i||void 0!==s)&&!n(s,e))throw Error(`Invalid param ${String(t)}=${s} (${typeof s}), expected ${r}`)};for(let[e,r]of Object.entries(t))i(e,r,!1);for(let[e,t]of Object.entries(r))i(e,t,!0);return e}let ei=BigInt(0),en=BigInt(1),es=BigInt(2),ea=BigInt(3),eo=BigInt(4),el=BigInt(5),eu=BigInt(8);function ef(e,t){let r=e%t;return r>=ei?r:t+r}function ec(e,t,r){let i=e;for(;t-- >ei;)i*=i,i%=r;return i}function ed(e,t){if(e===ei||t<=ei)throw Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=ef(e,t),i=t,n=ei,s=en,a=en,o=ei;for(;r!==ei;){let e=i/r,t=i%r,l=n-a*e,u=s-o*e;i=r,r=t,n=a,s=o,a=l,o=u}if(i!==en)throw Error("invert: does not exist");return ef(n,t)}BigInt(9),BigInt(16);let eh=(e,t)=>(ef(e,t)&en)===en,eg=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ep(e,t){let r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}let em=BigInt(0),ey=BigInt(1),eb=BigInt(0),ew=BigInt(1),ex=BigInt(2),ez=BigInt(8),eS={zip215:!0},eE=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),eB=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),eI=BigInt(0),eA=BigInt(1),ev=BigInt(2),e$=BigInt(5),eU=BigInt(10),eN=BigInt(20),eO=BigInt(40),eR=BigInt(80);function eL(e,t){let r=ef(t*t*t,eE),i=function(e){let t=e*e%eE*e%eE,r=ec(t,ev,eE)*t%eE,i=ec(r,eA,eE)*e%eE,n=ec(i,e$,eE)*i%eE,s=ec(n,eU,eE)*n%eE,a=ec(s,eN,eE)*s%eE,o=ec(a,eO,eE)*a%eE,l=ec(o,eR,eE)*o%eE,u=ec(l,eR,eE)*o%eE,f=ec(u,eU,eE)*n%eE;return{pow_p_5_8:ec(f,ev,eE)*e%eE,b2:t}}(e*ef(r*r*t,eE)).pow_p_5_8,n=ef(e*r*i,eE),s=ef(t*n*n,eE),a=n,o=ef(n*eB,eE),l=s===e,u=s===ef(-e,eE),f=s===ef(-e*eB,eE);return l&&(n=a),(u||f)&&(n=o),eh(n,eE)&&(n=ef(-n,eE)),{isValid:l||u,value:n}}let e_=function(e,t,r=!1,i={}){if(e<=ei)throw Error(`Expected Field ORDER > 0, got ${e}`);let{nBitLength:n,nByteLength:s}=ep(e,t);if(s>2048)throw Error("Field lengths over 2048 bytes are not supported");let a=function(e){if(e%eo===ea){let t=(e+en)/eo;return function(e,r){let i=e.pow(r,t);if(!e.eql(e.sqr(i),r))throw Error("Cannot find square root");return i}}if(e%eu===el){let t=(e-el)/eu;return function(e,r){let i=e.mul(r,es),n=e.pow(i,t),s=e.mul(r,n),a=e.mul(e.mul(s,es),n),o=e.mul(s,e.sub(a,e.ONE));if(!e.eql(e.sqr(o),r))throw Error("Cannot find square root");return o}}return function(e){let t,r,i;let n=(e-en)/es;for(t=e-en,r=0;t%es===ei;t/=es,r++);for(i=es;i<e&&function(e,t,r){if(r<=ei||t<ei)throw Error("Expected power/modulo > 0");if(r===en)return ei;let i=en;for(;t>ei;)t&en&&(i=i*e%r),e=e*e%r,t>>=en;return i}(i,n,e)!==e-en;i++);if(1===r){let t=(e+en)/eo;return function(e,r){let i=e.pow(r,t);if(!e.eql(e.sqr(i),r))throw Error("Cannot find square root");return i}}let s=(t+en)/es;return function(e,a){if(e.pow(a,n)===e.neg(e.ONE))throw Error("Cannot find square root");let o=r,l=e.pow(e.mul(e.ONE,i),t),u=e.pow(a,s),f=e.pow(a,t);for(;!e.eql(f,e.ONE);){if(e.eql(f,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(f);t<o&&!e.eql(r,e.ONE);t++)r=e.sqr(r);let r=e.pow(l,en<<BigInt(o-t-1));l=e.sqr(r),u=e.mul(u,r),f=e.mul(f,l),o=t}return u}}(e)}(e),o=Object.freeze({ORDER:e,BITS:n,BYTES:s,MASK:ee(n),ZERO:ei,ONE:en,create:t=>ef(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error(`Invalid field element: expected bigint, got ${typeof t}`);return ei<=t&&t<e},is0:e=>e===ei,isOdd:e=>(e&en)===en,neg:t=>ef(-t,e),eql:(e,t)=>e===t,sqr:t=>ef(t*t,e),add:(t,r)=>ef(t+r,e),sub:(t,r)=>ef(t-r,e),mul:(t,r)=>ef(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<ei)throw Error("Expected power > 0");if(r===ei)return e.ONE;if(r===en)return t;let i=e.ONE,n=t;for(;r>ei;)r&en&&(i=e.mul(i,n)),n=e.sqr(n),r>>=en;return i})(o,e,t),div:(t,r)=>ef(t*ed(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>ed(t,e),sqrt:i.sqrt||(e=>a(o,e)),invertBatch:e=>(function(e,t){let r=Array(t.length),i=t.reduce((t,i,n)=>e.is0(i)?t:(r[n]=t,e.mul(t,i)),e.ONE),n=e.inv(i);return t.reduceRight((t,i,n)=>e.is0(i)?t:(r[n]=e.mul(t,r[n]),e.mul(t,i)),n),r})(o,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?Y(e,s):W(e,s),fromBytes:e=>{if(e.length!==s)throw Error(`Fp.fromBytes: expected ${s}, got ${e.length}`);return r?G(e):M(K(e))}});return Object.freeze(o)}(eE,void 0,!0),eT={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:e_,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:q,randomBytes:function(e=32){if(I&&"function"==typeof I.getRandomValues)return I.getRandomValues(new Uint8Array(e));throw Error("crypto.getRandomValues must be defined")},adjustScalarBytes:function(e){return e[0]&=248,e[31]&=127,e[31]|=64,e},uvRatio:eL},ek=function(e){let t=function(e){let t=(er(e.Fp,eg.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),er(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ep(e.n,e.nBitLength),...e,p:e.Fp.ORDER}));return er(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(e),{Fp:r,n:i,prehash:n,hash:s,randomBytes:a,nByteLength:o,h:l}=t,u=ex<<BigInt(8*o)-ew,f=r.create,c=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:r.sqrt(e*r.inv(t))}}catch(e){return{isValid:!1,value:eb}}}),d=t.adjustScalarBytes||(e=>e),h=t.domain||((e,t,r)=>{if(t.length||r)throw Error("Contexts/pre-hash are not supported");return e}),g=e=>"bigint"==typeof e&&eb<e,p=(e,t)=>g(e)&&g(t)&&e<t,m=e=>e===eb||p(e,u);function y(e,t){if(p(e,t))return e;throw Error(`Expected valid scalar < ${t}, got ${typeof e} ${e}`)}function b(e){return e===eb?e:y(e,i)}let w=new Map;function x(e){if(!(e instanceof z))throw Error("ExtendedPoint expected")}class z{constructor(e,t,r,i){if(this.ex=e,this.ey=t,this.ez=r,this.et=i,!m(e))throw Error("x required");if(!m(t))throw Error("y required");if(!m(r))throw Error("z required");if(!m(i))throw Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof z)throw Error("extended point not allowed");let{x:t,y:r}=e||{};if(!m(t)||!m(r))throw Error("invalid affine point");return new z(t,r,ew,f(t*r))}static normalizeZ(e){let t=r.invertBatch(e.map(e=>e.ez));return e.map((e,r)=>e.toAffine(t[r])).map(z.fromAffine)}_setWindowSize(e){this._WINDOW_SIZE=e,w.delete(this)}assertValidity(){let{a:e,d:r}=t;if(this.is0())throw Error("bad point: ZERO");let{ex:i,ey:n,ez:s,et:a}=this,o=f(i*i),l=f(n*n),u=f(s*s),c=f(u*u),d=f(o*e);if(f(u*f(d+l))!==f(c+f(r*f(o*l))))throw Error("bad point: equation left != right (1)");if(f(i*n)!==f(s*a))throw Error("bad point: equation left != right (2)")}equals(e){x(e);let{ex:t,ey:r,ez:i}=this,{ex:n,ey:s,ez:a}=e,o=f(t*a),l=f(n*i),u=f(r*a),c=f(s*i);return o===l&&u===c}is0(){return this.equals(z.ZERO)}negate(){return new z(f(-this.ex),this.ey,this.ez,f(-this.et))}double(){let{a:e}=t,{ex:r,ey:i,ez:n}=this,s=f(r*r),a=f(i*i),o=f(ex*f(n*n)),l=f(e*s),u=r+i,c=f(f(u*u)-s-a),d=l+a,h=d-o,g=l-a,p=f(c*h),m=f(d*g),y=f(c*g);return new z(p,m,f(h*d),y)}add(e){x(e);let{a:r,d:i}=t,{ex:n,ey:s,ez:a,et:o}=this,{ex:l,ey:u,ez:c,et:d}=e;if(r===BigInt(-1)){let e=f((s-n)*(u+l)),t=f((s+n)*(u-l)),r=f(t-e);if(r===eb)return this.double();let i=f(a*ex*d),h=f(o*ex*c),g=h+i,p=t+e,m=h-i,y=f(g*r),b=f(p*m),w=f(g*m);return new z(y,b,f(r*p),w)}let h=f(n*l),g=f(s*u),p=f(o*i*d),m=f(a*c),y=f((n+s)*(l+u)-h-g),b=m-p,w=m+p,S=f(g-r*h),E=f(y*b),B=f(w*S),I=f(y*S);return new z(E,B,f(b*w),I)}subtract(e){return this.add(e.negate())}wNAF(e){return B.wNAFCached(this,w,e,z.normalizeZ)}multiply(e){let{p:t,f:r}=this.wNAF(y(e,i));return z.normalizeZ([t,r])[0]}multiplyUnsafe(e){let t=b(e);return t===eb?E:this.equals(E)||t===ew?this:this.equals(S)?this.wNAF(t).p:B.unsafeLadder(this,t)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return B.unsafeLadder(this,i).is0()}toAffine(e){let{ex:t,ey:i,ez:n}=this,s=this.is0();null==e&&(e=s?ez:r.inv(n));let a=f(t*e),o=f(i*e),l=f(n*e);if(s)return{x:eb,y:ew};if(l!==ew)throw Error("invZ was invalid");return{x:a,y:o}}clearCofactor(){let{h:e}=t;return e===ew?this:this.multiplyUnsafe(e)}static fromHex(e,i=!1){let{d:n,a:s}=t,a=r.BYTES,o=(e=Q("pointHex",e,a)).slice(),l=e[a-1];o[a-1]=-129&l;let d=G(o);d===eb||(i?y(d,u):y(d,r.ORDER));let h=f(d*d),{isValid:g,value:p}=c(f(h-ew),f(n*h-s));if(!g)throw Error("Point.fromHex: invalid y coordinate");let m=(p&ew)===ew,b=(128&l)!=0;if(!i&&p===eb&&b)throw Error("Point.fromHex: x=0 and x_0=1");return b!==m&&(p=f(-p)),z.fromAffine({x:p,y:d})}static fromPrivateKey(e){return I(e).point}toRawBytes(){let{x:e,y:t}=this.toAffine(),i=Y(t,r.BYTES);return i[i.length-1]|=e&ew?128:0,i}toHex(){return K(this.toRawBytes())}}z.BASE=new z(t.Gx,t.Gy,ew,f(t.Gx*t.Gy)),z.ZERO=new z(eb,ew,ew,eb);let{BASE:S,ZERO:E}=z,B=function(e,t){let r=(e,t)=>{let r=t.negate();return e?r:t},i=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:r,unsafeLadder(t,r){let i=e.ZERO,n=t;for(;r>em;)r&ey&&(i=i.add(n)),n=n.double(),r>>=ey;return i},precomputeWindow(e,t){let{windows:r,windowSize:n}=i(t),s=[],a=e,o=a;for(let e=0;e<r;e++){o=a,s.push(o);for(let e=1;e<n;e++)o=o.add(a),s.push(o);a=o.double()}return s},wNAF(t,n,s){let{windows:a,windowSize:o}=i(t),l=e.ZERO,u=e.BASE,f=BigInt(2**t-1),c=2**t,d=BigInt(t);for(let e=0;e<a;e++){let t=e*o,i=Number(s&f);s>>=d,i>o&&(i-=c,s+=ey);let a=t+Math.abs(i)-1,h=e%2!=0,g=i<0;0===i?u=u.add(r(h,n[t])):l=l.add(r(g,n[a]))}return{p:l,f:u}},wNAFCached(e,t,r,i){let n=e._WINDOW_SIZE||1,s=t.get(e);return s||(s=this.precomputeWindow(e,n),1!==n&&t.set(e,i(s))),this.wNAF(n,s,r)}}}(z,8*o);function I(e){e=Q("private key",e,o);let t=Q("hashed private key",s(e),2*o),r=d(t.slice(0,o)),n=t.slice(o,2*o),a=ef(G(r),i),l=S.multiply(a),u=l.toRawBytes();return{head:r,prefix:n,scalar:a,point:l,pointBytes:u}}function A(e=new Uint8Array,...t){return ef(G(s(h(X(...t),Q("context",e),!!n))),i)}return S._setWindowSize(8),{CURVE:t,getPublicKey:function(e){return I(e).pointBytes},sign:function(e,t,s={}){e=Q("message",e),n&&(e=n(e));let{prefix:a,scalar:l,pointBytes:u}=I(t),f=A(s.context,a,e),c=S.multiply(f).toRawBytes(),d=ef(f+A(s.context,c,u,e)*l,i);return b(d),Q("result",X(c,Y(d,r.BYTES)),2*o)},verify:function(e,t,i,s=eS){let a,o,l;let{context:u,zip215:f}=s,c=r.BYTES;e=Q("signature",e,2*c),t=Q("message",t),n&&(t=n(t));let d=G(e.slice(c,2*c));try{a=z.fromHex(i,f),o=z.fromHex(e.slice(0,c),f),l=S.multiplyUnsafe(d)}catch(e){return!1}if(!f&&a.isSmallOrder())return!1;let h=A(u,o.toRawBytes(),a.toRawBytes(),t);return o.add(a.multiplyUnsafe(h)).subtract(l).clearCofactor().equals(z.ZERO)},ExtendedPoint:z,utils:{getExtendedPublicKey:I,randomPrivateKey:()=>a(r.BYTES),precompute:(e=8,t=z.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}}(eT);({...eT});let eD=(e_.ORDER+BigInt(3))/BigInt(8);function eq(e){if(!(e instanceof eZ))throw Error("RistrettoPoint expected")}e_.pow(ev,eD),e_.sqrt(e_.neg(e_.ONE)),e_.ORDER,BigInt(5),BigInt(8),BigInt(486662),function(e,t){if(!e.isOdd)throw Error("Field doesn't have isOdd");let r=e.sqrt(t);e.isOdd(r)&&e.neg(r)}(e_,e_.neg(BigInt(486664)));let eP=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),eC=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),eH=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),ej=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),eF=e=>eL(eA,e),eK=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),eM=e=>ek.CURVE.Fp.create(bytesToNumberLE(e)&eK);function eV(e){let{d:t}=ek.CURVE,r=ek.CURVE.Fp.ORDER,i=ek.CURVE.Fp.create,n=i(null*e*e),s=i((n+eA)*eH),a=BigInt(-1),o=i((a-t*n)*i(n+t)),{isValid:l,value:u}=eL(s,o),f=i(u*e);isNegativeLE(f,r)||(f=i(-f)),l||(u=f),l||(a=n);let c=i(a*(n-eA)*ej-o),d=u*u,h=i((u+u)*o),g=i(c*eP),p=i(eA-d),m=i(eA+d);return new ek.ExtendedPoint(i(h*m),i(p*g),i(g*m),i(h*p))}class eZ{constructor(e){this.ep=e}static fromAffine(e){return new eZ(ek.ExtendedPoint.fromAffine(e))}static hashToCurve(e){let t=eV(eM((e=ensureBytes("ristrettoHash",e,64)).slice(0,32))),r=eV(eM(e.slice(32,64)));return new eZ(t.add(r))}static fromHex(e){e=ensureBytes("ristrettoHex",e,32);let{a:t,d:r}=ek.CURVE,i=ek.CURVE.Fp.ORDER,n=ek.CURVE.Fp.create,s="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",a=eM(e);if(!equalBytes(numberToBytesLE(a,32),e)||isNegativeLE(a,i))throw Error(s);let o=n(a*a),l=n(eA+t*o),u=n(eA-t*o),f=n(l*l),c=n(u*u),d=n(t*r*f-c),{isValid:h,value:g}=eF(n(d*c)),p=n(g*u),m=n(g*p*d),y=n((a+a)*p);isNegativeLE(y,i)&&(y=n(-y));let b=n(l*m),w=n(y*b);if(!h||isNegativeLE(w,i)||b===eI)throw Error(s);return new eZ(new ek.ExtendedPoint(y,b,eA,w))}toRawBytes(){let e,{ex:t,ey:r,ez:i,et:n}=this.ep,s=ek.CURVE.Fp.ORDER,a=ek.CURVE.Fp.create,o=a(a(i+r)*a(i-r)),l=a(t*r),u=a(l*l),{value:f}=eF(a(o*u)),c=a(f*o),d=a(f*l),h=a(c*d*n);if(isNegativeLE(n*h,s)){let i=a(null*r),n=a(null*t);t=i,r=n,e=a(c*eC)}else e=d;isNegativeLE(t*h,s)&&(r=a(-r));let g=a((i-r)*e);return isNegativeLE(g,s)&&(g=a(-g)),numberToBytesLE(g,32)}toHex(){return bytesToHex(this.toRawBytes())}toString(){return this.toHex()}equals(e){eq(e);let{ex:t,ey:r}=this.ep,{ex:i,ey:n}=e.ep,s=ek.CURVE.Fp.create,a=s(t*n)===s(r*i),o=s(r*n)===s(t*i);return a||o}add(e){return eq(e),new eZ(this.ep.add(e.ep))}subtract(e){return eq(e),new eZ(this.ep.subtract(e.ep))}multiply(e){return new eZ(this.ep.multiply(e))}multiplyUnsafe(e){return new eZ(this.ep.multiplyUnsafe(e))}double(){return new eZ(this.ep.double())}negate(){return new eZ(this.ep.negate())}}let eJ=()=>({install(e){e.eddsa={generateKeypair:()=>S(x.RG.generate()),createKeypairFromSecretKey:e=>S(x.RG.fromSecretKey(e)),createKeypairFromSeed:e=>S(x.RG.fromSeed(e)),isOnCurve:e=>x.nh.isOnCurve((0,z.I)((0,w.ZL)(e))),findPda:(e,t)=>{let[r,i]=x.nh.findProgramAddressSync(t,(0,z.I)((0,w.ZL)(e)));return[(0,z.D)(r),i]},sign:(e,t)=>ek.sign(e,t.secretKey.slice(0,32)),verify:(e,t,r)=>ek.verify(t,e,(0,w._8)(r))}}});var eG=r(34911);let eW=()=>({install(e){e.http={send:async e=>{let t;let r=e.headers?Object.entries(e.headers).reduce((e,[t,r])=>({...e,[t.toLowerCase()]:(Array.isArray(r)?r.join(", "):r).toLowerCase()}),{}):{};t=r["content-type"]?.includes("application/json")&&e.data?JSON.stringify(e.data):e.data;let i={method:e.method,body:t,headers:r,follow:e.maxRedirects,signal:e.signal,timeout:e.timeout},n=await eG(e.url,i),s=n.headers.get("content-type")?.includes("application/json")??!1,a=await n.text();return{data:(s?JSON.parse(a):void 0)??a,body:a,ok:n.ok,status:n.status,statusText:n.statusText,headers:Object.fromEntries(n.headers.entries())}}}}});class eY extends n{name="ProgramError";constructor(e,t,r){super(e,"program",`${t.name} [${t.publicKey}]`,r),this.program=t,this.logs=r?.logs,this.logs&&(this.message+=`
Program Logs:
${this.logs.map(e=>`| ${e}`).join("\n")}
`)}}class eQ extends s{name="ProgramNotRecognizedError";constructor(e,t){super(`The provided program ${(0,w.uO)(e)?"address":"name"} [${e}] is not recognized in ${"*"===t?"any":`the [${t}]`} cluster. Did you forget to register this program? If so, you may use "context.programs.add(myProgram)" to fix this.`),this.identifier=e,this.cluster=t}}class eX extends eY{name="ProgramErrorNotRecognizedError";constructor(e,t){super(`The program [${e.name}] at address [${e.publicKey}] raised an error${t.code?` of code [${t.code}]`:""} that is not recognized by the programs registered on the SDK. Please check the underlying program error below for more details.`,e,t)}}let e0=()=>({install(e){e.programs=function e(t,r=[],i={}){let n=[...r],s={...i},a=(e,t="current")=>{let r=l(t),i=f(e);return(0,w.uO)(i)?r.some(e=>e.publicKey===i):r.some(e=>e.name===i)},o=(e,t="current")=>{let r=u(t),i=l(t),n=f(e),s=(0,w.uO)(n)?i.find(e=>e.publicKey===n):i.find(e=>e.name===n);if(!s)throw new eQ(n,r);return s},l=(e="current")=>{let t=u(e);return"*"===t?n:n.filter(e=>e.isOnCluster(t))},u=e=>"current"===e?t.rpc.getCluster():e,f=(e,t=[])=>{if((0,w.uO)(e)||void 0===s[e])return e;let r=[...t,e];if(t.includes(e))throw Error(`Circular binding detected: ${r.join(" -> ")}`);return f(s[e],r)};return{has:a,get:o,getPublicKey:(e,t,r)=>{try{return o(e,r).publicKey}catch(e){if(void 0===t)throw e;return(0,w.ZL)(t)}},all:l,add:(e,t=!0)=>{!t&&a(e.publicKey,"*")||n.unshift(e)},bind:(e,t)=>{s[e]=t,f(e)},unbind:e=>{delete s[e]},clone:()=>e(t,n,s),resolveError:(e,t)=>{let r;if(!Array.isArray(e.logs)||0===e.logs.length)return null;let i=e.logs.join("\n"),n=e.message.match(/Error processing Instruction (\d+):/)?.[1]??null,s=i.match(/Custom program error: (0x[a-f0-9]+)/i)?.[1]??null,a=s?parseInt(s,16):null;if(null===n||null===a)return null;let l=parseInt(n,10),u=t.message.instructions?.[l]?.programIndex??null,f=u?t.message.accounts[u]:null;if(!f)return null;try{r=o(f)}catch(e){return null}return r.getErrorFromCode(a,e)??new eX(r,e)}}}(e)}}),e1=["api.mainnet-beta.solana.com","ssc-dao.genesysgo.net"],e2=["api.devnet.solana.com","psytrbhymqlkfrhudd.dev.genesysgo.net"],e8=["api.testnet.solana.com"],e4=["localhost","127.0.0.1"],e3=e=>{let t=new URL(e).hostname;return e1.includes(t)?"mainnet-beta":e2.includes(t)?"devnet":e8.includes(t)?"testnet":e4.includes(t)?"localnet":e.includes("mainnet")?"mainnet-beta":e.includes("devnet")?"devnet":e.includes("testnet")?"testnet":e.includes("local")?"localnet":"custom"},e6=e=>BigInt(e="object"==typeof e?e.toString():e),e5=e=>"string"==typeof e||e7(e)?e6(Math.floor(new Date(e).getTime()/1e3)):e6(e),e7=e=>"[object Date]"===Object.prototype.toString.call(e),e9=(e,t,r)=>({basisPoints:e6(e),identifier:t,decimals:r}),te=e=>e9(e,"SOL",9),tt=e=>e.basisPoints===BigInt(0);var tr=r(48834);function ti(e){return new x.Sl({keys:e.keys.map(e=>({...e,pubkey:(0,z.I)(e.pubkey)})),programId:(0,z.I)(e.programId),data:tr.Buffer.from(e.data)})}function tn(e){return{version:e.version,header:e.header,accounts:e.staticAccountKeys.map(z.D),blockhash:e.recentBlockhash,instructions:e.compiledInstructions.map(e=>({programIndex:e.programIdIndex,accountIndexes:e.accountKeyIndexes,data:new Uint8Array(e.data)})),addressLookupTables:e.addressTableLookups.map(e=>({publicKey:(0,z.D)(e.accountKey),writableIndexes:e.writableIndexes,readonlyIndexes:e.readonlyIndexes}))}}var ts=r(4001);function ta(e,t,r){let i=null,n=()=>i||(i="string"==typeof t?new x.ew(t,r):t),s=e3(n().rpcEndpoint),a=async(e,t={})=>te(await n().getBalance((0,z.I)(e),t)),o=async(e={})=>n().getLatestBlockhash(e),l=async(e,t={})=>!tt(await a(e,t)),u=async(e,t,r={})=>{let i=await n().requestAirdrop((0,z.I)(e),Number(t.basisPoints));if(r.strategy){await f(ts.J.serialize(i),r);return}await f(ts.J.serialize(i),{...r,strategy:{type:"blockhash",...await o()}})},f=async(e,t)=>n().confirmTransaction("blockhash"===t.strategy.type?{...t.strategy,signature:ts.J.deserialize(e)[0]}:{...t.strategy,signature:ts.J.deserialize(e)[0],nonceAccountPubkey:(0,z.I)(t.strategy.nonceAccountPubkey)},t.commitment);return{getEndpoint:()=>n().rpcEndpoint,getCluster:()=>s,getAccount:async(e,t={})=>tl(await n().getAccountInfo((0,z.I)(e),t),e),getAccounts:async(e,t={})=>(await n().getMultipleAccountsInfo(e.map(z.I),t)).map((t,r)=>tl(t,e[r])),getProgramAccounts:async(e,t={})=>(await n().getProgramAccounts((0,z.I)(e),{...t,filters:t.filters?.map(e=>(function(e){if(!("memcmp"in e))return e;let{bytes:t,...r}=e.memcmp;return{memcmp:{...r,bytes:ts.J.deserialize(t)[0]}}})(e))})).map(({pubkey:e,account:t})=>to(t,(0,z.D)(e))),getBlockTime:async(e,t={})=>{let r=await n().getBlockTime(e);return r?e5(r):null},getBalance:a,getRent:async(e,t={})=>{let r=e=>n().getMinimumBalanceForRentExemption(e,t.commitment);return t.includesHeaderBytes?te(BigInt(await r(0))/BigInt(128)*BigInt(e)):te(await r(e))},getSlot:async(e={})=>n().getSlot(e),getLatestBlockhash:o,getTransaction:async(t,r={})=>{let i=await n().getTransaction(ts.J.deserialize(t)[0],{commitment:r.commitment,maxSupportedTransactionVersion:0});if(!i)return null;if(!i.meta)throw Error("Transaction meta is missing.");let{transaction:s,meta:a}=i,o=tn(s.message),l=e=>(0,z.D)(new x.nh(e)),u=e=>({accountIndex:e.accountIndex,amount:e9(e.uiTokenAmount.amount,"splToken",e.uiTokenAmount.decimals),mint:l(e.mint),owner:e.owner?l(e.owner):null});return{message:o,serializedMessage:e.transactions.serializeMessage(o),signatures:s.signatures.map(ts.J.serialize),meta:{fee:te(a.fee),logs:a.logMessages??[],preBalances:a.preBalances.map(te),postBalances:a.postBalances.map(te),preTokenBalances:(a.preTokenBalances??[]).map(u),postTokenBalances:(a.postTokenBalances??[]).map(u),innerInstructions:a.innerInstructions?.map(e=>({index:e.index,instructions:e.instructions.map(e=>({programIndex:e.programIdIndex,accountIndexes:e.accounts,data:ts.J.serialize(e.data)}))}))??null,loadedAddresses:{writable:(a.loadedAddresses?.writable??[]).map(z.D),readonly:(a.loadedAddresses?.readonly??[]).map(z.D)},computeUnitsConsumed:a.computeUnitsConsumed?BigInt(a.computeUnitsConsumed):null,err:a.err}}},getSignatureStatuses:async(e,t={})=>(await n().getSignatureStatuses(e.map(e=>ts.J.deserialize(e)[0]),{searchTransactionHistory:t?.searchTransactionHistory??!1})).value.map(e=>e?{slot:e.slot,confirmations:e.confirmations,error:e.err,commitment:e.confirmationStatus??null}:null),accountExists:l,airdrop:u,call:async(e,t,r={})=>{let i=n()._rpcClient,s=function(e,t,r){if(!t&&!r)return e;let i={};return t&&(i.commitment=t),r&&(i={...i,...r}),e.push(i),e}(t?[...t]:[],r.commitment,r.extra);return new Promise((t,n)=>{let a=(e,r)=>e?n(e):t(r.result);r.id?i.request(e,s,r.id,a):i.request(e,s,a)})},sendTransaction:async(t,r={})=>{try{let i=await n().sendRawTransaction(e.transactions.serialize(t),r);return ts.J.serialize(i)}catch(i){let r=null;throw i instanceof Error&&"logs"in i&&(r=e.programs.resolveError(i,t)),r||i}},confirmTransaction:f,get connection(){return n()}}}function to(e,t){return{executable:e.executable,owner:(0,z.D)(e.owner),lamports:te(e.lamports),rentEpoch:e.rentEpoch,publicKey:t,data:new Uint8Array(e.data)}}function tl(e,t){return e?{...to(e,t),exists:!0}:{exists:!1,publicKey:t}}function tu(e,t){return{install(r){r.rpc="string"==typeof e?ta(r,e,t):ta(r,e)}}}let tf=(e,t)=>e.reduce((e,r,i)=>{let n=Math.floor(i/t);return e[n]||(e[n]=[]),e[n].push(r),e},[]),tc=(e,t=100)=>({...e,getAccounts:async(r,i)=>{let n=tf(r,t).map(t=>e.getAccounts(t,i));return(await Promise.all(n)).flat()}}),td=(e=100)=>({install(t){t.rpc=tc(t.rpc,e)}}),th=e=>{let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),r=0;return e.forEach(e=>{t.set(e,r),r+=e.length}),t},tg=(e,t)=>{if(e.length>=t)return e;let r=new Uint8Array(t).fill(0);return r.set(e),r},tp=(e,t)=>tg(e.slice(0,t),t);function tm(e){return e.reduce((e,t)=>null===e||null===t?null:e+t,0)}class ty extends Error{name="InvalidNumberOfItemsError";constructor(e,t,r){super(`Expected [${e}] to have ${t} items, got ${r}.`)}}class tb extends Error{name="InvalidArrayLikeRemainderSizeError";constructor(e,t){super(`The remainder of the buffer (${e} bytes) cannot be split into chunks of ${t} bytes. Serializers of "remainder" size must have a remainder that is a multiple of its item size. In other words, ${e} modulo ${t} should be equal to zero.`)}}class tw extends Error{name="UnrecognizedArrayLikeSerializerSizeError";constructor(e){super(`Unrecognized array-like serializer size: ${JSON.stringify(e)}`)}}class tx extends Error{name="InvalidDataEnumVariantError";constructor(e,t){super(`Invalid data enum variant. Expected one of [${t.join(", ")}], got "${e}".`)}}class tz extends Error{name="InvalidScalarEnumVariantError";constructor(e,t,r,i){super(`Invalid scalar enum variant. Expected one of [${t.join(", ")}] or a number between ${r} and ${i}, got "${e}".`)}}class tS extends RangeError{name="EnumDiscriminatorOutOfRangeError";constructor(e,t,r){super(`Enum discriminator out of range. Expected a number between ${t} and ${r}, got ${e}.`)}}function tE(e,t={}){let r=e.map(e=>e.description).join(", ");return{description:t.description??`tuple(${r})`,fixedSize:tm(e.map(e=>e.fixedSize)),maxSize:tm(e.map(e=>e.maxSize)),serialize:t=>{if(t.length!==e.length)throw new ty("tuple",e.length,t.length);return th(e.map((e,r)=>e.serialize(t[r])))},deserialize:(t,r=0)=>{let i=[];return e.forEach(e=>{let[n,s]=e.deserialize(t,r);i.push(n),r=s}),[i,r]}}}class tB extends Error{name="DeserializingEmptyBufferError";constructor(e){super(`Serializer [${e}] cannot deserialize empty buffers.`)}}class tI extends Error{name="NotEnoughBytesError";constructor(e,t,r){super(`Serializer [${e}] expected ${t} bytes, got ${r}.`)}}class tA extends Error{name="ExpectedFixedSizeSerializerError";constructor(e){super(e??="Expected a fixed-size serializer, got a variable-size one.")}}(b=i||(i={})).Little="le",b.Big="be";class tv extends RangeError{name="NumberOutOfRangeError";constructor(e,t,r,i){super(`Serializer [${e}] expected number to be between ${t} and ${r}, got ${i}.`)}}function t$(e){let t;let r=e.name;return e.size>1&&(r+=(t=!("endian"in e.options)||e.options.endian===i.Little)?"(le)":"(be)"),{description:e.options.description??r,fixedSize:e.size,maxSize:e.size,serialize(r){e.range&&tO(e.name,e.range[0],e.range[1],r);let i=new ArrayBuffer(e.size);return e.set(new DataView(i),r,t),new Uint8Array(i)},deserialize(r,i=0){let n=r.slice(i,i+e.size);tR("i8",n,e.size);let s=tN(n);return[e.get(s,t),i+e.size]}}}let tU=e=>e.buffer.slice(e.byteOffset,e.byteLength+e.byteOffset),tN=e=>new DataView(tU(e)),tO=(e,t,r,i)=>{if(i<t||i>r)throw new tv(e,t,r,i)},tR=(e,t,r)=>{if(0===t.length)throw new tB(e);if(t.length<r)throw new tI(e,r,t.length)},tL=(e={})=>t$({name:"u32",size:4,range:[0,Number("0xffffffff")],set:(e,t,r)=>e.setUint32(0,Number(t),r),get:(e,t)=>e.getUint32(0,t),options:e});function t_(e,t,r,i){if("number"==typeof e)return[e,i];if("object"==typeof e)return e.deserialize(r,i);if("remainder"===e){let e=tm(t);if(null===e)throw new tA('Serializers of "remainder" size must have fixed-size items.');let n=r.slice(i).length;if(n%e!=0)throw new tb(n,e);return[n/e,i]}throw new tw(e)}function tT(e){return"object"==typeof e?e.description:`${e}`}function tk(e,t){if("number"!=typeof e)return null;if(0===e)return 0;let r=tm(t);return null===r?null:r*e}function tD(e,t){return"object"==typeof e?e.serialize(t):new Uint8Array}function tq(e,t={}){let r=t.size??tL();if("remainder"===r&&null===e.fixedSize)throw new tA('Serializers of "remainder" size must have fixed-size items.');return{description:t.description??`array(${e.description}; ${tT(r)})`,fixedSize:tk(r,[e.fixedSize]),maxSize:tk(r,[e.maxSize]),serialize:t=>{if("number"==typeof r&&t.length!==r)throw new ty("array",r,t.length);return th([tD(r,t.length),...t.map(t=>e.serialize(t))])},deserialize:(t,i=0)=>{if("object"==typeof r&&0===t.slice(i).length)return[[],i];let[n,s]=t_(r,[e.fixedSize],t,i);i=s;let a=[];for(let r=0;r<n;r+=1){let[r,n]=e.deserialize(t,i);a.push(r),i=n}return[a,i]}}}function tP(e,t,r={}){let i=r.size??tL();if("remainder"===i&&(null===e.fixedSize||null===t.fixedSize))throw new tA('Serializers of "remainder" size must have fixed-size items.');return{description:r.description??`map(${e.description}, ${t.description}; ${tT(i)})`,fixedSize:tk(i,[e.fixedSize,t.fixedSize]),maxSize:tk(i,[e.maxSize,t.maxSize]),serialize:r=>{if("number"==typeof i&&r.size!==i)throw new ty("map",i,r.size);let n=Array.from(r,([r,i])=>th([e.serialize(r),t.serialize(i)]));return th([tD(i,r.size),...n])},deserialize:(r,n=0)=>{let s=new Map;if("object"==typeof i&&0===r.slice(n).length)return[s,n];let[a,o]=t_(i,[e.fixedSize,t.fixedSize],r,n);n=o;for(let i=0;i<a;i+=1){let[i,a]=e.deserialize(r,n);n=a;let[o,l]=t.deserialize(r,n);n=l,s.set(i,o)}return[s,n]}}}function tC(e,t={}){let r=t.size??tL();if("remainder"===r&&null===e.fixedSize)throw new tA('Serializers of "remainder" size must have fixed-size items.');return{description:t.description??`set(${e.description}; ${tT(r)})`,fixedSize:tk(r,[e.fixedSize]),maxSize:tk(r,[e.maxSize]),serialize:t=>{if("number"==typeof r&&t.size!==r)throw new ty("set",r,t.size);let i=Array.from(t,t=>e.serialize(t));return th([tD(r,t.size),...i])},deserialize:(t,i=0)=>{let n=new Set;if("object"==typeof r&&0===t.slice(i).length)return[n,i];let[s,a]=t_(r,[e.fixedSize],t,i);i=a;for(let r=0;r<s;r+=1){let[r,s]=e.deserialize(t,i);i=s,n.add(r)}return[n,i]}}}let tH=e=>({__option:"Some",value:e}),tj=()=>({__option:"None"}),tF=e=>e&&"object"==typeof e&&"__option"in e&&("Some"===e.__option&&"value"in e||"None"===e.__option),tK=e=>"Some"===e.__option,tM=e=>null!==e?tH(e):tj(),tV=(e={})=>t$({name:"u8",size:1,range:[0,Number("0xff")],set:(e,t)=>e.setUint8(0,Number(t)),get:e=>e.getUint8(0),options:e});function tZ(e,t={}){let r=t.prefix??tV(),i=t.fixed??!1,n=`; ${tT(r)}`,s=0===e.fixedSize?r.fixedSize:null;if(i){if(null===e.fixedSize||null===r.fixedSize)throw new tA("Fixed options can only be used with fixed-size serializers");n+="; fixed",s=r.fixedSize+e.fixedSize}return{description:t.description??`option(${e.description+n})`,fixedSize:s,maxSize:tm([r.maxSize,e.maxSize]),serialize:t=>{let n=tF(t)?t:tM(t),s=r.serialize(Number(tK(n)));if(i){let t=e.fixedSize;return th([s,tK(n)?e.serialize(n.value).slice(0,t):new Uint8Array(t).fill(0)])}return th([s,tK(n)?e.serialize(n.value):new Uint8Array])},deserialize:(t,n=0)=>{if(0===t.slice(n).length)return[tj(),n];let s=n+(r.fixedSize??0)+(e.fixedSize??0),[a,o]=r.deserialize(t,n);if(n=o,0===a)return[tj(),i?s:n];let[l,u]=e.deserialize(t,n);return n=u,[tH(l),i?s:n]}}}function tJ(e,t={}){let r=t.prefix??tV(),i=t.fixed??!1,n=`; ${tT(r)}`,s=0===e.fixedSize?r.fixedSize:null;if(i){if(null===e.fixedSize||null===r.fixedSize)throw new tA("Fixed nullables can only be used with fixed-size serializers");n+="; fixed",s=r.fixedSize+e.fixedSize}return{description:t.description??`nullable(${e.description+n})`,fixedSize:s,maxSize:tm([r.maxSize,e.maxSize]),serialize:t=>{let n=r.serialize(Number(null!==t));if(i){let r=e.fixedSize;return th([n,null!==t?e.serialize(t).slice(0,r):new Uint8Array(r).fill(0)])}return th([n,null!==t?e.serialize(t):new Uint8Array])},deserialize:(t,n=0)=>{if(0===t.slice(n).length)return[null,n];let s=n+(r.fixedSize??0)+(e.fixedSize??0),[a,o]=r.deserialize(t,n);if(n=o,0===a)return[null,i?s:n];let[l,u]=e.deserialize(t,n);return n=u,[l,i?s:n]}}}function tG(e,t={}){let r=e.map(([e,t])=>`${String(e)}: ${t.description}`).join(", ");return{description:t.description??`struct(${r})`,fixedSize:tm(e.map(([,e])=>e.fixedSize)),maxSize:tm(e.map(([,e])=>e.maxSize)),serialize:t=>th(e.map(([e,r])=>r.serialize(t[e]))),deserialize:(t,r=0)=>{let i={};return e.forEach(([e,n])=>{let[s,a]=n.deserialize(t,r);r=a,i[e]=s}),[i,r]}}}function tW(e,t={}){let r=t.size??tV(),i=Object.keys(e),n=Object.values(e),s=n.some(e=>"number"==typeof e),a=n.filter(e=>"string"==typeof e).join(", "),o=s?n.length/2-1:n.length-1,l=s?[...i]:[...new Set([...i,...n])];return{description:t.description??`enum(${a}; ${r.description})`,fixedSize:r.fixedSize,maxSize:r.maxSize,serialize:e=>{if(!function(e){let t="number"==typeof e&&(e<0||e>o),r="string"==typeof e&&!l.includes(e);if(t||r)throw new tz(e,l,0,o)}(e),"number"==typeof e)return r.serialize(e);let t=n.indexOf(e);return t>=0?r.serialize(t):r.serialize(i.indexOf(e))},deserialize:(e,t=0)=>{if(0===e.slice(t).length)throw new tB("enum");let[i,a]=r.deserialize(e,t),l=Number(i);if(t=a,l<0||l>o)throw new tS(l,0,o);return[s?l:n[l],t]}}}function tY(e,t={}){let r=t.size??tV(),i=e.map(([e,t])=>`${String(e)}${t?`: ${t.description}`:""}`).join(", "),n=e.every((e,t,r)=>e[1].fixedSize===r[0][1].fixedSize)?e[0][1].fixedSize:null,s=e.map(([,e])=>e.maxSize).reduce((e,t)=>null===e||null===t?null:Math.max(e,t),0);return{description:t.description??`dataEnum(${i}; ${r.description})`,fixedSize:0===e.length?r.fixedSize:tm([r.fixedSize,n]),maxSize:0===e.length?r.maxSize:tm([r.maxSize,s]),serialize:t=>{let i=e.findIndex(([e])=>t.__kind===e);if(i<0)throw new tx(t.__kind,e.map(([e])=>e));return th([r.serialize(i),e[i][1].serialize(t)])},deserialize:(t,i=0)=>{if(0===t.slice(i).length)throw new tB("dataEnum");let[n,s]=r.deserialize(t,i);i=s;let a=e[Number(n)]??null;if(!a)throw new tS(n,0,e.length-1);let[o,l]=a[1].deserialize(t,i);return i=l,[{__kind:a[0],...o??{}},i]}}}function tQ(e,t,r){return{description:r??`fixed(${t}, ${e.description})`,fixedSize:t,maxSize:t,serialize:r=>tp(e.serialize(r),t),deserialize:(r,i=0)=>{if((r=r.slice(i,i+t)).length<t)throw new tI("fixSerializer",t,r.length);null!==e.fixedSize&&(r=tp(r,e.fixedSize));let[n]=e.deserialize(r,0);return[n,i+t]}}}function tX(e={}){let t=e.size??tL(),r=e.encoding??h,i=e.description??`string(${r.description}; ${tT(t)})`;return"variable"===t?{...r,description:i}:"number"==typeof t?tQ(r,t,i):{description:i,fixedSize:null,maxSize:null,serialize:e=>{let i=r.serialize(e);return th([t.serialize(i.length),i])},deserialize:(e,i=0)=>{if(0===e.slice(i).length)throw new tB("string");let[n,s]=t.deserialize(e,i),a=Number(n);i=s;let o=e.slice(i,i+a);if(o.length<a)throw new tI("string",a,o.length);let[l,u]=r.deserialize(o);return[l,i+=u]}}}function t0(e={}){let t=e.size??tV();if(null===t.fixedSize)throw new tA("Serializer [bool] requires a fixed size.");return{description:e.description??`bool(${t.description})`,fixedSize:t.fixedSize,maxSize:t.fixedSize,serialize:e=>t.serialize(e?1:0),deserialize:(e,r=0)=>{if(0===e.slice(r).length)throw new tB("bool");let[i,n]=t.deserialize(e,r);return[1===i,n]}}}function t1(e={}){return{description:e.description??"unit",fixedSize:0,maxSize:0,serialize:()=>new Uint8Array,deserialize:(e,t=0)=>[void 0,t]}}let t2=(e={})=>t$({name:"u16",size:2,range:[0,Number("0xffff")],set:(e,t,r)=>e.setUint16(0,Number(t),r),get:(e,t)=>e.getUint16(0,t),options:e}),t8=(e={})=>t$({name:"u64",size:8,range:[0,BigInt("0xffffffffffffffff")],set:(e,t,r)=>e.setBigUint64(0,BigInt(t),r),get:(e,t)=>e.getBigUint64(0,t),options:e}),t4=(e={})=>t$({name:"u128",size:16,range:[0,BigInt("0xffffffffffffffffffffffffffffffff")],set:(e,t,r)=>{let i=r?8:0,n=r?0:8;e.setBigUint64(i,BigInt(t)>>64n,r),e.setBigUint64(n,0xffffffffffffffffn&BigInt(t),r)},get:(e,t)=>{let r=t?8:0,i=t?0:8;return(e.getBigUint64(r,t)<<64n)+e.getBigUint64(i,t)},options:e}),t3=(e={})=>t$({name:"i8",size:1,range:[-Number("0x7f")-1,Number("0x7f")],set:(e,t)=>e.setInt8(0,Number(t)),get:e=>e.getInt8(0),options:e}),t6=(e={})=>t$({name:"i16",size:2,range:[-Number("0x7fff")-1,Number("0x7fff")],set:(e,t,r)=>e.setInt16(0,Number(t),r),get:(e,t)=>e.getInt16(0,t),options:e}),t5=(e={})=>t$({name:"i32",size:4,range:[-Number("0x7fffffff")-1,Number("0x7fffffff")],set:(e,t,r)=>e.setInt32(0,Number(t),r),get:(e,t)=>e.getInt32(0,t),options:e}),t7=(e={})=>t$({name:"i64",size:8,range:[-BigInt("0x7fffffffffffffff")-1n,BigInt("0x7fffffffffffffff")],set:(e,t,r)=>e.setBigInt64(0,BigInt(t),r),get:(e,t)=>e.getBigInt64(0,t),options:e}),t9=(e={})=>t$({name:"i128",size:16,range:[-BigInt("0x7fffffffffffffffffffffffffffffff")-1n,BigInt("0x7fffffffffffffffffffffffffffffff")],set:(e,t,r)=>{let i=r?8:0,n=r?0:8;e.setBigInt64(i,BigInt(t)>>64n,r),e.setBigUint64(n,0xffffffffffffffffn&BigInt(t),r)},get:(e,t)=>{let r=t?8:0,i=t?0:8;return(e.getBigInt64(r,t)<<64n)+e.getBigUint64(i,t)},options:e}),re=(e={})=>t$({name:"f32",size:4,set:(e,t,r)=>e.setFloat32(0,Number(t),r),get:(e,t)=>e.getFloat32(0,t),options:e}),rt=(e={})=>t$({name:"f64",size:8,set:(e,t,r)=>e.setFloat64(0,Number(t),r),get:(e,t)=>e.getFloat64(0,t),options:e});function rr(e={}){let t=e.size??"variable",r=e.description??`bytes(${tT(t)})`,i={description:r,fixedSize:null,maxSize:null,serialize:e=>new Uint8Array(e),deserialize:(e,t=0)=>{let r=e.slice(t);return[r,t+r.length]}};return"variable"===t?i:"number"==typeof t?tQ(i,t,r):{description:r,fixedSize:null,maxSize:null,serialize:e=>{let r=i.serialize(e);return th([t.serialize(r.length),r])},deserialize:(e,r=0)=>{if(0===e.slice(r).length)throw new tB("bytes");let[n,s]=t.deserialize(e,r),a=Number(n);r=s;let o=e.slice(r,r+a);if(o.length<a)throw new tI("bytes",a,o.length);let[l,u]=i.deserialize(o);return[l,r+=u]}}}function ri(e={}){return{description:e.description??"publicKey",fixedSize:32,maxSize:32,serialize:e=>(0,w._8)((0,w.ZL)(e)),deserialize:(e,t=0)=>{let r=e.slice(t,t+32);if(0===r.length)throw new tB("publicKey");if(r.length<w.kz)throw new tI("publicKey",w.kz,r.length);return[(0,w.ZL)(r),t+32]}}}let rn=(e={})=>({install(t){t.serializer=function(e={}){return{tuple:tE,array:tq,map:tP,set:tC,option:tZ,nullable:tJ,struct:tG,enum:tW,dataEnum:tY,string:tX,bool:t0,unit:t1,u8:tV,u16:t2,u32:tL,u64:t8,u128:t4,i8:t3,i16:t6,i32:t5,i64:t7,i128:t9,f32:re,f64:rt,bytes:rr,publicKey:ri}}(e)}}),rs=(e={})=>({description:e.description??"shortU16",fixedSize:null,maxSize:3,serialize:e=>{tO("shortU16",0,65535,e);let t=[0];for(let r=0;;r+=1){let i=e>>7*r;if(0===i)break;let n=127&i;t[r]=n,r>0&&(t[r-1]|=128)}return new Uint8Array(t)},deserialize:(e,t=0)=>{let r=0,i=0;for(;++i;){let n=i-1,s=e[t+n];if(r|=(127&s)<<7*n,(128&s)==0)break}return[r,t+i]}}),ra=()=>({install(e){e.transactions=function(){let e=e=>i().serialize(e),t=e=>i().deserialize(e)[0],r=()=>{var e,r,i;return{...(e=tG([["signatures",tq(rr({size:64}),{size:rs()})],["serializedMessage",rr()]]),r=e=>e,i=e=>({...e,message:t(e.serializedMessage)}),{description:e.description,fixedSize:e.fixedSize,maxSize:e.maxSize,serialize:t=>e.serialize(r(t)),deserialize:(t,r=0)=>{let[n,s]=e.deserialize(t,r);return i?[i(n,t,r),s]:[n,s]}}),description:"Transaction"}},i=()=>({description:"TransactionMessage",fixedSize:null,maxSize:null,serialize:e=>n(e.version).serialize(e),deserialize:(e,t=0)=>{let[r]=a().deserialize(e,t);return n(r).deserialize(e,t)}}),n=e=>tG([["version",a()],["header",o()],["accounts",tq(ri(),{size:rs()})],["blockhash",tX({encoding:ts.J,size:32})],["instructions",tq(l(),{size:rs()})],["addressLookupTables",tq(u(),{size:"legacy"===e?0:rs()})]]),a=()=>({description:"TransactionVersion",fixedSize:null,maxSize:1,serialize:e=>new Uint8Array("legacy"===e?[]:[128|e]),deserialize:(e,t=0)=>{let r=e.slice(t);if(0===r.length||(128&r[0])==0)return["legacy",t];let i=127&r[0];if(i>0)throw new s(`Unsupported transaction version: ${i}.`);return[i,t+1]}}),o=()=>tG([["numRequiredSignatures",tV()],["numReadonlySignedAccounts",tV()],["numReadonlyUnsignedAccounts",tV()]]),l=()=>tG([["programIndex",tV()],["accountIndexes",tq(tV(),{size:rs()})],["data",rr({size:rs()})]]),u=()=>tG([["publicKey",ri()],["writableIndexes",tq(tV(),{size:rs()})],["readonlyIndexes",tq(tV(),{size:rs()})]]);return{create:t=>{let r="legacy"===t.version?x.v0.compile({payerKey:(0,z.I)(t.payer),instructions:t.instructions.map(ti),recentBlockhash:t.blockhash}):x.RL.compile({payerKey:(0,z.I)(t.payer),instructions:t.instructions.map(ti),recentBlockhash:t.blockhash,addressLookupTableAccounts:t.addressLookupTables?.map(e=>new x.gw({key:z.I(e.publicKey),state:{addresses:e.addresses.map(z.I),authority:void 0,deactivationSlot:BigInt(`0x${"ff".repeat(8)}`),lastExtendedSlot:0,lastExtendedSlotStartIndex:0}}))}),i=tn(r),n=new x.GS(r,t.signatures);return{message:i,serializedMessage:e(i),signatures:n.signatures}},serialize:e=>r().serialize(e),deserialize:e=>r().deserialize(e)[0],serializeMessage:e,deserializeMessage:t}}()}});function ro(e,t){return u().use({install(r){r.use(rn()),r.use(e0()),r.use(eW()),r.use(y()),r.use(eJ()),r.use("string"==typeof e?tu(e,t):tu(e)),r.use(td(t?.getAccountsChunkSize)),r.use(ra())}})}},73485:function(e,t,r){r.d(t,{kz:function(){return s},uO:function(){return o},ZL:function(){return a},_8:function(){return u}});var i=r(4001);class n extends Error{name="InvalidPublicKeyError";constructor(e,t){super(`The provided public key is invalid: ${e}${t=t?`. ${t}`:""}`),this.invalidPublicKey=e}}let s=32;function a(e,t=!0){let r="string"==typeof e?e:"object"==typeof e&&"publicKey"in e?e.publicKey:"object"==typeof e&&"toBase58"in e?e.toBase58():Array.isArray(e)?e[0]:i.J.deserialize(e)[0];return t&&l(r),r}let o=e=>{try{return l(e),!0}catch(e){return!1}};function l(e){if("string"!=typeof e)throw new n(e,"Public keys must be strings.");u(e)}let u=e=>{let t;if(e.length<32||e.length>44)throw new n(e,"Public keys must be between 32 and 44 characters.");try{t=i.J.serialize(e)}catch(t){throw new n(e,"Public keys must be base58 encoded.")}if(t.length!==s)throw new n(e,`Public keys must be ${s} bytes.`);return t}},4001:function(e,t,r){r.d(t,{J:function(){return n}});class i extends Error{name="InvalidBaseStringError";constructor(e,t,r){super(`Expected a string of base ${t}, got [${e}].`),this.cause=r}}let n=(e=>{let t=e.length,r=BigInt(t);return{description:`base${t}`,fixedSize:null,maxSize:null,serialize(n){if(!n.match(RegExp(`^[${e}]*$`)))throw new i(n,t);if(""===n)return new Uint8Array;let s=[...n],a=s.findIndex(t=>t!==e[0]),o=Array(a=-1===a?s.length:a).fill(0);if(a===s.length)return Uint8Array.from(o);let l=s.slice(a),u=0n,f=1n;for(let t=l.length-1;t>=0;t-=1)u+=f*BigInt(e.indexOf(l[t])),f*=r;let c=[];for(;u>0n;)c.unshift(Number(u%256n)),u/=256n;return Uint8Array.from(o.concat(c))},deserialize(t,i=0){if(0===t.length)return["",0];let n=t.slice(i),s=n.findIndex(e=>0!==e);s=-1===s?n.length:s;let a=e[0].repeat(s);if(s===n.length)return[a,t.length];let o=n.slice(s).reduce((e,t)=>256n*e+BigInt(t),0n),l=[];for(;o>0n;)l.unshift(e[Number(o%r)]),o/=r;return[a+l.join(""),t.length]}}})("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},56965:function(e,t,r){r.d(t,{D:function(){return n},I:function(){return s}});var i=r(10856);function n(e){return e.toBase58()}function s(e){return new i.nh(e)}}}]);