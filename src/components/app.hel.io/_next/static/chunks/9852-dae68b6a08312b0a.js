!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="53250fac-398d-42be-8270-c82d2dc6d26a",e._sentryDebugIdIdentifier="sentry-dbid-53250fac-398d-42be-8270-c82d2dc6d26a")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9852],{87631:function(e,t,r){r.d(t,{H:function(){return n},n:function(){return a}});var n="hel-text-3xl hel-text-black helio-text-display",a="hel-text-sm helio-text-display"},4900:function(e,t,r){r.d(t,{R:function(){return O}}),r(2784);var n=r(95235),a=r(68277),s=r(87631),o=r(52322),i=function(){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h1",{className:s.H,children:"Loading..."}),(0,o.jsx)("p",{className:s.n,children:"Approving transaction"})]})},c=r(27853),u=function(e){var t=e.activeStep,r=void 0===t?1:t,n=e.totalSteps,a=Array(n).fill(0).map(function(e,t){return t+1});return(0,o.jsxs)("div",{className:"hel-flex hel-mt-2 hel-mb-3 hel-gap-2.5",children:[a.map(function(e){var t;return(0,o.jsx)("div",{className:(t=e<=r,(0,c.Z)("hel-h-2 hel-w-10 hel-rounded-lg",t?"helio-background-primary":"helio-background-secondary")),"aria-hidden":"true"},e)}),(0,o.jsxs)("span",{className:"hel-sr-only",children:["On step ",r," of ",n]})]})},l=function(e){var t=e.totalSteps;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h1",{className:s.H,children:"Finalising..."}),(0,o.jsx)(u,{activeStep:t,totalSteps:t}),(0,o.jsxs)("p",{className:s.n,children:[t,". Nearly there..."]})]})},p=r(42458),d=new Map([[p.T.SIGN_TRANSACTION,1],[p.T.SUBMIT_TRANSACTION,2]]),f=new Map([[p.T.GET_PERMISSION,1],[p.T.SIGN_TRANSACTION,2],[p.T.SUBMIT_TRANSACTION,3]]),h=function(e){var t=e.totalSteps,r=t===p.F.EVM_NATIVE_TOKEN?d.get(p.T.GET_PERMISSION):f.get(p.T.GET_PERMISSION);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h1",{className:s.H,children:"Loading..."}),(0,o.jsx)(u,{totalSteps:t,activeStep:r}),(0,o.jsxs)("p",{className:s.n,children:[r,". Confirm to give permission"]})]})},v=function(e){var t=e.totalSteps,r=t===p.F.EVM_NATIVE_TOKEN?d.get(p.T.SIGN_TRANSACTION):f.get(p.T.SIGN_TRANSACTION);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h1",{className:s.H,children:"Confirming..."}),(0,o.jsx)(u,{totalSteps:t,activeStep:r}),(0,o.jsxs)("p",{className:s.n,children:[r,". Confirm to submit transaction"]})]})},S=r(20603),g=r(23970),m=r(55120);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var x=function(e){var t=e.step,r=void 0===t?S.LoadingModalStep.DEFAULT:t,n=e.totalSteps,s=void 0===n?0:n,c=(0,g.v)(),u=c.hasLogoGradient,p=c.showLoadingModalBottomBar;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a.J,{iconName:"Helio",gradient:u,className:"helio-fill-helio-primary hel-mx-2 hel-w-8 hel-h-8 hel-animate-spin"}),(0,o.jsxs)("div",{className:"hel-mx-2 hel-mt-12",children:[function(){var e={totalSteps:s};switch(r){case S.LoadingModalStep.GET_PERMISSION:return(0,o.jsx)(h,T({},e));case S.LoadingModalStep.SIGN_TRANSACTION:return(0,o.jsx)(v,T({},e));case S.LoadingModalStep.SUBMIT_TRANSACTION:return(0,o.jsx)(l,T({},e));case S.LoadingModalStep.DEFAULT:default:return(0,o.jsx)(i,{})}}(),p&&(0,o.jsx)(m.m,{})]})]})},b=r(22219),N=r(95587),k=function(e){var t=e.blockchain,r=e.currency;return t===b.BlockchainSymbol.SOL?p.F.SOL:t&&(null==r?void 0:r.symbol)===N.l.get(t)?p.F.EVM_NATIVE_TOKEN:p.F.ERC20},w=r(7083),E=r(71787),O=function(e){var t=e.onHide,r=e.step,n=(0,w.rI)(),a=n.blockchain,s=n.currency;return(0,o.jsx)(E.u,{onHide:t,className:"helio-background-loading-modal",children:(0,o.jsx)(x,{step:r,totalSteps:k({blockchain:a,currency:s})})})}},55120:function(e,t,r){r.d(t,{m:function(){return c}});var n=r(65119),a=r(33939),s=r(27695),o=r(49243),i=r(52322),c=function(){var e=(0,n.U)().currencies.length-3;return(0,i.jsxs)("div",{className:"hel-flex hel-flex-row hel-mt-12 hel-items-center hel-justify-between",children:[(0,i.jsx)("a",{href:"https://docs.hel.io",target:"_blank",rel:"noreferrer",children:(0,i.jsx)("p",{className:"helio-text-link hel-underline",children:"New to Helio?"})}),(0,i.jsxs)("div",{className:"hel-flex hel-flex-row hel-items-center hel-gap-x-2",children:[(0,i.jsx)("p",{className:"hel-pr-1",children:"We accept"}),(0,i.jsx)(o.T,{token:a.NQ.USDC,size:24}),(0,i.jsx)(o.T,{token:a.NQ.SOL,size:24}),(0,i.jsx)(o.T,{token:a.NQ.ETH,size:24}),(0,i.jsxs)(s.Pill,{size:"md",variant:"neutral",children:["+",e]})]})]})}},95587:function(e,t,r){r.d(t,{l:function(){return o}});var n,a=r(22219),s=((n={}).POL="POL",n.ETH="ETH",n),o=new Map([[a.BlockchainSymbol.ETH,s.ETH],[a.BlockchainSymbol.POLYGON,s.POL],[a.BlockchainSymbol.BASE,s.ETH]])},64380:function(e,t,r){r.d(t,{Q:function(){return s},_:function(){return o}});var n=r(10856),a=r(48834).Buffer,s=function(e){if(null==e.serializedTransaction)throw Error("Serialized transaction is required for versioned transactions");var t=JSON.parse(e.serializedTransaction),r=a.from(Object.values(t));return n.GS.deserialize(r)},o=function(e){if(null!=e.serializedTransaction)return n.YW.from(JSON.parse(e.serializedTransaction).data);var t=n.v0.from(a.from(JSON.parse(e.transactionMessage).data));return n.YW.populate(t)}},25875:function(e,t,r){r.d(t,{HF:function(){return S},OJ:function(){return h},PO:function(){return v}});var n,a,s,o=r(20406),i=r(82841),c=r.n(i),u=r(22219),l=r(10717),p=r.n(l),d=r(16480),f=r(48834).Buffer,h=(n=(0,o.Z)(c().mark(function e(t,r,n){var a,s,o;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.signTransaction(t);case 3:return a=e.sent,n&&(s=a.serializeMessage(),o=p().sign.detached(s,n.secretKey),a.addSignature(n.publicKey,f.from(o))),e.abrupt("return",JSON.stringify(a.serialize({requireAllSignatures:!1})));case 8:return e.prev=8,e.t0=e.catch(0),(0,d.O7)(e.t0),e.abrupt("return","");case 12:case"end":return e.stop()}},e,null,[[0,8]])})),function(e,t,r){return n.apply(this,arguments)}),v=(a=(0,o.Z)(c().mark(function e(t,r){var n;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.signTransaction(t);case 3:return n=e.sent,e.abrupt("return",u.SolanaSerializationService.serializeVersionedTransaction(n));case 7:return e.prev=7,e.t0=e.catch(0),(0,d.O7)(e.t0),e.abrupt("return","");case 11:case"end":return e.stop()}},e,null,[[0,7]])})),function(e,t){return a.apply(this,arguments)}),S=(s=(0,o.Z)(c().mark(function e(t,r,n,a){var s,o,i;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.signAllTransactions([t,r]);case 3:return s=e.sent,a&&(o=s[1].serializeMessage(),i=p().sign.detached(o,a.secretKey),s[1].addSignature(a.publicKey,f.from(i))),e.abrupt("return",{swapSignedTx:s[0],standardSignedTx:JSON.stringify(s[1].serialize())});case 8:throw e.prev=8,e.t0=e.catch(0),(0,d.O7)(e.t0),Error(String(e.t0));case 12:case"end":return e.stop()}},e,null,[[0,8]])})),function(e,t,r,n){return s.apply(this,arguments)})},96131:function(e,t,r){r.d(t,{S:function(){return c}});var n=r(13089),a=r(96412),s=r(90129),o=r(29017),i=r(48200),c=function(e){(0,s.Z)(c,e);var t,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,i.Z)(c);return e=t?Reflect.construct(r,arguments,(0,i.Z)(this).constructor):r.apply(this,arguments),(0,o.Z)(this,e)});function c(e){return(0,a.Z)(this,c),r.call(this,e)}return(0,n.Z)(c)}((0,r(6848).Z)(Error))},7572:function(e,t,r){r.d(t,{h:function(){return w}});var n=r(20406),a=r(96412),s=r(13089),o=r(95235),i=r(82841),c=r.n(i),u=r(22219),l=r(10856),p=r(5272),d=r(96332),f=r(19674),h=r(21133),v=r(51882),S=r(56473),g=r(16480),m=r(96131),y=r(54891),T=r(90129),x=r(29017),b=r(48200),N=function(e){(0,T.Z)(n,e);var t,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,b.Z)(n);return e=t?Reflect.construct(r,arguments,(0,b.Z)(this).constructor):r.apply(this,arguments),(0,x.Z)(this,e)});function n(e){return(0,a.Z)(this,n),r.call(this,e)}return(0,s.Z)(n,[{key:"extractSignature",value:function(){return(0,p.Wf)(this.message,"signature","using")}}]),n}((0,r(6848).Z)(Error)),k=r(58551),w=function(){var e,t,r,i,T,x,b,w,E,O;function A(e,t,r,n){(0,a.Z)(this,A),(0,o.Z)(this,"shouldCheckStatus",!0),this.helioApiAdapter=e,this.generalNetwork=t,this.platform=r,this.apiBasePath=n,this.network=(0,d.c_)(u.BlockchainSymbol.SOL,t)}return(0,s.Z)(A,[{key:"init",value:(e=(0,n.Z)(c().mark(function e(t){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.connection=t.connection,this.wallet=t.wallet,this.mintAddress=new l.nh(t.mintAddress);case 3:case"end":return e.stop()}},e,this)})),function(t){return e.apply(this,arguments)})},{key:"transformTransactionCancelledErrorMessage",value:function(e){var t,r;return(null==e||null===(t=e.error)||void 0===t?void 0:t.message)==="Error: Nft collection is not verified"?{errorMessage:"The selected NFT collection is not verified. Please select a verified collection."}:null!=e&&null!==(r=e.error)&&void 0!==r&&r.message.toLowerCase().includes("affiliate")?{errorMessage:e.error.message}:{errorMessage:"An unknown error occurred"}}},{key:"handleTransaction",value:(t=(0,n.Z)(c().mark(function e(t){var r,n,a,s,o,i,u,l,p,d,f,v,S,m,T,x;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init(t);case 2:return s=null!==(r=null!==(n=(a=t).paymentId)&&void 0!==n?n:a.paymentStateId)&&void 0!==r?r:a.paymentRequestId,o=a.quantity?Number(a.quantity):1,i=a.splitWallets,u=a.canSwapTokens,l=a.swapRouteToken,e.next=10,this.sendTransaction(String(s),{request:this.getTransactionParams(t),symbol:t.symbol,quantity:o,splitWallets:i,canSwapTokens:u,swapRouteToken:l,pricingCurrencyRateToken:null==t?void 0:t.rateToken,discordProps:t.discordProps,accessCodeProps:t.accessCodeProps,affiliateCode:t.affiliateCode,customerDetails:t.customerDetails,productDetails:t.productDetails,sourceIntegration:t.sourceIntegration,sourceIntegrationVersion:t.sourceIntegrationVersion,setLoadingModalStep:t.setLoadingModalStep,telegramUser:t.telegramUser});case 10:if(null!=(p=e.sent)&&p.signedTx){e.next=14;break}return void 0!==t.onCancel?t.onCancel(this.transformTransactionCancelledErrorMessage(p)):t.onError({errorMessage:h.A}),e.abrupt("return");case 14:if(d=p.token,f=p.signedTx,v=p.swapSignedTx,S=p.addressLookupTableAccounts,m=p.headers,(0,y.B)(f)){e.next=18;break}return t.onError({errorMessage:"Failed to send transaction"}),e.abrupt("return");case 18:if(!(null!=t.preSubmit)){e.next=30;break}return e.prev=19,e.next=22,t.preSubmit();case 22:T=e.sent,e.next=30;break;case 25:return e.prev=25,e.t0=e.catch(19),(0,g.O7)(e.t0),t.onError({errorMessage:"Failed to execute pre submit operation"}),e.abrupt("return");case 30:return x=this.getTransactionPayload(t,f,d,v,T,S),e.next=33,this.handleApprovedTransaction({payload:x,props:t,headers:m});case 33:case"end":return e.stop()}},e,this,[[19,25]])})),function(e){return t.apply(this,arguments)})},{key:"executeCommand",value:(r=(0,n.Z)(c().mark(function e(t,r){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),(0,g.O7)(e.t0),r("Unable to verify the transaction.");case 9:case"end":return e.stop()}},e,null,[[0,5]])})),function(e,t){return r.apply(this,arguments)})},{key:"sendTransaction",value:(i=(0,n.Z)(c().mark(function e(t,r){var n,a,s,o,i,u,l,p,d,f,h,v,S,m,y,T;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.request,a=r.symbol,s=r.quantity,o=r.splitWallets,i=r.canSwapTokens,u=r.swapRouteToken,l=r.pricingCurrencyRateToken,p=r.discordProps,d=r.accessCodeProps,f=r.affiliateCode,h=r.customerDetails,v=r.setLoadingModalStep,S=r.productDetails,m=r.sourceIntegration,y=r.sourceIntegrationVersion,T=r.telegramUser,e.prev=1,e.next=4,this.executeTransaction(t,{request:n,symbol:a,quantity:s,splitWallets:o,canSwapTokens:i,swapRouteToken:u,pricingCurrencyRateToken:l,discordProps:p,accessCodeProps:d,setLoadingModalStep:v,affiliateCode:f,customerDetails:h,productDetails:S,sourceIntegration:m,sourceIntegrationVersion:y,telegramUser:T});case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),(0,g.O7)(e.t0),e.abrupt("return",{error:new N(String(e.t0))});case 11:case"end":return e.stop()}},e,this,[[1,7]])})),function(e,t){return i.apply(this,arguments)})},{key:"handleApprovedTransaction",value:(T=(0,n.Z)(c().mark(function e(t){var r,n,a,s,o;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,n=t.props,a=t.headers,e.prev=1,e.next=4,this.approveTransactionByType(r,a);case 4:return s=e.sent,e.next=7,this.handleApproveResponse(s,n,r);case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),(0,g.O7)(e.t0),null===(o=n.onError)||void 0===o||o.call(n,{errorMessage:"Failed to submit transaction"});case 13:case"end":return e.stop()}},e,this,[[1,9]])})),function(e){return T.apply(this,arguments)})},{key:"handleApproveResponse",value:(x=(0,n.Z)(c().mark(function e(t,r,n){var a;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t.status){e.next=2;break}return e.abrupt("return",this.handleLegacyApproveResponse(t,r.onSuccess,n));case 2:e.t0=t.status,e.next=e.t0===u.TransactionStatus.PENDING?5:e.t0===u.TransactionStatus.INITIATED?5:e.t0===u.TransactionStatus.FAILED?9:e.t0===u.TransactionStatus.SUCCESS?10:11;break;case 5:if(this.onPending(t,r.onPending,n),!this.shouldCheckStatus){e.next=8;break}return e.abrupt("return",this.checkStatus(r,n,t.statusToken));case 8:return e.abrupt("break",11);case 9:return e.abrupt("return",null===(a=r.onError)||void 0===a?void 0:a.call(r,{errorMessage:"Failed to submit transaction"}));case 10:return e.abrupt("return",this.onSuccess(t,r.onSuccess,n));case 11:case"end":return e.stop()}},e,this)})),function(e,t,r){return x.apply(this,arguments)})},{key:"handleLegacyApproveResponse",value:function(e,t,r){this.onSuccess(e,t,r)}},{key:"checkStatus",value:(b=(0,n.Z)(c().mark(function e(t,r,n){var a,s;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=n){e.next=3;break}return t.onError({errorMessage:"Unable to check transaction status"}),e.abrupt("return");case 3:return a=5*f.vL,e.next=6,(0,p.gw)(a);case 6:return e.next=8,this.helioApiAdapter.getTransactionStatus(n,this.statusEndpoint);case 8:return s=e.sent,e.abrupt("return",this.handleApproveResponse(s,t,r));case 10:case"end":return e.stop()}},e,this)})),function(e,t,r){return b.apply(this,arguments)})},{key:"approveTransactionByType",value:(w=(0,n.Z)(c().mark(function e(t,r){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!=t.signedSwapTransaction)){e.next=6;break}return e.next=3,this.approveSwapTransaction(t,r);case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,this.approveTransaction(t,r);case 8:e.t0=e.sent;case 9:return e.abrupt("return",e.t0);case 10:case"end":return e.stop()}},e,this)})),function(e,t){return w.apply(this,arguments)})},{key:"approveSwapTransaction",value:(E=(0,n.Z)(c().mark(function e(t,r){var n,a;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,S.g8)(this.platform,this.apiBasePath,"/".concat(this.endpoint,"/swap?waitForConfirmation=false"),{method:"POST",body:JSON.stringify(t),headers:r});case 2:return n=e.sent,e.next=5,n.json();case 5:if(a=e.sent,n.status!==v.o.CREATED){e.next=8;break}return e.abrupt("return",a);case 8:if(n.status!==v.o.FAILED_DEPENDENCY){e.next=10;break}throw new m.S(a.message);case 10:throw Error(a.message);case 11:case"end":return e.stop()}},e,this)})),function(e,t){return E.apply(this,arguments)})},{key:"approveTransaction",value:(O=(0,n.Z)(c().mark(function e(t,r){var n,a;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,S.g8)(this.platform,this.apiBasePath,"/".concat(this.endpoint,"?waitForConfirmation=false"),{method:"POST",body:JSON.stringify(t),headers:r});case 2:return n=e.sent,e.next=5,n.json();case 5:if(a=e.sent,n.status!==v.o.CREATED){e.next=8;break}return e.abrupt("return",a);case 8:if(n.status!==v.o.FAILED_DEPENDENCY){e.next=10;break}throw new m.S(a.message);case 10:throw Error(a.message);case 11:case"end":return e.stop()}},e,this)})),function(e,t){return O.apply(this,arguments)})},{key:"onSuccess",value:function(e,t,r){t({transaction:e.transactionSignature,data:e,blockchainSymbol:u.BlockchainSymbol.SOL,swapTransactionSignature:(0,k.qK)(e)?e.swapTransactionSignature:void 0,redirectUrl:e.redirectUrl,senderPK:r.sender})}},{key:"onPending",value:function(e,t,r){t({transaction:e.transactionSignature,data:e})}}]),A}()},58551:function(e,t,r){r.d(t,{qK:function(){return a},AW:function(){return s},qn:function(){return u},zq:function(){return i},sG:function(){return l},kb:function(){return o},v_:function(){return c}});var n=r(22219),a=function(e){return(null==e?void 0:e.swapTransactionSignature)!=null},s=function(e){return e===n.NftDropState.FAILED_CANCEL},o=function(e,t){var r=null==e?void 0:e.state,a=r===n.NftDropState.ESCROWED||r===n.NftDropState.PENDING_ESCROW,s=r===n.NftDropState.PENDING_CANCEL||r===n.NftDropState.FAILED_CANCEL;return(a||s)&&!0===t&&(null==e?void 0:e.mintAddresses)!=null},i=function(e){return e===n.NftDropState.PENDING_CANCEL||e===n.NftDropState.PENDING_ESCROW},c=function(e){return i(e)||s(e)},u=function(e){return e===n.NftDropState.FAILED_ESCROW||e===n.NftDropState.FAILED_CANCEL},l=function(e){return e===n.NftDropState.TRANSFERRED}},54891:function(e,t,r){r.d(t,{B:function(){return n}});var n=function(e){return!(null==e||0===e.length)}}}]);